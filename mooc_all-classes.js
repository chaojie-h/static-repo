/*hacking*/var language={en:{undo:"Undo",redo:"Redo",Bold:"Bold",underline:"Underline",Strikethrough:"Strikethrough",Overline:"Overline",Italic:"Italic",Number:"Number",Catalog:"Catalog",Background:"Highlight",packUp:"Fold",Tables:"Tables",Template:"Template",Color:"Color",AlignLeft:"Left",AlignRight:"Right",Center:"Center",AddIndent:"Add",ReduceIndent:"Reduce",Spacing:"Spacing",SimSun:"SimSun",SimKai:"SimKai",microsoftYaHei:"Microsoft YaHei",SimHei:"SimHei",SimLi:"SimLi",Picture:"Picture",Link:"Link",File:"File",Reading:"Reading",Live:"Live",CXClass:"Class",Video:"Video",Books:"Books",Attachments:"Attachments",Quiz:"Quiz",Discussion:"Topic",expandReading:"Expanding",Symbols:"Symbols",Formulas:"Formulas",Audio:"Audio",readingLink:"Pages",Flash:"Flash",Resources:"Resources",ChaoxingVideo:"Online Video",CXDiscovery:"Discovery",CXJournals:"Journals",ExternalLinks:"External Links",input:"Input",SchoolResources:"School Resources",ExternalResources:"External Resources","3DResources":"3D Resources",Recording:"Recording",Survey:"Survey",Underline:"Underline",Format:"Format",ClearFormatting:"Clear Formatting",FormatPainter:"Format Painter",More:"More",Plugin:"Plug-in",Undo:"Undo",Redo:"Redo",DownloadTools:"Tools",onlinePreview:"Online",appPreview:"APP",LocalUpload:"Local Upload",CloudDisk:"Cloud Disk",relatePoint:"Knowledge points",taskPoint:"Task",Barrage:"Barrage",playCurrent:"Play in situ",download:"Download",downloadCard:"Download",fold:"Fold",unFold:"Unfold",Watch:"Watch",Edit:"Edit",liveDetails:"Live details",forFinish:"for finish",Check:"Check",preview:"Preview",open:"Open",deleteWorkTip:"Once deleted, the homework is not recoverable. Are you sure to delete？",deleteFailed:"Delete failed: ",noDrag:"No drag",noSwitch:"No switch",knowledgePoint:"Knowledge",beSureDelete:"Deleting the content will delete all the class students' learning records at the same time. Statistics are delayed to varying degrees depending on class size. Are you sure to delete?",secondsForFinished:"seconds to complete",limitTurnTime:"Limit turning time",seconds:"seconds",cancelTaskTip:"Canceling the task point will delete all the class students' learning records at the same time. Are you sure to delete?",speed:"Speed",endMoreThanStart:"The end page number cannot be less than the start page number",endLessTotal:"The end page number cannot be more than the total page number",saveToCloudDisk:"Save to the cloud disk (if you are not satisfied with the video, please save to the cloud disk and edit it)",Saving:"Saving",Vote:"Vote",compositionChapters:"Composition chapters",courseChapters:"Course chapters",remarks:"Remarks",note:"Note",firstNotEdit:"First-level catalog does not allow editing content",uploadCover:"Upload cover",fileUploading:"Uploading file",coverUploading:"Uploading cover",histotyVersion:"Historical version query",addPeer:"Add peer catalog",addSub:"Add subcatalog",moveUp:"Move up",moveDown:"Move down",moveTo:"Move to",selectLast:"Select the last",importCatalog:"Import catalog",labelReuse:"Label reuse",sameCatalog:"(New catalog is the same as the previous catalog label)",quickImport:"Quick import",templateImport:"Template import",eachRow:"Each row is filled with a catalog. The level is divided into two spaces, with only three levels.",clearInput:"Clear",forExample:"For example: ",levelFist:"Level 1 catalog",levelSecond:"Level 2 catalog",levelThird:"Level 3 catalog",import:"Import",cancel:"Cancel",createFileByImport:"Create a file in the specified format by importing",composition:"Composition",course:"Course",downloadNewTemplate:"Please download the latest template files and fill in the rules in the template file strictly. The file should be encoded with UTF-8 encoding, otherwise there will be a garbled code.",selectAndUpload:"Select file and upload",downloadLatest:"Download the latest template",richText:"Rich text",selectCourseware:"Please select the courseware type to add content",noTitle:"No title",ok:"OK",confirm:"Confirm",text:"Text",loading:"Loading...",warning:"Warning",switchLabelFailed:"Failed to switch label. Please refresh and try again...",movingLabel:"Moving label...",movingLabelFailed:"Move label failed...",saveFailed:"Save failed, click OK to save again, click Cancel to abandon save",operationFailed:"Operation failed...",waitingForComplete:"Waiting for operation to complete...",newCatalog:"New course catalog",newCompositionCatalog:"New composition catalog",deleteTip:"If the subcatalogs exist in this catalog, they will be deleted together, are you sure to delete them?",saveSuccess:"Successfully",duplicateTaskPointTip:"The chapter contains duplicate task points. Please check and save.",catalog:"catalog.",textUploading:"Uploading text",loadingFailed:"Loading failed...",deleteCardTip:"Once deleted, it is not recoverable. Are you sure to delete？",transcodingFailed:" transcoding failed, please save it with other software and upload it again【9005】",transcoding:" is transcoding, you do not need to wait on this page【9001】",uploadingBy:" uploading【9002】",loadTimeOut:" load timeout, please refresh the page【9003】",loadingFailedByFile:" load failed, please try again later【9004】",validateFile:"Validating file...",Quantity:"Quantity: ",create:"Create",videoSaveSuccess:"The video has been saved to your cloud disk",videoSaveFailed:"Save failed. Please try again later",videoSave:"Saving",saveBefore:"Save before inserting objects",copyFailed:"Copy failed",requestFailed:"Request failed",editFailed:"Edit failed",localUpload:"Local Upload",cloudDisk:"Cloud Disk",resource:"Resource",over:"Over ",use:" please use ",cxClient:"Cloud Disk client ",uploadFiles:"to upload files",support:"Supported formats include:",readAndAccept:"Uploading files means that I have read and accepted ",userAgreement:"the user agreement",overTip:"Please use Cloud Disk client to upload files over 1000mb",allFormat:"All formats",exception:"Cloud disk upload exception",sameTitleAndType:"Existing files with the same name and type. Please modify the file name and upload again.",cloudOver:"Your cloud disk space is out of use. Please clean up space.",uploadFailed:"Upload failed",serverFailed:"Server processing failed",noResult:"No results",upload:"Upload",uploadAgain:"Upload again",moreNum:"Batch insert quantity cannot be more than 10",libraryEmpty:"No files in resource library. You can add files to the course resources",getAddress:"Please wait for the address",getAddressFailed:"Get address failed",noZt:"No compositions can be added. Please add the composition in the resource module first.",toAdd:"Add to Resources",visualEditing:"Visual editing",sourceEdit:"Source code editing",deleteChapterTip:"Deleting this catalog will delete all subcatalogs under this catalog ",deleteChapterConfirmTip:"Once deleted, it is not recoverable. Are you sure to delete？",liveStreamer:"Streamer",liveUnplayed:"Unplayed",liveLiving:"Living",liveFinished:"Finished",livePlayback:"Playback",liveLivingTip:"After watching the live, you can complete the task point.",liveNotBack:"The live cannot be watched back",replace:"Replace"},"zh-cn":{undo:"撤销",redo:"重做",Bold:"加粗",underline:"下划线",Strikethrough:"中划线",Overline:"上划线",Italic:"斜体",Number:"编号",Catalog:"目录",Background:"底色",packUp:"收起",Tables:"表格",Template:"模板",Color:"颜色",AlignLeft:"左对齐",AlignRight:"右对齐",Center:"居中",AddIndent:"加缩进",ReduceIndent:"减缩进",Spacing:"行距",SimSun:"宋体",SimKai:"楷体",microsoftYaHei:"微软雅黑",SimHei:"黑体",SimLi:"隶书",Picture:"图片",Link:"链接",File:"文档",Reading:"阅读",Live:"直播",CXClass:"泛雅课堂",Video:"视频",Books:"图书",Attachments:"附件",Quiz:"章节测验",Discussion:"讨论",expandReading:"扩展阅读",Symbols:"符号",Formulas:"公式",Audio:"音频",readingLink:"图书内页",Flash:"动画",Resources:"课程资料",ChaoxingVideo:"在线视频",CXDiscovery:"超星发现",CXJournals:"超星期刊",ExternalLinks:"外部链接",input:"输入框",SchoolResources:"本校资源",ExternalResources:"三方资源","3DResources":"3D资源",Recording:"录音",Survey:"调查问卷",Underline:"划线",Format:"格式",ClearFormatting:"清除格式",FormatPainter:"格式刷",More:"更多",Plugin:"插件",Undo:"撤销",Redo:"重做",DownloadTools:"下载小工具",onlinePreview:"网页预览",appPreview:"手机预览",LocalUpload:"本地上传",CloudDisk:"云盘",relatePoint:"关联知识点",taskPoint:"任务点",Barrage:"弹幕",playCurrent:"原位播放",download:"允许下载",fold:"收起",unFold:"展开",Watch:"观看",Edit:"编辑",liveDetails:"直播详情",forFinish:"通过",Check:"查看",preview:"预览",open:"打开",deleteWorkTip:"作业删除后将无法恢复，确认删除吗？",deleteFailed:"删除失败：",noDrag:"防拖拽",noSwitch:"防窗口切换",speed:"允许倍速",knowledgePoint:"知识点",beSureDelete:"删除内容将同时删除所有班级学生学习记录，统计数据根据班级人数会有不同程度的延迟，确认删除?",secondsForFinished:"秒可完成任务点",limitTurnTime:"限制翻书时间",seconds:"秒",cancelTaskTip:"取消任务点将同时删除所有班级学生学习记录，确认删除？",endMoreThanStart:"结束页数不能小于开始页数",endLessTotal:"结束页数不能大于总页数",saveToCloudDisk:"同步到网盘（若视频出现了令您不满意的多余编辑内容，请同步到网盘后重新编辑）",Saving:"正在同步",Vote:"投票问卷",compositionChapters:"专题章节",courseChapters:"课程章节",remarks:"备注",note:"笔记",firstNotEdit:"一级目录不允许编辑内容。",uploadCover:"上传封面",fileUploading:"文件正在上传",coverUploading:"正在上传封面",histotyVersion:"历史版本查询",addPeer:"添加同级目录",addSub:"添加子目录",moveUp:"向上移动",moveDown:"向下移动",moveTo:"移动到",selectLast:"选中最后一个",importCatalog:"导入目录",labelReuse:"标签复用",sameCatalog:"(新建目录与上一个目录标签相同)",quickImport:"快速导入",templateImport:"模板导入",eachRow:"每行填写一个目录，目录的层级用两个空格区分，只支持三级目录",clearInput:"清空文本框",forExample:"比如：",levelFist:"一级目录",levelSecond:"二级目录",levelThird:"三级目录",import:"导入",cancel:"取消",createFileByImport:"通过导入功能，可从规定格式的文件中建立",composition:"专题",course:"课程",downloadNewTemplate:"请下载模板文件，并严格按照模板文件中所述规则填写，否则可能导入失败。",selectAndUpload:"选择文件并上传",downloadLatest:"下载模板",richText:"富文本",selectCourseware:"请选择您需要的课件类型添加课程内容",noTitle:"无标题",ok:"确定",confirm:"是否确定",text:"正文",loading:"正在加载内容...",warning:"警告",switchLabelFailed:"切换标签失败，请刷新重试...",movingLabel:"正在移动标签...",movingLabelFailed:"移动标签失败...",saveFailed:"保存失败,点击‘确定’重新保存，点击‘取消’放弃保存！",operationFailed:"操作失败...",waitingForComplete:"正在等待操作完毕...",newCatalog:"新建课程目录",newCompositionCatalog:"新建专题目录",deleteTip:"若该目录下存在子目录将一并删除，是否确定删除？",saveSuccess:"保存成功",duplicateTaskPointTip:"章节中含有重复的任务点或者课件信息，请检查后再提交",catalog:"目录。",textUploading:"文本正在上传",loadingFailed:"加载失败...",deleteCardTip:"删除后将无法恢复，确认删除吗？",transcodingFailed:"转码失败，请使用其他软件另存后重新上传【9005】",transcoding:"正在转码，您无需在此页面等待【9001】",uploadingBy:"上传中【9002】",loadTimeOut:"加载超时，请刷新页面重试【9003】",loadingFailedByFile:"音频加载失败，请稍后再试【9004】",validateFile:"正在验证文件...",Quantity:"题量：",create:"创建",videoSaveSuccess:"同步成功，该视频已经同步到您的网盘",videoSaveFailed:"同步失败，请您稍后再试",videoSave:"正在同步",saveBefore:"插入对象前请先进行保存",copyFailed:"复制失败",requestFailed:"请求失败",editFailed:"剪辑失败",localUpload:"本地上传",cloudDisk:"云盘",resource:"课程资料",over:"超过",use:"的文件请使用",cxClient:"云盘客户端",uploadFiles:"上传",support:"支持的格式包括：",readAndAccept:"上传附件即表示我已阅读并接受",userAgreement:"《用户协议》",overTip:'文件超过1GB，请先上传到云盘客户端，再通过"云盘客户端"添加至课程。',allFormat:"所有格式",exception:"云盘上传服务异常",sameTitleAndType:"已有相同名称和类型的文件存在，请修改文件名再上传。",cloudOver:"您的云盘空间已经用完，请清理后再继续...",uploadFailed:"上传失败",serverFailed:"服务器处理失败了",noResult:"抱歉没找到相应的结果",upload:"上传文件",uploadAgain:"重新上传",moreNum:"批量插入数量不能大于10!",libraryEmpty:"资料库为空，可在课程导航栏进入资料模块进行添加!",getAddress:"获取地址，请稍等",getAddressFailed:"获取地址失败",noZt:"暂无可添加的专题，请先在资源模块添加专题",toAdd:" 去资料模块添加 ",visualEditing:"可视化编辑",sourceEdit:"源码编辑",downloadCard:"下载",deleteChapterTip:"删除此目录将同时删除该目录下所有子目录 ",deleteChapterConfirmTip:"删除后不可恢复，是否确认删除",liveStreamer:"主播",liveUnplayed:"未开始",liveLiving:"直播中",liveFinished:"已结束",livePlayback:"可回放",liveLivingTip:"观看直播至结束方可完成任务点",liveNotBack:"直播不允许回看",replace:"替换"},"zh-tw":{undo:"撤銷",redo:"重做",Bold:"加粗",underline:"下劃線",Strikethrough:"中劃線",Overline:"上劃線",Italic:"斜體",Number:"編號",Catalog:"目錄",Background:"底色",packUp:"收起",Tables:"表格",Template:"模板",Color:"顏色",AlignLeft:"左對齊",AlignRight:"右對齊",Center:"居中",AddIndent:"加縮進",ReduceIndent:"減縮進",Spacing:"行距",SimSun:"宋體",SimKai:"楷體",microsoftYaHei:"微軟雅黑",SimHei:"黑體",SimLi:"隸書",Picture:"圖片",Link:"鏈接",File:"文檔",Reading:"閱讀",Live:"直播",CXClass:"泛雅課堂",Video:"視頻",Books:"圖書",Attachments:"附件",Quiz:"章節測驗",Discussion:"討論",expandReading:"擴展閱讀",Symbols:"符號",Formulas:"公式",Audio:"音頻",readingLink:"圖書內頁",Flash:"動畫",Resources:"課程資料",ChaoxingVideo:"在線視頻",CXDiscovery:"超星發現",CXJournals:"超星期刊",ExternalLinks:"外部鏈接",input:"輸入框",SchoolResources:"本校資源",ExternalResources:"三方資源","3DResources":"3D資源",Recording:"錄音",Survey:"調查問卷",Underline:"劃線",Format:"格式",ClearFormatting:"清除格式",FormatPainter:"格式刷",More:"更多",Plugin:"插件",Undo:"撤銷",Redo:"重做",DownloadTools:"下載小工具",onlinePreview:"網頁預覽",appPreview:"手機預覽",LocalUpload:"本地上傳",CloudDisk:"雲盤",relatePoint:"關聯知識點",taskPoint:"任務點",Barrage:"彈幕",playCurrent:"原位播放",download:"允許下載",fold:"收起",unFold:"展開",Watch:"觀看",Edit:"編輯",liveDetails:"直播詳情",forFinish:"通過",Check:"查看",preview:"預覽",open:"打開",deleteWorkTip:"作業刪除後將無法恢復，確認刪除嗎？",deleteFailed:"刪除失敗：",noDrag:"防拖拽",noSwitch:"防窗口切換",speed:"允許倍速",knowledgePoint:"知識點",beSureDelete:"刪除內容將同時刪除所有班級學生學習記錄，統計數據根據班級人數會有不同程度的延遲，確認刪除?",secondsForFinished:"秒可完成任務點",limitTurnTime:"限制翻書時間",seconds:"秒",cancelTaskTip:"取消任務點將同時刪除所有班級學生學習記錄，確認刪除？",endMoreThanStart:"結束頁數不能小於開始頁數",endLessTotal:"結束頁數不能大於總頁數",saveToCloudDisk:"同步到網盤（若視頻出現了令您不滿意的多余編輯內容，請同步到網盤後重新編輯）",Saving:"正在同步",Vote:"投票問卷",compositionChapters:"專題章節",courseChapters:"課程章節",remarks:"備註",note:"筆記",firstNotEdit:"壹級目錄不允許編輯內容。",uploadCover:"上傳封面",fileUploading:"文件正在上傳",coverUploading:"正在上傳封面",histotyVersion:"歷史版本查詢",addPeer:"添加同級目錄",addSub:"添加子目錄",moveUp:"向上移動",moveDown:"向下移動",moveTo:"移動到",selectLast:"選中最後壹個",importCatalog:"導入目錄",labelReuse:"標簽復用",sameCatalog:"(新建目錄與上壹個目錄標簽相同)",quickImport:"快速導入",templateImport:"模板導入",eachRow:"每行填寫壹個目錄，目錄的層級用兩個空格區分，只支持三級目錄",clearInput:"清空文本框",forExample:"比如：",levelFist:"壹級目錄",levelSecond:"二級目錄",levelThird:"三級目錄",import:"導入",cancel:"取消",createFileByImport:"通過導入功能，可從規定格式的文件中建立",composition:"專題",course:"課程",downloadNewTemplate:"請下載模板文件，並嚴格按照模板文件中所述規則填寫，否則可能導入失敗。",selectAndUpload:"選擇文件並上傳",downloadLatest:"下載模板",richText:"富文本",selectCourseware:"請選擇您需要的課件類型添加課程內容",noTitle:"無標題",ok:"確定",confirm:"是否確定",text:"正文",loading:"正在加載內容...",warning:"警告",switchLabelFailed:"切換標簽失敗，請刷新重試...",movingLabel:"正在移動標簽...",movingLabelFailed:"移動標簽失敗...",saveFailed:"保存失敗,點擊‘確定’重新保存，點擊‘取消’放棄保存！",operationFailed:"操作失敗...",waitingForComplete:"正在等待操作完畢...",newCatalog:"新建課程目錄",newCompositionCatalog:"新建專題目錄",deleteTip:"若該目錄下存在子目錄將壹並刪除，是否確定刪除？",saveSuccess:"保存成功",duplicateTaskPointTip:"章節中含有重復的任務點或者課件信息，請檢查後再提交",catalog:"目錄。",textUploading:"文本正在上傳",loadingFailed:"加載失敗...",deleteCardTip:"刪除後將無法恢復，確認刪除嗎？",transcodingFailed:"轉碼失敗，請使用其他軟件另存後重新上傳【9005】",transcoding:"正在轉碼，您無需在此頁面等待【9001】",uploadingBy:"上傳中【9002】",loadTimeOut:"加載超時，請刷新頁面重試【9003】",loadingFailedByFile:"音頻加載失敗，請稍後再試【9004】",validateFile:"正在驗證文件...",Quantity:"題量：",create:"創建",videoSaveSuccess:"同步成功，該視頻已經同步到您的網盤",videoSaveFailed:"同步失敗，請您稍後再試",videoSave:"正在同步",saveBefore:"插入對象前請先進行保存",copyFailed:"復制失敗",requestFailed:"請求失敗",editFailed:"剪輯失敗",localUpload:"本地上傳",cloudDisk:"雲盤",resource:"課程資料",over:"超過",use:"的文件請使用",cxClient:"雲盤客戶端",uploadFiles:"上傳",support:"支持的格式包括：",readAndAccept:"上傳附件即表示我已閱讀並接受",userAgreement:"《用戶協議》",overTip:'文件超過1GB，請先上傳到雲盤客戶端，再通過"雲盤客戶端"添加至課程。',allFormat:"所有格式",exception:"雲盤上傳服務異常",sameTitleAndType:"已有相同名稱和類型的文件存在，請修改文件名再上傳。",cloudOver:"您的雲盤空間已經用完，請清理後再繼續...",uploadFailed:"上傳失敗",serverFailed:"服務器處理失敗了",noResult:"抱歉沒找到相應的結果",upload:"上傳文件",uploadAgain:"重新上傳",moreNum:"批量插入數量不能大於10!",libraryEmpty:"資料庫為空，可在課程導航欄進入資料模塊進行添加!",getAddress:"獲取地址，請稍等",getAddressFailed:"獲取地址失敗",noZt:"暫無可添加的專題，請先在資源模塊添加專題",toAdd:" 去資料模塊添加 ",visualEditing:"可視化編輯",sourceEdit:"源碼編輯",downloadCard:"下載",deleteChapterTip:"刪除此目錄將同時刪除該目錄下所有子目錄 ",deleteChapterConfirmTip:"刪除後不可恢復，是否確認刪除",liveStreamer:"主播",liveUnplayed:"未開始",liveLiving:"直播中",liveFinished:"已結束",livePlayback:"可回放",liveLivingTip:"觀看直播至結束方可完成任務點",liveNotBack:"直播不允許回看",replace:"替換"}},currentLanguage=function(){var e=function(e){for(var t=document.cookie.split("; "),n=0;n<t.length;n++){var i=t[n].split("=");if(i[0]==e)return unescape(i[1])}}("browserLocale");return e&&"en_US"==e?"en":e&&"zh_TW"==e?"zh-tw":"zh-cn"}(),langMap=language[currentLanguage],isEn="en"==currentLanguage,isTw="zh-tw"==currentLanguage,Ext=Ext||{};Ext._startTime=(new Date).getTime(),function(){var e,t,n,i,r=Object.prototype,o=r.toString,a=!0,s=function(){},l=function(){var e=l.caller.caller;return e.$owner.prototype[e.$name].apply(this,arguments)},d=/\S/;for(e in Function.prototype.$extIsFunction=!0,Ext.global=this,{toString:1})a=null;a&&(a=["hasOwnProperty","valueOf","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","constructor"]),Ext.enumerables=a,Ext.apply=function(e,t,n){if(n&&Ext.apply(e,n),e&&t&&"object"==typeof t){var i,r,o;for(i in t)e[i]=t[i];if(a)for(r=a.length;r--;)o=a[r],t.hasOwnProperty(o)&&(e[o]=t[o])}return e},Ext.buildSettings=Ext.apply({baseCSSPrefix:"x-"},Ext.buildSettings||{}),Ext.apply(Ext,{name:Ext.sandboxName||"Ext",emptyFn:s,identityFn:function(e){return e},emptyString:new String,baseCSSPrefix:Ext.buildSettings.baseCSSPrefix,applyIf:function(e,t){var n;if(e)for(n in t)void 0===e[n]&&(e[n]=t[n]);return e},iterate:function(e,t,n){Ext.isEmpty(e)||(void 0===n&&(n=e),Ext.isIterable(e)?Ext.Array.each.call(Ext.Array,e,t,n):Ext.Object.each.call(Ext.Object,e,t,n))}}),Ext.apply(Ext,{extend:(n=r.constructor,i=function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])},function(e,t,r){Ext.isObject(t)&&(r=t,t=e,e=r.constructor!==n?r.constructor:function(){t.apply(this,arguments)}),t||Ext.Error.raise({sourceClass:"Ext",sourceMethod:"extend",msg:"Attempting to extend from a class which has not been loaded on the page."});var o,a=function(){},s=t.prototype;return a.prototype=s,(o=e.prototype=new a).constructor=e,e.superclass=s,s.constructor===n&&(s.constructor=t),e.override=function(t){Ext.override(e,t)},o.override=i,o.proto=o,e.override(r),e.extend=function(t){return Ext.extend(e,t)},e}),override:function(e,t){if(e.$isClass)e.override(t);else if("function"==typeof e)Ext.apply(e.prototype,t);else{var n,i,r=e.self;if(r&&r.$isClass)for(n in t)t.hasOwnProperty(n)&&("function"==typeof(i=t[n])&&(r.$className&&(i.displayName=r.$className+"#"+n),i.$name=n,i.$owner=r,i.$previous=e.hasOwnProperty(n)?e[n]:l),e[n]=i);else Ext.apply(e,t)}return e}}),Ext.apply(Ext,{valueFrom:function(e,t,n){return Ext.isEmpty(e,n)?t:e},typeOf:function(e){var t;if(null===e)return"null";if("undefined"===(t=typeof e)||"string"===t||"number"===t||"boolean"===t)return t;switch(o.call(e)){case"[object Array]":return"array";case"[object Date]":return"date";case"[object Boolean]":return"boolean";case"[object Number]":return"number";case"[object RegExp]":return"regexp"}return"function"===t?"function":"object"===t?void 0!==e.nodeType?3===e.nodeType?d.test(e.nodeValue)?"textnode":"whitespace":"element":"object":void Ext.Error.raise({sourceClass:"Ext",sourceMethod:"typeOf",msg:'Failed to determine the type of the specified value "'+e+'". This is most likely a bug.'})},coerce:function(e,t){var n=Ext.typeOf(e),i=Ext.typeOf(t),r="string"==typeof e;if(n!==i)switch(i){case"string":return String(e);case"number":return Number(e);case"boolean":return!(r&&(!e||"false"===e))&&Boolean(e);case"null":return!r||e&&"null"!==e?e:null;case"undefined":return!r||e&&"undefined"!==e?e:void 0;case"date":return r&&isNaN(e)?Ext.Date.parse(e,Ext.Date.defaultFormat):Date(Number(e))}return e},isEmpty:function(e,t){return null==e||!t&&""===e||Ext.isArray(e)&&0===e.length},isArray:"isArray"in Array?Array.isArray:function(e){return"[object Array]"===o.call(e)},isDate:function(e){return"[object Date]"===o.call(e)},isObject:"[object Object]"===o.call(null)?function(e){return null!=e&&"[object Object]"===o.call(e)&&void 0===e.ownerDocument}:function(e){return"[object Object]"===o.call(e)},isSimpleObject:function(e){return e instanceof Object&&e.constructor===Object},isPrimitive:function(e){var t=typeof e;return"string"===t||"number"===t||"boolean"===t},isFunction:function(e){return!(!e||!e.$extIsFunction)},isNumber:function(e){return"number"==typeof e&&isFinite(e)},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},isString:function(e){return"string"==typeof e},isBoolean:function(e){return"boolean"==typeof e},isElement:function(e){return!!e&&1===e.nodeType},isTextNode:function(e){return!!e&&"#text"===e.nodeName},isDefined:function(e){return void 0!==e},isIterable:function(e){var t=typeof e,n=!1;return e&&"string"!=t&&("function"==t?Ext.isSafari&&(n=e instanceof NodeList||e instanceof HTMLCollection):n=!0),!!n&&void 0!==e.length}}),Ext.apply(Ext,{clone:function(e){var t,n,i,r,s,l;if(null==e)return e;if(e.nodeType&&e.cloneNode)return e.cloneNode(!0);if("[object Date]"===(t=o.call(e)))return new Date(e.getTime());if("[object Array]"===t)for(n=e.length,s=[];n--;)s[n]=Ext.clone(e[n]);else if("[object Object]"===t&&e.constructor===Object){for(l in s={},e)s[l]=Ext.clone(e[l]);if(a)for(i=a.length;i--;)s[r=a[i]]=e[r]}return s||e},getUniqueGlobalNamespace:function(){var e,t=this.uniqueGlobalNamespace;if(void 0===t){e=0;do{t="ExtBox"+ ++e}while(void 0!==Ext.global[t]);Ext.global[t]=Ext,this.uniqueGlobalNamespace=t}return t},functionFactoryCache:{},cacheableFunctionFactory:function(){var e,t,n,i=Array.prototype.slice.call(arguments),r=this.functionFactoryCache;return Ext.isSandboxed&&(n=i.length)>0&&(i[--n]="var Ext=window."+Ext.name+";"+i[n]),(t=r[e=i.join("")])||(t=Function.prototype.constructor.apply(Function.prototype,i),r[e]=t),t},functionFactory:function(){var e,t=Array.prototype.slice.call(arguments);return Ext.isSandboxed&&(e=t.length)>0&&(t[--e]="var Ext=window."+Ext.name+";"+t[e]),Function.prototype.constructor.apply(Function.prototype,t)},Logger:{verbose:s,log:s,info:s,warn:s,error:function(e){throw new Error(e)},deprecate:s}}),Ext.type=Ext.typeOf,(t=Ext.app)||(t=Ext.app={}),Ext.apply(t,{namespaces:{},collectNamespaces:function(e){var t,n=Ext.app.namespaces;for(t in e)e.hasOwnProperty(t)&&(n[t]=!0)},addNamespaces:function(e){var t,n,i=Ext.app.namespaces;for(Ext.isArray(e)||(e=[e]),t=0,n=e.length;t<n;t++)i[e[t]]=!0},clearNamespaces:function(){Ext.app.namespaces={}},getNamespace:function(e){var t,n=Ext.app.namespaces,i="";for(t in n)n.hasOwnProperty(t)&&t.length>i.length&&t+"."===e.substring(0,t.length+1)&&(i=t);return""===i?void 0:i}})}(),Ext.globalEval=Ext.global.execScript?function(e){execScript(e)}:function($$code){!function(){var Ext=this.Ext;eval($$code)}()},function(){var e;Ext.Version=e=Ext.extend(Object,{constructor:function(t){var n,i;return t instanceof e?t:(this.version=this.shortVersion=String(t).toLowerCase().replace(/_/g,".").replace(/[\-+]/g,""),-1!==(i=this.version.search(/([^\d\.])/))&&(this.release=this.version.substr(i,t.length),this.shortVersion=this.version.substr(0,i)),this.shortVersion=this.shortVersion.replace(/[^\d]/g,""),n=this.version.split("."),this.major=parseInt(n.shift()||0,10),this.minor=parseInt(n.shift()||0,10),this.patch=parseInt(n.shift()||0,10),this.build=parseInt(n.shift()||0,10),this)},toString:function(){return this.version},valueOf:function(){return this.version},getMajor:function(){return this.major||0},getMinor:function(){return this.minor||0},getPatch:function(){return this.patch||0},getBuild:function(){return this.build||0},getRelease:function(){return this.release||""},isGreaterThan:function(t){return 1===e.compare(this.version,t)},isGreaterThanOrEqual:function(t){return e.compare(this.version,t)>=0},isLessThan:function(t){return-1===e.compare(this.version,t)},isLessThanOrEqual:function(t){return e.compare(this.version,t)<=0},equals:function(t){return 0===e.compare(this.version,t)},match:function(e){return e=String(e),this.version.substr(0,e.length)===e},toArray:function(){return[this.getMajor(),this.getMinor(),this.getPatch(),this.getBuild(),this.getRelease()]},getShortVersion:function(){return this.shortVersion},gt:function(){return this.isGreaterThan.apply(this,arguments)},lt:function(){return this.isLessThan.apply(this,arguments)},gtEq:function(){return this.isGreaterThanOrEqual.apply(this,arguments)},ltEq:function(){return this.isLessThanOrEqual.apply(this,arguments)}}),Ext.apply(e,{releaseValueMap:{dev:-6,alpha:-5,a:-5,beta:-4,b:-4,rc:-3,"#":-2,p:-1,pl:-1},getComponentValue:function(e){return e?isNaN(e)?this.releaseValueMap[e]||e:parseInt(e,10):0},compare:function(t,n){var i,r,o;for(t=new e(t).toArray(),n=new e(n).toArray(),o=0;o<Math.max(t.length,n.length);o++){if((i=this.getComponentValue(t[o]))<(r=this.getComponentValue(n[o])))return-1;if(i>r)return 1}return 0}}),Ext.apply(Ext,{versions:{},lastRegisteredVersion:null,setVersion:function(t,n){return Ext.versions[t]=new e(n),Ext.lastRegisteredVersion=Ext.versions[t],this},getVersion:function(e){return void 0===e?Ext.lastRegisteredVersion:Ext.versions[e]},deprecate:function(t,n,i,r){e.compare(Ext.getVersion(t),n)<1&&i.call(r)}}),Ext.setVersion("core","4.2.0.663")}(),Ext.String=function(){var e,t,n,i,r=/^[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+|[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+$/g,o=/('|\\)/g,a=/\{(\d+)\}/g,s=/([-.*+?\^${}()|\[\]\/\\])/g,l=/^\s+|\s+$/g,d=/\s+/,c=/(^[^a-z]*|[^\w])/gi,u=function(t,n){return e[n]},h=function(e,n){return n in t?t[n]:String.fromCharCode(parseInt(n.substr(2),10))},f=function(e,t){return null!=e&&null!=t&&t.length<=e.length};return{insert:function(e,t,n){if(!e)return t;if(!t)return e;var i=e.length;return n||0===n||(n=i),n<0&&(n=(n*=-1)>=i?0:i-n),0===n?e=t+e:n>=e.length?e+=t:e=e.substr(0,n)+t+e.substr(n),e},startsWith:function(e,t,n){var i=f(e,t);return i&&(n&&(e=e.toLowerCase(),t=t.toLowerCase()),i=0===e.lastIndexOf(t,0)),i},endsWith:function(e,t,n){var i=f(e,t);return i&&(n&&(e=e.toLowerCase(),t=t.toLowerCase()),i=-1!==e.indexOf(t,e.length-t.length)),i},createVarName:function(e){return e.replace(c,"")},htmlEncode:function(e){return e?String(e).replace(n,u):e},htmlDecode:function(e){return e?String(e).replace(i,h):e},addCharacterEntities:function(r){var o,a,s=[],l=[];for(o in r)a=r[o],t[o]=a,e[a]=o,s.push(a),l.push(o);n=new RegExp("("+s.join("|")+")","g"),i=new RegExp("("+l.join("|")+"|&#[0-9]{1,5};)","g")},resetCharacterEntities:function(){e={},t={},this.addCharacterEntities({"&amp;":"&","&gt;":">","&lt;":"<","&quot;":'"',"&#39;":"'"})},urlAppend:function(e,t){return Ext.isEmpty(t)?e:e+(-1===e.indexOf("?")?"?":"&")+t},trim:function(e){return e.replace(r,"")},capitalize:function(e){return e.charAt(0).toUpperCase()+e.substr(1)},uncapitalize:function(e){return e.charAt(0).toLowerCase()+e.substr(1)},ellipsis:function(e,t,n){if(e&&e.length>t){if(n){var i=e.substr(0,t-2),r=Math.max(i.lastIndexOf(" "),i.lastIndexOf("."),i.lastIndexOf("!"),i.lastIndexOf("?"));if(-1!==r&&r>=t-15)return i.substr(0,r)+"..."}return e.substr(0,t-3)+"..."}return e},escapeRegex:function(e){return e.replace(s,"\\$1")},escape:function(e){return e.replace(o,"\\$1")},toggle:function(e,t,n){return e===t?n:t},leftPad:function(e,t,n){var i=String(e);for(n=n||" ";i.length<t;)i=n+i;return i},format:function(e){var t=Ext.Array.toArray(arguments,1);return e.replace(a,function(e,n){return t[n]})},repeat:function(e,t,n){t<1&&(t=0);for(var i=[],r=t;r--;)i.push(e);return i.join(n||"")},splitWords:function(e){return e&&"string"==typeof e?e.replace(l,"").split(d):e||[]}}}(),Ext.String.resetCharacterEntities(),Ext.htmlEncode=Ext.String.htmlEncode,Ext.htmlDecode=Ext.String.htmlDecode,Ext.urlAppend=Ext.String.urlAppend,Ext.Number=new function(){var e=this,t="1"!==.9.toFixed(),n=Math;Ext.apply(this,{constrain:function(e,t,n){var i=parseFloat(e);return i<t?t:i>n?n:i},snap:function(t,n,i,r){var o;return void 0===t||t<i?i||0:(n&&0!==(o=t%n)&&(t-=o,2*o>=n?t+=n:2*o<-n&&(t-=n)),e.constrain(t,i,r))},snapInRange:function(t,n,i,r){var o;return i=i||0,void 0===t||t<i?i:(n&&(o=(t-i)%n)&&(t-=o,(o*=2)>=n&&(t+=n)),void 0!==r&&t>(r=e.snapInRange(r,n,i))&&(t=r),t)},toFixed:t?function(e,t){t=t||0;var i=n.pow(10,t);return(n.round(e*i)/i).toFixed(t)}:function(e,t){return e.toFixed(t)},from:function(e,t){return isFinite(e)&&(e=parseFloat(e)),isNaN(e)?t:e},randomInt:function(e,t){return n.floor(n.random()*(t-e+1)+e)},correctFloat:function(e){return parseFloat(e.toPrecision(14))}}),Ext.num=function(){return e.from.apply(this,arguments)}},function(){var e,t,n,i,r,o=Array.prototype,a=o.slice,s=function(){var e,t=[],n=20;if(!t.splice)return!1;for(;n--;)t.push("A");return t.splice(15,0,"F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F"),e=t.length,t.splice(13,0,"XXX"),e+1==t.length}(),l="forEach"in o,d="map"in o,c="indexOf"in o,u="every"in o,h="some"in o,f="filter"in o,p=1===(r=[1,2,3,4,5].sort(function(){return 0}))[0]&&2===r[1]&&3===r[2]&&4===r[3]&&5===r[4],g=!0;try{"undefined"!=typeof document&&a.call(document.getElementsByTagName("body"))}catch(e){g=!1}function m(e,t){return t<0?Math.max(0,e.length+t):Math.min(e.length,t)}function x(e,t,n,i){var r,o,a,s,l,d,c=i?i.length:0,u=e.length,h=m(e,t);if(h===u)c&&e.push.apply(e,i);else{if(s=u-(o=h+(r=Math.min(n,u-h))),l=u-r,(a=o+c-r)<o)for(d=0;d<s;++d)e[a+d]=e[o+d];else if(a>o)for(d=s;d--;)e[a+d]=e[o+d];if(c&&h===l)e.length=l,e.push.apply(e,i);else for(e.length=l+c,d=0;d<c;++d)e[h+d]=i[d]}return e}function y(e,t,n){var i=m(e,t),r=e.slice(t,m(e,i+n));return arguments.length<4?x(e,i,n):x(e,i,n,a.call(arguments,3)),r}t=s?function(e,t,n){return e.splice(t,n),e}:function(e,t,n){return x(e,t,n)},n=s?function(e,t,n,i){return i&&i.length?0!==t||n?t<e.length?e.splice.apply(e,[t,n].concat(i)):e.push.apply(e,i):e.unshift.apply(e,i):e.splice(t,n),e}:x,i=s?function(e){return e.splice.apply(e,a.call(arguments,1))}:y,e=Ext.Array={each:function(t,n,i,r){var o,a=(t=e.from(t)).length;if(!0!==r){for(o=0;o<a;o++)if(!1===n.call(i||t[o],t[o],o,t))return o}else for(o=a-1;o>-1;o--)if(!1===n.call(i||t[o],t[o],o,t))return o;return!0},forEach:l?function(e,t,n){e.forEach(t,n)}:function(e,t,n){for(var i=0,r=e.length;i<r;i++)t.call(n,e[i],i,e)},indexOf:c?function(e,t,n){return o.indexOf.call(e,t,n)}:function(e,t,n){var i,r=e.length;for(i=n<0?Math.max(0,r+n):n||0;i<r;i++)if(e[i]===t)return i;return-1},contains:c?function(e,t){return-1!==o.indexOf.call(e,t)}:function(e,t){var n,i;for(n=0,i=e.length;n<i;n++)if(e[n]===t)return!0;return!1},toArray:function(e,t,n){if(!e||!e.length)return[];if("string"==typeof e&&(e=e.split("")),g)return a.call(e,t||0,n||e.length);var i,r=[];for(t=t||0,n=n?n<0?e.length+n:n:e.length,i=t;i<n;i++)r.push(e[i]);return r},pluck:function(e,t){var n,i,r,o=[];for(n=0,i=e.length;n<i;n++)r=e[n],o.push(r[t]);return o},map:d?function(e,t,n){return t||Ext.Error.raise("Ext.Array.map must have a callback function passed as second argument."),e.map(t,n)}:function(e,t,n){t||Ext.Error.raise("Ext.Array.map must have a callback function passed as second argument.");for(var i=[],r=0,o=e.length;r<o;r++)i[r]=t.call(n,e[r],r,e);return i},every:u?function(e,t,n){return t||Ext.Error.raise("Ext.Array.every must have a callback function passed as second argument."),e.every(t,n)}:function(e,t,n){t||Ext.Error.raise("Ext.Array.every must have a callback function passed as second argument.");for(var i=0,r=e.length;i<r;++i)if(!t.call(n,e[i],i,e))return!1;return!0},some:h?function(e,t,n){return t||Ext.Error.raise("Ext.Array.some must have a callback function passed as second argument."),e.some(t,n)}:function(e,t,n){t||Ext.Error.raise("Ext.Array.some must have a callback function passed as second argument.");for(var i=0,r=e.length;i<r;++i)if(t.call(n,e[i],i,e))return!0;return!1},equals:function(e,t){var n,i=e.length,r=t.length;if(e===t)return!0;if(i!==r)return!1;for(n=0;n<i;++n)if(e[n]!==t[n])return!1;return!0},clean:function(e){for(var t,n=[],i=0,r=e.length;i<r;i++)t=e[i],Ext.isEmpty(t)||n.push(t);return n},unique:function(t){for(var n,i=[],r=0,o=t.length;r<o;r++)n=t[r],-1===e.indexOf(i,n)&&i.push(n);return i},filter:f?function(e,t,n){return t||Ext.Error.raise("Ext.Array.filter must have a filter function passed as second argument."),e.filter(t,n)}:function(e,t,n){t||Ext.Error.raise("Ext.Array.filter must have a filter function passed as second argument.");for(var i=[],r=0,o=e.length;r<o;r++)t.call(n,e[r],r,e)&&i.push(e[r]);return i},findBy:function(e,t,n){for(var i=0,r=e.length;i<r;i++)if(t.call(n||e,e[i],i))return e[i];return null},from:function(t,n){if(null==t)return[];if(Ext.isArray(t))return n?a.call(t):t;var i=typeof t;return!t||void 0===t.length||"string"===i||"function"===i&&t.apply?[t]:e.toArray(t)},remove:function(n,i){var r=e.indexOf(n,i);return-1!==r&&t(n,r,1),n},include:function(t,n){e.contains(t,n)||t.push(n)},clone:function(e){return a.call(e)},merge:function(){var t,n,i=a.call(arguments),r=[];for(t=0,n=i.length;t<n;t++)r=r.concat(i[t]);return e.unique(r)},intersect:function(){var n,i,r,o,s,l,d,c,u,h,f,p,g=[],m=a.call(arguments);if(!m.length)return g;for(n=m.length,h=s=0;h<n;h++)l=m[h],(!o||l.length<o.length)&&(o=l,s=h);for(o=e.unique(o),t(m,s,1),d=o.length,n=m.length,h=0;h<d;h++){for(c=o[h],u=0,f=0;f<n;f++)for(r=(i=m[f]).length,p=0;p<r;p++)if(c===i[p]){u++;break}u===n&&g.push(c)}return g},difference:function(e,n){var i,r,o,s=a.call(e),l=s.length;for(i=0,o=n.length;i<o;i++)for(r=0;r<l;r++)s[r]===n[i]&&(t(s,r,1),r--,l--);return s},slice:[1,2].slice(1,void 0).length?function(e,t,n){return a.call(e,t,n)}:function(e,t,n){return void 0===t?a.call(e):void 0===n?a.call(e,t):a.call(e,t,n)},sort:p?function(e,t){return t?e.sort(t):e.sort()}:function(e,t){for(var n,i,r,o=e.length,a=0;a<o;a++){for(i=a,n=a+1;n<o;n++)t?t(e[n],e[i])<0&&(i=n):e[n]<e[i]&&(i=n);i!==a&&(r=e[a],e[a]=e[i],e[i]=r)}return e},flatten:function(e){var t=[];return function e(n){var i,r,o;for(i=0,r=n.length;i<r;i++)o=n[i],Ext.isArray(o)?e(o):t.push(o);return t}(e)},min:function(e,t){var n,i,r,o=e[0];for(n=0,i=e.length;n<i;n++)r=e[n],t?1===t(o,r)&&(o=r):r<o&&(o=r);return o},max:function(e,t){var n,i,r,o=e[0];for(n=0,i=e.length;n<i;n++)r=e[n],t?-1===t(o,r)&&(o=r):r>o&&(o=r);return o},mean:function(t){return t.length>0?e.sum(t)/t.length:void 0},sum:function(e){var t,n,i=0;for(t=0,n=e.length;t<n;t++)i+=e[t];return i},toMap:function(e,t,n){var i={},r=e.length;if(t)if("string"==typeof t)for(;r--;)i[e[r][t]]=r+1;else for(;r--;)i[t.call(n,e[r])]=r+1;else for(;r--;)i[e[r]]=r+1;return i},toValueMap:function(e,t,n){var i={},r=e.length;if(t)if("string"==typeof t)for(;r--;)i[e[r][t]]=e[r];else for(;r--;)i[t.call(n,e[r])]=e[r];else for(;r--;)i[e[r]]=e[r];return i},_replaceSim:x,_spliceSim:y,erase:t,insert:function(e,t,i){return n(e,t,0,i)},replace:n,splice:i,push:function(e){var t,n=arguments.length,i=1;for(void 0===e?e=[]:Ext.isArray(e)||(e=[e]);i<n;i++)t=arguments[i],Array.prototype.push[Ext.isIterable(t)?"apply":"call"](e,t);return e}},Ext.each=e.each,e.union=e.merge,Ext.min=e.min,Ext.max=e.max,Ext.sum=e.sum,Ext.mean=e.mean,Ext.flatten=e.flatten,Ext.clean=e.clean,Ext.unique=e.unique,Ext.pluck=e.pluck,Ext.toArray=function(){return e.toArray.apply(e,arguments)}}(),Ext.Function={flexSetter:function(e){return function(t,n){var i,r;if(null===t)return this;if("string"!=typeof t){for(i in t)t.hasOwnProperty(i)&&e.call(this,i,t[i]);if(Ext.enumerables)for(r=Ext.enumerables.length;r--;)i=Ext.enumerables[r],t.hasOwnProperty(i)&&e.call(this,i,t[i])}else e.call(this,t,n);return this}},bind:function(e,t,n,i){if(2===arguments.length)return function(){return e.apply(t,arguments)};var r=e,o=Array.prototype.slice;return function(){var e=n||arguments;return!0===i?e=(e=o.call(arguments,0)).concat(n):"number"==typeof i&&(e=o.call(arguments,0),Ext.Array.insert(e,i,n)),r.apply(t||Ext.global,e)}},pass:function(e,t,n){return Ext.isArray(t)||(t=Ext.isIterable(t)?Ext.Array.clone(t):void 0!==t?[t]:[]),function(){var i=[].concat(t);return i.push.apply(i,arguments),e.apply(n||this,i)}},alias:function(e,t){return function(){return e[t].apply(e,arguments)}},clone:function(e){return function(){return e.apply(this,arguments)}},createInterceptor:function(e,t,n,i){return Ext.isFunction(t)?(i=Ext.isDefined(i)?i:null,function(){var r=this,o=arguments;return t.target=r,t.method=e,!1!==t.apply(n||r||Ext.global,o)?e.apply(r||Ext.global,o):i}):e},createDelayed:function(e,t,n,i,r){return(n||i)&&(e=Ext.Function.bind(e,n,i,r)),function(){var n=this,i=Array.prototype.slice.call(arguments);setTimeout(function(){e.apply(n,i)},t)}},defer:function(e,t,n,i,r){return e=Ext.Function.bind(e,n,i,r),t>0?setTimeout(Ext.supports.TimeoutActualLateness?function(){e()}:e,t):(e(),0)},createSequence:function(e,t,n){return t?function(){var i=e.apply(this,arguments);return t.apply(n||this,arguments),i}:e},createBuffered:function(e,t,n,i){var r;return function(){var o=i||Array.prototype.slice.call(arguments,0),a=n||this;r&&clearTimeout(r),r=setTimeout(function(){e.apply(a,o)},t)}},createThrottled:function(e,t,n){var i,r,o,a,s=function(){e.apply(n||this,o),i=(new Date).getTime()};return function(){r=(new Date).getTime()-i,o=arguments,clearTimeout(a),!i||r>=t?s():a=setTimeout(s,t-r)}},interceptBefore:function(e,t,n,i){var r=e[t]||Ext.emptyFn;return e[t]=function(){var e=n.apply(i||this,arguments);return r.apply(this,arguments),e}},interceptAfter:function(e,t,n,i){var r=e[t]||Ext.emptyFn;return e[t]=function(){return r.apply(this,arguments),n.apply(i||this,arguments)}}},Ext.defer=Ext.Function.alias(Ext.Function,"defer"),Ext.pass=Ext.Function.alias(Ext.Function,"pass"),Ext.bind=Ext.Function.alias(Ext.Function,"bind"),function(){var e,t=function(){},n=Ext.Object={chain:Object.create||function(e){t.prototype=e;var n=new t;return t.prototype=null,n},toQueryObjects:function(e,t,i){var r,o,a=n.toQueryObjects,s=[];if(Ext.isArray(t))for(r=0,o=t.length;r<o;r++)i?s=s.concat(a(e+"["+r+"]",t[r],!0)):s.push({name:e,value:t[r]});else if(Ext.isObject(t))for(r in t)t.hasOwnProperty(r)&&(i?s=s.concat(a(e+"["+r+"]",t[r],!0)):s.push({name:e,value:t[r]}));else s.push({name:e,value:t});return s},toQueryString:function(e,t){var i,r,o,a,s,l=[],d=[];for(i in e)e.hasOwnProperty(i)&&(l=l.concat(n.toQueryObjects(i,e[i],t)));for(r=0,o=l.length;r<o;r++)s=(a=l[r]).value,Ext.isEmpty(s)?s="":Ext.isDate(s)&&(s=Ext.Date.toString(s)),d.push(encodeURIComponent(a.name)+"="+encodeURIComponent(String(s)));return d.join("&")},fromQueryString:function(e,t){var n,i,r,o,a,s,l,d,c,u,h,f,p,g,m=e.replace(/^\?/,"").split("&"),x={};for(a=0,s=m.length;a<s;a++)if((l=m[a]).length>0)if(i=l.split("="),r=decodeURIComponent(i[0]),o=void 0!==i[1]?decodeURIComponent(i[1]):"",t){if(u=r.match(/(\[):?([^\]]*)\]/g),!(h=r.match(/^([^\[]+)/)))throw new Error('[Ext.Object.fromQueryString] Malformed query string given, failed parsing name from "'+l+'"');if(r=h[0],f=[],null===u){x[r]=o;continue}for(d=0,c=u.length;d<c;d++)p=2===(p=u[d]).length?"":p.substring(1,p.length-1),f.push(p);for(f.unshift(r),n=x,d=0,c=f.length;d<c;d++)p=f[d],d===c-1?Ext.isArray(n)&&""===p?n.push(o):n[p]=o:(void 0!==n[p]&&"string"!=typeof n[p]||(g=f[d+1],n[p]=Ext.isNumeric(g)||""===g?[]:{}),n=n[p])}else x.hasOwnProperty(r)?(Ext.isArray(x[r])||(x[r]=[x[r]]),x[r].push(o)):x[r]=o;return x},each:function(e,t,n){for(var i in e)if(e.hasOwnProperty(i)&&!1===t.call(n||e,i,e[i],e))return},merge:function(e){for(var t,i,r,o,a=1,s=arguments.length,l=n.merge,d=Ext.clone;a<s;a++)for(i in t=arguments[a])(r=t[i])&&r.constructor===Object?(o=e[i])&&o.constructor===Object?l(o,r):e[i]=d(r):e[i]=r;return e},mergeIf:function(e){for(var t,n,i,r=1,o=arguments.length,a=Ext.clone;r<o;r++)for(n in t=arguments[r])n in e||((i=t[n])&&i.constructor===Object?e[n]=a(i):e[n]=i);return e},getKey:function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&e[n]===t)return n;return null},getValues:function(e){var t,n=[];for(t in e)e.hasOwnProperty(t)&&n.push(e[t]);return n},getKeys:"function"==typeof Object.keys?function(e){return e?Object.keys(e):[]}:function(e){var t,n=[];for(t in e)e.hasOwnProperty(t)&&n.push(t);return n},getSize:function(e){var t,n=0;for(t in e)e.hasOwnProperty(t)&&n++;return n},isEmpty:function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},equals:(e=function(e,t){var n;for(n in e)if(e.hasOwnProperty(n)&&e[n]!==t[n])return!1;return!0},function(t,n){return t===n||(t&&n?e(t,n)&&e(n,t):!t&&!n&&t===n)}),classify:function(e){var t,i,r=e,o=[],a={},s=function(){for(var e,t=0,n=o.length;t<n;t++)this[e=o[t]]=new a[e]};for(t in e)e.hasOwnProperty(t)&&(i=e[t])&&i.constructor===Object&&(o.push(t),a[t]=n.classify(i));return s.prototype=r,s}};Ext.merge=Ext.Object.merge,Ext.mergeIf=Ext.Object.mergeIf,Ext.urlEncode=function(){var e=Ext.Array.from(arguments),t="";return"string"==typeof e[1]&&(t=e[1]+"&",e[1]=!1),t+n.toQueryString.apply(n,e)},Ext.urlDecode=function(){return n.fromQueryString.apply(n,arguments)}}(),Ext.Date=new function(){var e,t,n=this,i=/(\\.)/g,r=/([gGhHisucUOPZ]|MS)/,o=/([djzmnYycU]|MS)/,a=/\\/gi,s=/\{(\d+)\}/g,l=new RegExp("\\/Date\\(([-+])?(\\d+)(?:[+-]\\d{4})?\\)\\/"),d=["var me = this, dt, y, m, d, h, i, s, ms, o, O, z, zz, u, v, W, year, jan4, week1monday,","def = me.defaults,","from = Ext.Number.from,","results = String(input).match(me.parseRegexes[{0}]);","if(results){","{1}","if(u != null){","v = new Date(u * 1000);","}else{","dt = me.clearTime(new Date);","y = from(y, from(def.y, dt.getFullYear()));","m = from(m, from(def.m - 1, dt.getMonth()));","d = from(d, from(def.d, dt.getDate()));","h  = from(h, from(def.h, dt.getHours()));","i  = from(i, from(def.i, dt.getMinutes()));","s  = from(s, from(def.s, dt.getSeconds()));","ms = from(ms, from(def.ms, dt.getMilliseconds()));","if(z >= 0 && y >= 0){","v = me.add(new Date(y < 100 ? 100 : y, 0, 1, h, i, s, ms), me.YEAR, y < 100 ? y - 100 : 0);","v = !strict? v : (strict === true && (z <= 364 || (me.isLeapYear(v) && z <= 365))? me.add(v, me.DAY, z) : null);","}else if(strict === true && !me.isValid(y, m + 1, d, h, i, s, ms)){","v = null;","}else{","if (W) {","year = y || (new Date()).getFullYear(),","jan4 = new Date(year, 0, 4, 0, 0, 0),","week1monday = new Date(jan4.getTime() - ((jan4.getDay() - 1) * 86400000));","v = Ext.Date.clearTime(new Date(week1monday.getTime() + ((W - 1) * 604800000)));","} else {","v = me.add(new Date(y < 100 ? 100 : y, m, d, h, i, s, ms), me.YEAR, y < 100 ? y - 100 : 0);","}","}","}","}","if(v){","if(zz != null){","v = me.add(v, me.SECOND, -v.getTimezoneOffset() * 60 - zz);","}else if(o){","v = me.add(v, me.MINUTE, -v.getTimezoneOffset() + (sn == '+'? -1 : 1) * (hr * 60 + mn));","}","}","return v;"].join("\n");function c(e){var t=Array.prototype.slice.call(arguments,1);return e.replace(s,function(e,n){return t[n]})}Ext.apply(n,{now:Date.now||function(){return+new Date},toString:function(e){var t=Ext.String.leftPad;return e.getFullYear()+"-"+t(e.getMonth()+1,2,"0")+"-"+t(e.getDate(),2,"0")+"T"+t(e.getHours(),2,"0")+":"+t(e.getMinutes(),2,"0")+":"+t(e.getSeconds(),2,"0")},getElapsed:function(e,t){return Math.abs(e-(t||new Date))},useStrict:!1,formatCodeToRegex:function(e,t){var i=n.parseCodes[e];return i&&(i="function"==typeof i?i():i,n.parseCodes[e]=i),i?Ext.applyIf({c:i.c?c(i.c,t||"{0}"):i.c},i):{g:0,c:null,s:Ext.String.escapeRegex(e)}},parseFunctions:{MS:function(e,t){var n=(e||"").match(l);return n?new Date(1*((n[1]||"")+n[2])):null},time:function(e,t){var n=parseInt(e,10);return n||0===n?new Date(n):null},timestamp:function(e,t){var n=parseInt(e,10);return n||0===n?new Date(1e3*n):null}},parseRegexes:[],formatFunctions:{MS:function(){return"\\/Date("+this.getTime()+")\\/"},time:function(){return this.getTime().toString()},timestamp:function(){return n.format(this,"U")}},y2kYear:50,MILLI:"ms",SECOND:"s",MINUTE:"mi",HOUR:"h",DAY:"d",MONTH:"mo",YEAR:"y",defaults:{},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNumbers:{January:0,Jan:0,February:1,Feb:1,March:2,Mar:2,April:3,Apr:3,May:4,June:5,Jun:5,July:6,Jul:6,August:7,Aug:7,September:8,Sep:8,October:9,Oct:9,November:10,Nov:10,December:11,Dec:11},defaultFormat:"m/d/Y",getShortMonthName:function(e){return Ext.Date.monthNames[e].substring(0,3)},getShortDayName:function(e){return Ext.Date.dayNames[e].substring(0,3)},getMonthNumber:function(e){return Ext.Date.monthNumbers[e.substring(0,1).toUpperCase()+e.substring(1,3).toLowerCase()]},formatContainsHourInfo:function(e){return r.test(e.replace(i,""))},formatContainsDateInfo:function(e){return o.test(e.replace(i,""))},unescapeFormat:function(e){return e.replace(a,"")},formatCodes:{d:"Ext.String.leftPad(this.getDate(), 2, '0')",D:"Ext.Date.getShortDayName(this.getDay())",j:"this.getDate()",l:"Ext.Date.dayNames[this.getDay()]",N:"(this.getDay() ? this.getDay() : 7)",S:"Ext.Date.getSuffix(this)",w:"this.getDay()",z:"Ext.Date.getDayOfYear(this)",W:"Ext.String.leftPad(Ext.Date.getWeekOfYear(this), 2, '0')",F:"Ext.Date.monthNames[this.getMonth()]",m:"Ext.String.leftPad(this.getMonth() + 1, 2, '0')",M:"Ext.Date.getShortMonthName(this.getMonth())",n:"(this.getMonth() + 1)",t:"Ext.Date.getDaysInMonth(this)",L:"(Ext.Date.isLeapYear(this) ? 1 : 0)",o:"(this.getFullYear() + (Ext.Date.getWeekOfYear(this) == 1 && this.getMonth() > 0 ? +1 : (Ext.Date.getWeekOfYear(this) >= 52 && this.getMonth() < 11 ? -1 : 0)))",Y:"Ext.String.leftPad(this.getFullYear(), 4, '0')",y:"('' + this.getFullYear()).substring(2, 4)",a:"(this.getHours() < 12 ? 'am' : 'pm')",A:"(this.getHours() < 12 ? 'AM' : 'PM')",g:"((this.getHours() % 12) ? this.getHours() % 12 : 12)",G:"this.getHours()",h:"Ext.String.leftPad((this.getHours() % 12) ? this.getHours() % 12 : 12, 2, '0')",H:"Ext.String.leftPad(this.getHours(), 2, '0')",i:"Ext.String.leftPad(this.getMinutes(), 2, '0')",s:"Ext.String.leftPad(this.getSeconds(), 2, '0')",u:"Ext.String.leftPad(this.getMilliseconds(), 3, '0')",O:"Ext.Date.getGMTOffset(this)",P:"Ext.Date.getGMTOffset(this, true)",T:"Ext.Date.getTimezone(this)",Z:"(this.getTimezoneOffset() * -60)",c:function(){var e,t,i,r,o;for(t=[],i=0,r=(e="Y-m-dTH:i:sP").length;i<r;++i)o=e.charAt(i),t.push("T"==o?"'T'":n.getFormatCode(o));return t.join(" + ")},U:"Math.round(this.getTime() / 1000)"},isValid:function(e,t,i,r,o,a,s){r=r||0,o=o||0,a=a||0,s=s||0;var l=n.add(new Date(e<100?100:e,t-1,i,r,o,a,s),n.YEAR,e<100?e-100:0);return e==l.getFullYear()&&t==l.getMonth()+1&&i==l.getDate()&&r==l.getHours()&&o==l.getMinutes()&&a==l.getSeconds()&&s==l.getMilliseconds()},parse:function(e,t,i){var r=n.parseFunctions;return null==r[t]&&n.createParser(t),r[t].call(n,e,Ext.isDefined(i)?i:n.useStrict)},parseDate:function(e,t,i){return n.parse(e,t,i)},getFormatCode:function(e){var t=n.formatCodes[e];return t&&(t="function"==typeof t?t():t,n.formatCodes[e]=t),t||"'"+Ext.String.escape(e)+"'"},createFormat:function(e){var t,i=[],r=!1,o="";for(t=0;t<e.length;++t)o=e.charAt(t),r||"\\"!=o?r?(r=!1,i.push("'"+Ext.String.escape(o)+"'")):i.push(n.getFormatCode(o)):r=!0;n.formatFunctions[e]=Ext.functionFactory("return "+i.join("+"))},createParser:function(e){for(var t,i=n.parseRegexes.length,r=1,o=[],a=[],s=!1,l="",u=0,h=e.length,f=[];u<h;++u)l=e.charAt(u),s||"\\"!=l?s?(s=!1,a.push(Ext.String.escape(l))):(r+=(t=n.formatCodeToRegex(l,r)).g,a.push(t.s),t.g&&t.c&&(t.calcAtEnd?f.push(t.c):o.push(t.c))):s=!0;o=o.concat(f),n.parseRegexes[i]=new RegExp("^"+a.join("")+"$","i"),n.parseFunctions[e]=Ext.functionFactory("input","strict",c(d,i,o.join("")))},parseCodes:{d:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(3[0-1]|[1-2][0-9]|0[1-9])"},j:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(3[0-1]|[1-2][0-9]|[1-9])"},D:function(){for(var e=[],t=0;t<7;e.push(n.getShortDayName(t)),++t);return{g:0,c:null,s:"(?:"+e.join("|")+")"}},l:function(){return{g:0,c:null,s:"(?:"+n.dayNames.join("|")+")"}},N:{g:0,c:null,s:"[1-7]"},S:{g:0,c:null,s:"(?:st|nd|rd|th)"},w:{g:0,c:null,s:"[0-6]"},z:{g:1,c:"z = parseInt(results[{0}], 10);\n",s:"(\\d{1,3})"},W:{g:1,c:"W = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},F:function(){return{g:1,c:"m = parseInt(me.getMonthNumber(results[{0}]), 10);\n",s:"("+n.monthNames.join("|")+")"}},M:function(){for(var e=[],t=0;t<12;e.push(n.getShortMonthName(t)),++t);return Ext.applyIf({s:"("+e.join("|")+")"},n.formatCodeToRegex("F"))},m:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(1[0-2]|0[1-9])"},n:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(1[0-2]|[1-9])"},t:{g:0,c:null,s:"(?:\\d{2})"},L:{g:0,c:null,s:"(?:1|0)"},o:{g:1,c:"y = parseInt(results[{0}], 10);\n",s:"(\\d{4})"},Y:{g:1,c:"y = parseInt(results[{0}], 10);\n",s:"(\\d{4})"},y:{g:1,c:"var ty = parseInt(results[{0}], 10);\ny = ty > me.y2kYear ? 1900 + ty : 2000 + ty;\n",s:"(\\d{1,2})"},a:{g:1,c:"if (/(am)/i.test(results[{0}])) {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(am|pm|AM|PM)",calcAtEnd:!0},A:{g:1,c:"if (/(am)/i.test(results[{0}])) {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(AM|PM|am|pm)",calcAtEnd:!0},g:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(1[0-2]|[0-9])"},G:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(2[0-3]|1[0-9]|[0-9])"},h:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(1[0-2]|0[1-9])"},H:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(2[0-3]|[0-1][0-9])"},i:{g:1,c:"i = parseInt(results[{0}], 10);\n",s:"([0-5][0-9])"},s:{g:1,c:"s = parseInt(results[{0}], 10);\n",s:"([0-5][0-9])"},u:{g:1,c:"ms = results[{0}]; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n",s:"(\\d+)"},O:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1),","hr = o.substring(1,3)*1 + Math.floor(o.substring(3,5) / 60),","mn = o.substring(3,5) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.String.leftPad(hr, 2, '0') + Ext.String.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{4})"},P:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1),","hr = o.substring(1,3)*1 + Math.floor(o.substring(4,6) / 60),","mn = o.substring(4,6) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.String.leftPad(hr, 2, '0') + Ext.String.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{2}:\\d{2})"},T:{g:0,c:null,s:"[A-Z]{1,5}"},Z:{g:1,c:"zz = results[{0}] * 1;\nzz = (-43200 <= zz && zz <= 50400)? zz : null;\n",s:"([+-]?\\d{1,5})"},c:function(){var e,t,i=[],r=[n.formatCodeToRegex("Y",1),n.formatCodeToRegex("m",2),n.formatCodeToRegex("d",3),n.formatCodeToRegex("H",4),n.formatCodeToRegex("i",5),n.formatCodeToRegex("s",6),{c:"ms = results[7] || '0'; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n"},{c:["if(results[8]) {","if(results[8] == 'Z'){","zz = 0;","}else if (results[8].indexOf(':') > -1){",n.formatCodeToRegex("P",8).c,"}else{",n.formatCodeToRegex("O",8).c,"}","}"].join("\n")}];for(e=0,t=r.length;e<t;++e)i.push(r[e].c);return{g:1,c:i.join(""),s:[r[0].s,"(?:","-",r[1].s,"(?:","-",r[2].s,"(?:","(?:T| )?",r[3].s,":",r[4].s,"(?::",r[5].s,")?","(?:(?:\\.|,)(\\d+))?","(Z|(?:[-+]\\d{2}(?::)?\\d{2}))?",")?",")?",")?"].join("")}},U:{g:1,c:"u = parseInt(results[{0}], 10);\n",s:"(-?\\d+)"}},dateFormat:function(e,t){return n.format(e,t)},isEqual:function(e,t){return e&&t?e.getTime()===t.getTime():!(e||t)},format:function(e,t){var i=n.formatFunctions;return Ext.isDate(e)?(null==i[t]&&n.createFormat(t),i[t].call(e)+""):""},getTimezone:function(e){return e.toString().replace(/^.* (?:\((.*)\)|([A-Z]{1,5})(?:[\-+][0-9]{4})?(?: -?\d+)?)$/,"$1$2").replace(/[^A-Z]/g,"")},getGMTOffset:function(e,t){var n=e.getTimezoneOffset();return(n>0?"-":"+")+Ext.String.leftPad(Math.floor(Math.abs(n)/60),2,"0")+(t?":":"")+Ext.String.leftPad(Math.abs(n%60),2,"0")},getDayOfYear:function(e){var t,i=0,r=Ext.Date.clone(e),o=e.getMonth();for(t=0,r.setDate(1),r.setMonth(0);t<o;r.setMonth(++t))i+=n.getDaysInMonth(r);return i+e.getDate()-1},getWeekOfYear:(t=6048e5,function(e){var n=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()+3)/864e5,i=Math.floor(n/7),r=new Date(i*t).getUTCFullYear();return i-Math.floor(Date.UTC(r,0,7)/t)+1}),isLeapYear:function(e){var t=e.getFullYear();return!(0!=(3&t)||!(t%100||t%400==0&&t))},getFirstDayOfMonth:function(e){var t=(e.getDay()-(e.getDate()-1))%7;return t<0?t+7:t},getLastDayOfMonth:function(e){return n.getLastDateOfMonth(e).getDay()},getFirstDateOfMonth:function(e){return new Date(e.getFullYear(),e.getMonth(),1)},getLastDateOfMonth:function(e){return new Date(e.getFullYear(),e.getMonth(),n.getDaysInMonth(e))},getDaysInMonth:(e=[31,28,31,30,31,30,31,31,30,31,30,31],function(t){var i=t.getMonth();return 1==i&&n.isLeapYear(t)?29:e[i]}),getSuffix:function(e){switch(e.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},clone:function(e){return new Date(e.getTime())},isDST:function(e){return new Date(e.getFullYear(),0,1).getTimezoneOffset()!=e.getTimezoneOffset()},clearTime:function(e,t){if(t)return Ext.Date.clearTime(Ext.Date.clone(e));var i,r,o=e.getDate();if(e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),e.getDate()!=o){for(i=1,r=n.add(e,Ext.Date.HOUR,i);r.getDate()!=o;i++,r=n.add(e,Ext.Date.HOUR,i));e.setDate(o),e.setHours(r.getHours())}return e},add:function(e,t,i){var r,o,a=Ext.Date.clone(e),s=(Ext.Date,0);if(!t||0===i)return a;if(o=i-parseInt(i,10),i=parseInt(i,10))switch(t.toLowerCase()){case Ext.Date.MILLI:a.setTime(a.getTime()+i);break;case Ext.Date.SECOND:a.setTime(a.getTime()+1e3*i);break;case Ext.Date.MINUTE:a.setTime(a.getTime()+60*i*1e3);break;case Ext.Date.HOUR:a.setTime(a.getTime()+60*i*60*1e3);break;case Ext.Date.DAY:a.setDate(a.getDate()+i);break;case Ext.Date.MONTH:(r=e.getDate())>28&&(r=Math.min(r,Ext.Date.getLastDateOfMonth(Ext.Date.add(Ext.Date.getFirstDateOfMonth(e),Ext.Date.MONTH,i)).getDate())),a.setDate(r),a.setMonth(e.getMonth()+i);break;case Ext.Date.YEAR:(r=e.getDate())>28&&(r=Math.min(r,Ext.Date.getLastDateOfMonth(Ext.Date.add(Ext.Date.getFirstDateOfMonth(e),Ext.Date.YEAR,i)).getDate())),a.setDate(r),a.setFullYear(e.getFullYear()+i)}if(o){switch(t.toLowerCase()){case Ext.Date.MILLI:s=1;break;case Ext.Date.SECOND:s=1e3;break;case Ext.Date.MINUTE:s=6e4;break;case Ext.Date.HOUR:s=36e5;break;case Ext.Date.DAY:s=864e5;break;case Ext.Date.MONTH:s=864e5*(r=n.getDaysInMonth(a));break;case Ext.Date.YEAR:s=864e5*(r=n.isLeapYear(a)?366:365)}s&&a.setTime(a.getTime()+s*o)}return a},subtract:function(e,t,i){return n.add(e,t,-i)},between:function(e,t,n){var i=e.getTime();return t.getTime()<=i&&i<=n.getTime()},compat:function(){var e,t,i,r,o=window.Date,a=["useStrict","formatCodeToRegex","parseFunctions","parseRegexes","formatFunctions","y2kYear","MILLI","SECOND","MINUTE","HOUR","DAY","MONTH","YEAR","defaults","dayNames","monthNames","monthNumbers","getShortMonthName","getShortDayName","getMonthNumber","formatCodes","isValid","parseDate","getFormatCode","createFormat","createParser","parseCodes"],s=["dateFormat","format","getTimezone","getGMTOffset","getDayOfYear","getWeekOfYear","isLeapYear","getFirstDayOfMonth","getLastDayOfMonth","getDaysInMonth","getSuffix","clone","isDST","clearTime","add","between"],l=a.length,d=s.length;for(r=0;r<l;r++)o[t=a[r]]=n[t];for(e=0;e<d;e++)i=s[e],o.prototype[i]=function(){var e=Array.prototype.slice.call(arguments);return e.unshift(this),n[i].apply(n,e)}}})},function(e){var t=[],n=function(){},i=function(e,t,n,i){var r=function(){var t=this.callParent(arguments);return e.apply(this,arguments),t};return r.$name=n,r.$owner=i,t&&(r.$previous=t.$previous,t.$previous=r),r};Ext.apply(n,{$className:"Ext.Base",$isClass:!0,create:function(){return Ext.create.apply(Ext,[this].concat(Array.prototype.slice.call(arguments,0)))},extend:function(e){var t,n,i,r,o,a,s=e.prototype;if((n=this.prototype=Ext.Object.chain(s)).self=this,this.superclass=n.superclass=s,!e.$isClass)for(i in t=Ext.Base.prototype)i in n&&(n[i]=t[i]);if(a=s.$inheritableStatics)for(i=0,r=a.length;i<r;i++)o=a[i],this.hasOwnProperty(o)||(this[o]=e[o]);e.$onExtended&&(this.$onExtended=e.$onExtended.slice()),n.config=new n.configClass,n.initConfigList=n.initConfigList.slice(),n.initConfigMap=Ext.clone(n.initConfigMap),n.configMap=Ext.Object.chain(n.configMap)},$onExtended:[],triggerExtended:function(){Ext.classSystemMonitor&&Ext.classSystemMonitor(this,"Ext.Base#triggerExtended",arguments);var e,t,n=this.$onExtended,i=n.length;if(i>0)for(e=0;e<i;e++)(t=n[e]).fn.apply(t.scope||this,arguments)},onExtended:function(e,t){return this.$onExtended.push({fn:e,scope:t}),this},addConfig:function(e,t){var n,i,r,o=this.prototype,a=Ext.Class.configNameCache,s=o.configMap,l=o.initConfigList,d=o.initConfigMap,c=o.config;for(i in e)e.hasOwnProperty(i)&&(s[i]||(s[i]=!0),r=e[i],n=a[i].initialized,d[i]||null===r||o[n]||(d[i]=!0,l.push(i)));t?Ext.merge(c,e):Ext.mergeIf(c,e),o.configClass=Ext.Object.classify(c)},addStatics:function(e){var t,n;for(n in e)e.hasOwnProperty(n)&&("function"!=typeof(t=e[n])||t.$isClass||t===Ext.emptyFn||t===Ext.identityFn||(t.$owner=this,t.$name=n,t.displayName=Ext.getClassName(this)+"."+n),this[n]=t);return this},addInheritableStatics:function(e){var t,n,i,r,o=this.prototype;for(i in t=o.$inheritableStatics,n=o.$hasInheritableStatics,t||(t=o.$inheritableStatics=[],n=o.$hasInheritableStatics={}),e)e.hasOwnProperty(i)&&("function"==typeof(r=e[i])&&(r.displayName=Ext.getClassName(this)+"."+i),this[i]=r,n[i]||(n[i]=!0,t.push(i)));return this},addMembers:function(e){var t,n,i,r,o=this.prototype,a=Ext.enumerables,s=[];for(i in e)s.push(i);for(a&&s.push.apply(s,a),t=0,n=s.length;t<n;t++)i=s[t],e.hasOwnProperty(i)&&("function"!=typeof(r=e[i])||r.$isClass||r===Ext.emptyFn||r===Ext.identityFn||(r.$owner=this,r.$name=i,r.displayName=(this.$className||"")+"#"+i),o[i]=r);return this},addMember:function(e,t){return"function"!=typeof t||t.$isClass||t===Ext.emptyFn||t===Ext.identityFn||(t.$owner=this,t.$name=e,t.displayName=(this.$className||"")+"#"+e),this.prototype[e]=t,this},implement:function(){this.addMembers.apply(this,arguments)},borrow:function(e,t){Ext.classSystemMonitor&&Ext.classSystemMonitor(this,"Ext.Base#borrow",arguments);var n,i,r,o,a,s=this.prototype,l=e.prototype,d=Ext.getClassName(this);for(n=0,i=(t=Ext.Array.from(t)).length;n<i;n++)"function"==typeof(a=l[r=t[n]])?(o=Ext.Function.clone(a),d&&(o.displayName=d+"#"+r),o.$owner=this,o.$name=r,s[r]=o):s[r]=a;return this},override:function(e){var t,n,i,r,o,a,s=this,l=Ext.enumerables,d=s.prototype,c=Ext.Function.clone;2===arguments.length&&(t=e,(e={})[t]=arguments[1],l=null);do{for(t in o=[],r=null,e)"statics"==t?r=e[t]:"inheritableStatics"==t?s.addInheritableStatics(e[t]):"config"==t?s.addConfig(e[t],!0):o.push(t);for(l&&o.push.apply(o,l),n=o.length;n--;)t=o[n],e.hasOwnProperty(t)&&("function"!=typeof(i=e[t])||i.$className||i===Ext.emptyFn||i===Ext.identityFn||(void 0!==i.$owner&&(i=c(i)),s.$className&&(i.displayName=s.$className+"#"+t),i.$owner=s,i.$name=t,(a=d[t])&&(i.$previous=a)),d[t]=i);d=s,e=r}while(e);return this},callParent:function(e){var n;return(n=this.callParent.caller)&&(n.$previous||(n=n.$owner?n:n.caller)&&n.$owner.superclass.self[n.$name]).apply(this,e||t)},callSuper:function(e){var n;return(n=this.callSuper.caller)&&((n=n.$owner?n:n.caller)&&n.$owner.superclass.self[n.$name]).apply(this,e||t)},mixin:function(e,t){var n,r,o,a,s,l,d,c,u=this,h=t.prototype,f=u.prototype;for(n in void 0!==h.onClassMixedIn&&h.onClassMixedIn.call(t,u),f.hasOwnProperty("mixins")||(f.mixins="mixins"in f?Ext.Object.chain(f.mixins):{}),h)if(l=h[n],"mixins"===n)Ext.merge(f.mixins,l);else if("xhooks"===n)for(d in l)(c=l[d]).$previous=Ext.emptyFn,f.hasOwnProperty(d)?i(c,f[d],d,u):f[d]=i(c,null,d,u);else"mixinId"!==n&&"config"!==n&&void 0===f[n]&&(f[n]=l);if(r=h.$inheritableStatics)for(o=0,a=r.length;o<a;o++)s=r[o],u.hasOwnProperty(s)||(u[s]=t[s]);return"config"in h&&u.addConfig(h.config,!1),f.mixins[e]=h,u},getName:function(){return Ext.getClassName(this)},createAlias:e(function(e,t){this.override(e,function(){return this[t].apply(this,arguments)})}),addXtype:function(e){var t=this.prototype,n=t.xtypesMap,i=t.xtypes,r=t.xtypesChain;return t.hasOwnProperty("xtypesMap")||(n=t.xtypesMap=Ext.merge({},t.xtypesMap||{}),i=t.xtypes=t.xtypes?[].concat(t.xtypes):[],r=t.xtypesChain=t.xtypesChain?[].concat(t.xtypesChain):[],t.xtype=e),n[e]||(n[e]=!0,i.push(e),r.push(e),Ext.ClassManager.setAlias(this,"widget."+e)),this}}),n.implement({isInstance:!0,$className:"Ext.Base",configClass:Ext.emptyFn,initConfigList:[],configMap:{},initConfigMap:{},statics:function(){var e=this.statics.caller,t=this.self;return e?e.$owner:t},callParent:function(e){var n,i=(n=this.callParent.caller)&&(n.$previous||(n=n.$owner?n:n.caller)&&n.$owner.superclass[n.$name]);if(!i){var r,o;if(!(n=this.callParent.caller).$owner){if(!n.caller)throw new Error("Attempting to call a protected method from the public scope, which is not allowed");n=n.caller}if(r=n.$owner.superclass,!((o=n.$name)in r))throw new Error("this.callParent() was called but there's no such method ("+o+") found in the parent class ("+(Ext.getClassName(r)||"Object")+")")}return i.apply(this,e||t)},callSuper:function(e){var n,i=(n=this.callSuper.caller)&&(n=n.$owner?n:n.caller)&&n.$owner.superclass[n.$name];if(!i){var r,o;if(!(n=this.callSuper.caller).$owner){if(!n.caller)throw new Error("Attempting to call a protected method from the public scope, which is not allowed");n=n.caller}if(r=n.$owner.superclass,!((o=n.$name)in r))throw new Error("this.callSuper() was called but there's no such method ("+o+") found in the parent class ("+(Ext.getClassName(r)||"Object")+")")}return i.apply(this,e||t)},self:n,constructor:function(){return this},initConfig:function(e){var t,n,i,r,o,a=e,s=Ext.Class.configNameCache,l=new this.configClass,d=this.initConfigList,c=this.configMap;if(this.initConfig=Ext.emptyFn,this.initialConfig=a||{},this.config=e=a?Ext.merge(l,e):l,a)for(r in d=d.slice(),a)c[r]&&null!==a[r]&&(d.push(r),this[s[r].initialized]=!1);for(n=0,i=d.length;n<i;n++)this[o=(t=s[r=d[n]]).initialized]||(this[o]=!0,this[t.set].call(this,e[r]));return this},hasConfig:function(e){return Boolean(this.configMap[e])},setConfig:function(e,t){if(!e)return this;var n,i,r=Ext.Class.configNameCache,o=this.config,a=this.configMap,s=this.initialConfig;for(n in t=Boolean(t),e)t&&s.hasOwnProperty(n)||(i=e[n],o[n]=i,a[n]&&this[r[n].set](i));return this},getConfig:function(e){return this[Ext.Class.configNameCache[e].get]()},getInitialConfig:function(e){var t=this.config;return e?t[e]:t},onConfigUpdate:function(e,t,n){var i,r,o,a,s,l,d=this.self,c=d.$className;for(e=Ext.Array.from(e),n=n||this,i=0,r=e.length;i<r;i++)o=e[i],a="update"+Ext.String.capitalize(o),s=this[a]||Ext.emptyFn,(l=function(){s.apply(this,arguments),n[t].apply(n,arguments)}).$name=a,l.$owner=d,l.displayName=c+"#"+a,this[a]=l},destroy:function(){this.destroy=Ext.emptyFn}}),n.prototype.callOverridden=n.prototype.callParent,Ext.Base=n}(Ext.Function.flexSetter),function(){var e,t,n,i=Ext.Base,r=[];for(t in i)i.hasOwnProperty(t)&&r.push(t);n=r.length,Ext.Class=e=function(t,n,i){return"function"!=typeof t&&(i=n,n=t,t=null),n||(n={}),t=e.create(t,n),e.process(t,n,i),t},Ext.apply(e,{onBeforeCreated:function(e,t,n){Ext.classSystemMonitor&&Ext.classSystemMonitor(e,">> Ext.Class#onBeforeCreated",arguments),e.addMembers(t),n.onCreated.call(e,e),Ext.classSystemMonitor&&Ext.classSystemMonitor(e,"<< Ext.Class#onBeforeCreated",arguments)},create:function(e,t){var o,a;for(e||(e=function(e){function t(){return this.constructor.apply(this,arguments)||null}return e&&(t.displayName=e),t}(t.$className)),a=0;a<n;a++)e[o=r[a]]=i[o];return e},process:function(t,n,i){var r,o,a,s,l,d,c,u=n.preprocessors||e.defaultPreprocessors,h=this.preprocessors,f={onBeforeCreated:this.onBeforeCreated},p=[];for(delete n.preprocessors,a=0,s=u.length;a<s;a++)if("string"==typeof(r=u[a])){if(!0===(o=(r=h[r]).properties))p.push(r.fn);else if(o)for(l=0,d=o.length;l<d;l++)if(c=o[l],n.hasOwnProperty(c)){p.push(r.fn);break}}else p.push(r);f.onCreated=i||Ext.emptyFn,f.preprocessors=p,this.doProcess(t,n,f)},doProcess:function(e,t,n){for(var i=this,r=n.preprocessors,o=r.shift(),a=i.doProcess;o;o=r.shift())if(!1===o.call(i,e,t,n,a))return;n.onBeforeCreated.apply(i,arguments)},preprocessors:{},registerPreprocessor:function(e,t,n,i,r){return i||(i="last"),n||(n=[e]),this.preprocessors[e]={name:e,properties:n||!1,fn:t},this.setDefaultPreprocessorPosition(e,i,r),this},getPreprocessor:function(e){return this.preprocessors[e]},getPreprocessors:function(){return this.preprocessors},defaultPreprocessors:[],getDefaultPreprocessors:function(){return this.defaultPreprocessors},setDefaultPreprocessors:function(e){return this.defaultPreprocessors=Ext.Array.from(e),this},setDefaultPreprocessorPosition:function(e,t,n){var i,r=this.defaultPreprocessors;if("string"==typeof t){if("first"===t)return r.unshift(e),this;if("last"===t)return r.push(e),this;t="after"===t?1:-1}return-1!==(i=Ext.Array.indexOf(r,n))&&Ext.Array.splice(r,Math.max(0,i+t),0,e),this},configNameCache:{},getConfigNameMap:function(e){var t,n=this.configNameCache,i=n[e];return i||(t=e.charAt(0).toUpperCase()+e.substr(1),i=n[e]={internal:e,initialized:"_is"+t+"Initialized",apply:"apply"+t,update:"update"+t,set:"set"+t,get:"get"+t,doSet:"doSet"+t,changeEvent:e.toLowerCase()+"change"}),i}}),e.registerPreprocessor("extend",function(e,t,n){Ext.classSystemMonitor&&Ext.classSystemMonitor(e,"Ext.Class#extendPreProcessor",arguments);var i,r,o,a=Ext.Base,s=a.prototype,l=t.extend;if(delete t.extend,r=(i=l&&l!==Object?l:a).prototype,!i.$isClass)for(o in s)r[o]||(r[o]=s[o]);e.extend(i),e.triggerExtended.apply(e,arguments),t.onClassExtended&&(e.onExtended(t.onClassExtended,e),delete t.onClassExtended)},!0),e.registerPreprocessor("statics",function(e,t){Ext.classSystemMonitor&&Ext.classSystemMonitor(e,"Ext.Class#staticsPreprocessor",arguments),e.addStatics(t.statics),delete t.statics}),e.registerPreprocessor("inheritableStatics",function(e,t){Ext.classSystemMonitor&&Ext.classSystemMonitor(e,"Ext.Class#inheritableStaticsPreprocessor",arguments),e.addInheritableStatics(t.inheritableStatics),delete t.inheritableStatics}),e.registerPreprocessor("config",function(t,n){Ext.classSystemMonitor&&Ext.classSystemMonitor(t,"Ext.Class#configPreProcessor",arguments);var i=n.config,r=t.prototype;delete n.config,Ext.Object.each(i,function(t,i){var o,a,s=e.getConfigNameMap(t),l=s.internal,d=s.initialized,c=s.apply,u=s.update,h=s.set,f=s.get,p=h in r||n.hasOwnProperty(h),g=c in r||n.hasOwnProperty(c),m=u in r||n.hasOwnProperty(u);null!==i&&(p||g||m)?r[d]=!1:(r[l]=i,r[d]=!0),p||(n[h]=function(e){var t=this[l],n=this[c],i=this[u];return this[d]||(this[d]=!0),n&&(e=n.call(this,e,t)),void 0!==e&&(this[l]=e,i&&e!==t&&i.call(this,e,t)),this}),f in r&&!n.hasOwnProperty(f)||(a=n[f]||!1,o=a?function(){return a.apply(this,arguments)}:function(){return this[l]},n[f]=function(){var e;return this[d]||(this[d]=!0,this[h](this.config[t])),"$previous"in(e=this[f])?e.$previous=o:this[f]=o,o.apply(this,arguments)})}),t.addConfig(i,!0)}),e.registerPreprocessor("mixins",function(e,t,n){Ext.classSystemMonitor&&Ext.classSystemMonitor(e,"Ext.Class#mixinsPreprocessor",arguments);var i,r,o,a,s=t.mixins;delete t.mixins,Ext.Function.interceptBefore(n,"onCreated",function(){if(Ext.classSystemMonitor&&Ext.classSystemMonitor(e,"Ext.Class#mixinsPreprocessor#beforeCreated",arguments),s instanceof Array)for(o=0,a=s.length;o<a;o++)r=s[o],i=r.prototype.mixinId||r.$className,e.mixin(i,r);else for(var t in s)s.hasOwnProperty(t)&&e.mixin(t,s[t])})}),Ext.extend=function(t,n,i){var r;if(Ext.classSystemMonitor&&Ext.classSystemMonitor(t,"Ext.Class#extend-backwards-compatible",arguments),2===arguments.length&&Ext.isObject(n)&&(i=n,n=t,t=null),!n)throw new Error("[Ext.extend] Attempting to extend from a class which has not been loaded on the page.");return i.extend=n,i.preprocessors=["extend","statics","inheritableStatics","mixins","config"],t?(r=new e(t,i)).prototype.constructor=t:r=new e(i),r.prototype.override=function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])},r}}(),function(e,t,n,i,r){var o=Ext.ClassManager={classes:{},existCache:{},namespaceRewrites:[{from:"Ext.",to:Ext}],maps:{alternateToName:{},aliasToName:{},nameToAliases:{},nameToAlternates:{}},enableNamespaceParseCache:!0,namespaceParseCache:{},instantiators:[],isCreated:function(e){var t,n,i,o,a,s=this.existCache;if("string"!=typeof e||e.length<1)throw new Error("[Ext.ClassManager] Invalid classname, must be a string and must not be empty");if(this.classes[e]||s[e])return!0;for(o=r,t=0,n=(a=this.parseNamespace(e)).length;t<n;t++)if("string"!=typeof(i=a[t]))o=i;else{if(!o||!o[i])return!1;o=o[i]}return s[e]=!0,this.triggerCreated(e),!0},createdListeners:[],nameCreatedListeners:{},triggerCreated:function(e){var t,n,i,r,o,a,s=this.createdListeners,l=this.nameCreatedListeners,d=this.maps.nameToAlternates[e],c=[e];for(t=0,n=s.length;t<n;t++)(o=s[t]).fn.call(o.scope,e);for(d&&c.push.apply(c,d),t=0,n=c.length;t<n;t++)if(s=l[a=c[t]]){for(i=0,r=s.length;i<r;i++)(o=s[i]).fn.call(o.scope,a);delete l[a]}},onCreated:function(e,t,n){Ext.classSystemMonitor&&Ext.classSystemMonitor(n,"Ext.ClassManager#onCreated",arguments);var i=this.createdListeners,r=this.nameCreatedListeners,o={fn:e,scope:t};if(n){if(this.isCreated(n))return void e.call(t,n);r[n]||(r[n]=[]),r[n].push(o)}else i.push(o)},parseNamespace:function(e){if("string"!=typeof e)throw new Error("[Ext.ClassManager] Invalid namespace, must be a string");var t,n,i,o,a,s,l,d,c,u=this.namespaceParseCache;if(this.enableNamespaceParseCache&&u.hasOwnProperty(e))return u[e];for(t=[],n=this.namespaceRewrites,i=r,o=e,d=0,c=n.length;d<c;d++)if(s=(a=n[d]).from,l=a.to,o===s||o.substring(0,s.length)===s){o=o.substring(s.length),"string"!=typeof l?i=l:t=t.concat(l.split("."));break}return t.push(i),t=t.concat(o.split(".")),this.enableNamespaceParseCache&&(u[e]=t),t},setNamespace:function(e,t){var n,i,o=r,a=this.parseNamespace(e),s=a.length-1,l=a[s];for(n=0;n<s;n++)"string"!=typeof(i=a[n])?o=i:(o[i]||(o[i]={}),o=o[i]);return o[l]=t,o[l]},createNamespaces:function(){var e,t,n,i,o,a,s=r;for(n=0,o=arguments.length;n<o;n++)for(i=0,a=(e=this.parseNamespace(arguments[n])).length;i<a;i++)"string"!=typeof(t=e[i])?s=t:(s[t]||(s[t]={}),s=s[t]);return s},set:function(e,t){var n=this,i=n.maps,r=i.nameToAlternates,o=n.getName(t);return n.classes[e]=n.setNamespace(e,t),o&&o!==e&&(i.alternateToName[e]=o,(r[o]||(r[o]=[])).push(e)),this},get:function(e){var t,n,i,o,a,s=this.classes;if(s[e])return s[e];for(t=r,o=0,a=(n=this.parseNamespace(e)).length;o<a;o++)if("string"!=typeof(i=n[o]))t=i;else{if(!t||!t[i])return null;t=t[i]}return t},setAlias:function(e,t){var n,i=this.maps.aliasToName,o=this.maps.nameToAliases;return n="string"==typeof e?e:this.getName(e),t&&i[t]!==n&&(i[t]&&Ext.isDefined(r.console)&&r.console.log("[Ext.ClassManager] Overriding existing alias: '"+t+"' of: '"+i[t]+"' with: '"+n+"'. Be sure it's intentional."),i[t]=n),o[n]||(o[n]=[]),t&&Ext.Array.include(o[n],t),this},addNameAliasMappings:function(e){var t,n,i,r,o=this.maps.aliasToName,a=this.maps.nameToAliases;for(t in e)for(n=a[t]||(a[t]=[]),r=0;r<e[t].length;r++)o[i=e[t][r]]||(o[i]=t,n.push(i));return this},addNameAlternateMappings:function(e){var t,n,i,r,o=this.maps.alternateToName,a=this.maps.nameToAlternates;for(t in e)for(n=a[t]||(a[t]=[]),r=0;r<e[t].length;r++)o[i=e[t]]||(o[i]=t,n.push(i));return this},getByAlias:function(e){return this.get(this.getNameByAlias(e))},getNameByAlias:function(e){return this.maps.aliasToName[e]||""},getNameByAlternate:function(e){return this.maps.alternateToName[e]||""},getAliasesByName:function(e){return this.maps.nameToAliases[e]||[]},getName:function(e){return e&&e.$className||""},getClass:function(e){return e&&e.self||null},create:function(t,n,i){if(null!=t&&"string"!=typeof t)throw new Error("[Ext.define] Invalid class name '"+t+"' specified, must be a non-empty string");var r=function(){return this.constructor.apply(this,arguments)||null};return"function"==typeof n&&(n=n(r)),t&&(r.displayName=t),n.$className=t,new e(r,n,function(){var e,r,a,s,l,d,c,u=n.postprocessors||o.defaultPostprocessors,h=o.postprocessors,f=[];for(delete n.postprocessors,r=0,a=u.length;r<a;r++)if("string"==typeof(e=u[r])){if(!0===(d=(e=h[e]).properties))f.push(e.fn);else if(d)for(s=0,l=d.length;s<l;s++)if(c=d[s],n.hasOwnProperty(c)){f.push(e.fn);break}}else f.push(e);n.postprocessors=f,n.createdFn=i,o.processCreate(t,this,n)})},processCreate:function(e,t,n){var i=this,r=n.postprocessors.shift(),o=n.createdFn;if(!r)return Ext.classSystemMonitor&&Ext.classSystemMonitor(e,"Ext.ClassManager#classCreated",arguments),e&&i.set(e,t),o&&o.call(t,t),void(e&&i.triggerCreated(e));!1!==r.call(i,e,t,n,i.processCreate)&&i.processCreate(e,t,n)},createOverride:function(e,t,n){var i=this,r=t.override,o=t.requires,a=t.uses,s=function(){var l,d;o?(d=o,o=null,Ext.Loader.require(d,s)):(l=i.get(r),delete t.override,delete t.requires,delete t.uses,Ext.override(l,t),i.triggerCreated(e),a&&Ext.Loader.addUsedClasses(a),n&&n.call(l))};return i.existCache[e]=!0,i.onCreated(s,i,r),i},instantiateByAlias:function(){var e=arguments[0],t=n.call(arguments),i=this.getNameByAlias(e);if(!i){if(!(i=this.maps.aliasToName[e]))throw new Error("[Ext.createByAlias] Cannot create an instance of unrecognized alias: "+e);r.console&&r.console.warn("[Ext.Loader] Synchronously loading '"+i+"'; consider adding Ext.require('"+e+"') above Ext.onReady"),Ext.syncRequire(i)}return t[0]=i,this.instantiate.apply(this,t)},instantiate:function(){var e,t,i=arguments[0],o=typeof i,a=n.call(arguments,1),s=i;if("function"!=o){if("string"!=o&&0===a.length&&(a=[i],i=i.xclass),"string"!=typeof i||i.length<1)throw new Error("[Ext.create] Invalid class name or alias '"+i+"' specified, must be a non-empty string");t=this.get(i)}else t=i;if(t||(e=this.getNameByAlias(i))&&(i=e,t=this.get(i)),t||(e=this.getNameByAlternate(i))&&(i=e,t=this.get(i)),t||(r.console&&r.console.warn("[Ext.Loader] Synchronously loading '"+i+"'; consider adding Ext.require('"+(e?s:i)+"') above Ext.onReady"),Ext.syncRequire(i),t=this.get(i)),!t)throw new Error("[Ext.create] Cannot create an instance of unrecognized class name / alias: "+s);if("function"!=typeof t)throw new Error("[Ext.create] '"+i+"' is a singleton and cannot be instantiated");return this.getInstantiator(a.length)(t,a)},dynInstantiate:function(e,t){return(t=i(t,!0)).unshift(e),this.instantiate.apply(this,t)},getInstantiator:function(e){var t,n,i,r=this.instantiators;if(!(t=r[e])){for(n=e,i=[],n=0;n<e;n++)i.push("a["+n+"]");(t=r[e]=new Function("c","a","return new c("+i.join(",")+")")).displayName="Ext.ClassManager.instantiate"+e}return t},postprocessors:{},defaultPostprocessors:[],registerPostprocessor:function(e,t,n,i,r){return i||(i="last"),n||(n=[e]),this.postprocessors[e]={name:e,properties:n||!1,fn:t},this.setDefaultPostprocessorPosition(e,i,r),this},setDefaultPostprocessors:function(e){return this.defaultPostprocessors=i(e),this},setDefaultPostprocessorPosition:function(e,t,n){var i,r=this.defaultPostprocessors;if("string"==typeof t){if("first"===t)return r.unshift(e),this;if("last"===t)return r.push(e),this;t="after"===t?1:-1}return-1!==(i=Ext.Array.indexOf(r,n))&&Ext.Array.splice(r,Math.max(0,i+t),0,e),this},getNamesByExpression:function(e){var t,n,i,r,o,a,s=this.maps.nameToAliases,l=[];if("string"!=typeof e||e.length<1)throw new Error("[Ext.ClassManager.getNamesByExpression] Expression "+e+" is invalid, must be a non-empty string");if(-1!==e.indexOf("*")){for(t in e=e.replace(/\*/g,"(.*?)"),r=new RegExp("^"+e+"$"),s)if(s.hasOwnProperty(t))if(n=s[t],-1!==t.search(r))l.push(t);else for(o=0,a=n.length;o<a;o++)if(-1!==n[o].search(r)){l.push(t);break}}else(i=this.getNameByAlias(e))?l.push(i):(i=this.getNameByAlternate(e))?l.push(i):l.push(e);return l}};o.registerPostprocessor("alias",function(e,n,i){Ext.classSystemMonitor&&Ext.classSystemMonitor(e,"Ext.ClassManager#aliasPostProcessor",arguments);var r,o,a=i.alias;for(r=0,o=a.length;r<o;r++)t=a[r],this.setAlias(n,t)},["xtype","alias"]),o.registerPostprocessor("singleton",function(e,t,n,i){return Ext.classSystemMonitor&&Ext.classSystemMonitor(e,"Ext.ClassManager#singletonPostProcessor",arguments),!n.singleton||(i.call(this,e,new t,n),!1)}),o.registerPostprocessor("alternateClassName",function(e,t,n){Ext.classSystemMonitor&&Ext.classSystemMonitor(e,"Ext.ClassManager#alternateClassNamePostprocessor",arguments);var i,r,o,a=n.alternateClassName;for(a instanceof Array||(a=[a]),i=0,r=a.length;i<r;i++){if("string"!=typeof(o=a[i]))throw new Error("[Ext.define] Invalid alternate of: '"+o+"' for class: '"+e+"'; must be a valid string");this.set(o,t)}}),Ext.apply(Ext,{create:t(o,"instantiate"),widget:function(e,t){var n,i,r,a,s=e;return"string"!=typeof s?s=(t=e).xtype:t=t||{},t.isComponent?t:(n="widget."+s,(i=o.getNameByAlias(n))||(a=!0),r=o.get(i),a||!r?o.instantiateByAlias(n,t):new r(t))},createByAlias:t(o,"instantiateByAlias"),define:function(e,t,n){return Ext.classSystemMonitor&&Ext.classSystemMonitor(e,"ClassManager#define",arguments),t.override?o.createOverride.apply(o,arguments):o.create.apply(o,arguments)},undefine:function(e){Ext.classSystemMonitor&&Ext.classSystemMonitor(e,"Ext.ClassManager#undefine",arguments);var t,n,i,r,a=o.classes,s=o.maps,l=s.aliasToName,d=s.nameToAliases,c=s.alternateToName,u=s.nameToAlternates,h=d[e],f=u[e];if(delete o.namespaceParseCache[e],delete d[e],delete u[e],delete a[e],h)for(r=h.length;r--;)delete l[h[r]];if(f)for(r=f.length;r--;)delete c[f[r]];for(n=(t=o.parseNamespace(e)).length-1,i=t[0],r=1;r<n;r++)if(!(i=i[t[r]]))return;try{delete i[t[n]]}catch(e){i[t[n]]=void 0}},getClassName:t(o,"getName"),getDisplayName:function(e){if(e){if(e.displayName)return e.displayName;if(e.$name&&e.$class)return Ext.getClassName(e.$class)+"#"+e.$name;if(e.$className)return e.$className}return"Anonymous"},getClass:t(o,"getClass"),namespace:t(o,"createNamespaces")}),Ext.createWidget=Ext.widget,Ext.ns=Ext.namespace,e.registerPreprocessor("className",function(e,t){t.$className&&(e.$className=t.$className,e.displayName=e.$className),Ext.classSystemMonitor&&Ext.classSystemMonitor(e,"Ext.ClassManager#classNamePreprocessor",arguments)},!0,"first"),e.registerPreprocessor("alias",function(e,t){Ext.classSystemMonitor&&Ext.classSystemMonitor(e,"Ext.ClassManager#aliasPreprocessor",arguments);var n,r,o,a,s=e.prototype,l=i(t.xtype),d=i(t.alias),c="widget.",u=c.length,h=Array.prototype.slice.call(s.xtypesChain||[]),f=Ext.merge({},s.xtypesMap||{});for(n=0,r=d.length;n<r;n++){if("string"!=typeof(o=d[n])||o.length<1)throw new Error("[Ext.define] Invalid alias of: '"+o+"' for class: '"+name+"'; must be a valid string");o.substring(0,u)===c&&(a=o.substring(u),Ext.Array.include(l,a))}for(e.xtype=t.xtype=l[0],t.xtypes=l,n=0,r=l.length;n<r;n++)a=l[n],f[a]||(f[a]=!0,h.push(a));for(t.xtypesChain=h,t.xtypesMap=f,Ext.Function.interceptAfter(t,"onClassCreated",function(){Ext.classSystemMonitor&&Ext.classSystemMonitor(e,"Ext.ClassManager#aliasPreprocessor#afterClassCreated",arguments);var t,i,o=s.mixins;for(t in o)if(o.hasOwnProperty(t)&&(i=o[t],l=i.xtypes))for(n=0,r=l.length;n<r;n++)a=l[n],f[a]||(f[a]=!0,h.push(a))}),n=0,r=l.length;n<r;n++){if("string"!=typeof(a=l[n])||a.length<1)throw new Error("[Ext.define] Invalid xtype of: '"+a+"' for class: '"+name+"'; must be a valid non-empty string");Ext.Array.include(d,c+a)}t.alias=d},["xtype","alias"])}(Ext.Class,Ext.Function.alias,Array.prototype.slice,Ext.Array.from,Ext.global),Ext._alternatesMetadata&&(Ext.ClassManager.addNameAlternateMappings(Ext._alternatesMetadata),Ext._alternatesMetadata=null),Ext._aliasMetadata&&(Ext.ClassManager.addNameAliasMappings(Ext._aliasMetadata),Ext._aliasMetadata=null),Ext.Loader=new function(){var e=this,t=Ext.ClassManager,n=Ext.Class,i=Ext.Function.flexSetter,r=Ext.Function.alias,o=Ext.Function.pass,a=Ext.Function.defer,s=Ext.Array.erase,l="undefined"==typeof window,d=l&&"function"==typeof require,c=l&&"undefined"!=typeof system&&-1!==system.program.search(/jsdb/),u="undefined"!=typeof phantom&&phantom.fs,h=["extend","mixins","requires"],f={},p=[],g=/\/\.\//g,m=/\./g,x=0;Ext.apply(e,{isInHistory:f,history:p,config:{enabled:!1,scriptChainDelay:!1,disableCaching:!0,disableCachingParam:"_dc",garbageCollect:!1,paths:{Ext:"."},preserveScripts:!0,scriptCharset:void 0},setConfig:function(t,n){return Ext.isObject(t)&&1===arguments.length?(Ext.merge(e.config,t),"paths"in t&&Ext.app.collectNamespaces(t.paths)):(e.config[t]=Ext.isObject(n)?Ext.merge(e.config[t],n):n,"paths"===t&&Ext.app.collectNamespaces(n)),e},getConfig:function(t){return t?e.config[t]:e.config},setPath:i(function(t,n){return e.config.paths[t]=n,Ext.app.namespaces[t]=!0,x++,e}),addClassPathMappings:function(t){var n;if(0==x)e.config.paths=t;else for(n in t)e.config.paths[n]=t[n];return x++,e},getPath:function(t){var n="",i=e.config.paths,r=e.getPrefix(t);if(r.length>0){if(r===t)return i[r];n=i[r],t=t.substring(r.length+1)}return n.length>0&&(n+="/"),n.replace(g,"/")+t.replace(m,"/")+".js"},getPrefix:function(t){var n,i=e.config.paths,r="";if(i.hasOwnProperty(t))return t;for(n in i)i.hasOwnProperty(n)&&n+"."===t.substring(0,n.length+1)&&n.length>r.length&&(r=n);return r},isAClassNameWithAKnownPrefix:function(t){var n=e.getPrefix(t);return""!==n&&n!==t},require:function(e,t,n,i){t&&t.call(n)},syncRequire:function(){},exclude:function(t){return{require:function(n,i,r){return e.require(n,i,r,t)},syncRequire:function(n,i,r){return e.syncRequire(n,i,r,t)}}},onReady:function(e,t,n,i){var r;!1!==n&&Ext.onDocumentReady&&(r=e,e=function(){Ext.onDocumentReady(r,t,i)}),e.call(t)}});var y=[],E={},v={},b={},C={},w=[],S=[],I={},M=function(e,t){return t.priority-e.priority};Ext.apply(e,{documentHead:"undefined"!=typeof document&&(document.head||document.getElementsByTagName("head")[0]),isLoading:!1,queue:y,isClassFileLoaded:E,isFileLoaded:v,readyListeners:w,optionalRequires:S,requiresMap:I,numPendingFiles:0,numLoadedFiles:0,hasFileLoadError:!1,classNameToFilePathMap:b,scriptsLoading:0,syncModeEnabled:!1,scriptElements:C,refreshQueue:function(){var n,i,r,o,a=y.length;if(!a&&!e.scriptsLoading)return e.triggerReady();for(n=0;n<a;n++)if(i=y[n]){if((o=i.requires).length>e.numLoadedFiles)continue;for(r=0;r<o.length;)t.isCreated(o[r])?s(o,r,1):r++;if(0===i.requires.length){s(y,n,1),i.callback.call(i.scope),e.refreshQueue();break}}return e},injectScriptElement:function(t,n,i,r,o){var s=document.createElement("script"),l=!1,d=e.config,c=function(){l||(l=!0,s.onload=s.onreadystatechange=s.onerror=null,"number"==typeof d.scriptChainDelay?a(n,d.scriptChainDelay,r):n.call(r),e.cleanupScriptElement(s,!1===d.preserveScripts,d.garbageCollect))};return s.type="text/javascript",s.onerror=function(t){a(i,1,r),e.cleanupScriptElement(s,!1===d.preserveScripts,d.garbageCollect)},(o=o||d.scriptCharset)&&(s.charset=o),"addEventListener"in s?s.onload=c:"readyState"in s?s.onreadystatechange=function(){"loaded"!=this.readyState&&"complete"!=this.readyState||c()}:s.onload=c,s.src=t,(e.documentHead||document.getElementsByTagName("head")[0]).appendChild(s),s},removeScriptElement:function(t){return C[t]&&(e.cleanupScriptElement(C[t],!0,!!e.getConfig("garbageCollect")),delete C[t]),e},cleanupScriptElement:function(t,n,i){var r;if(t.onload=t.onreadystatechange=t.onerror=null,n&&(Ext.removeNode(t),i))for(r in t)try{"src"!=r&&(t[r]=null),delete t[r]}catch(e){}return e},loadScript:function(t){var n,i=e.getConfig(),r="string"==typeof t,o=r?t:t.url,a=!r&&t.onError,s=!r&&t.onLoad,l=!r&&t.scope;e.isLoading=!0,e.numPendingFiles++,e.scriptsLoading++,n=i.disableCaching?o+"?"+i.disableCachingParam+"="+Ext.Date.now():o,C[o]=e.injectScriptElement(n,function(){e.numPendingFiles--,e.scriptsLoading--,s&&s.call(l),e.numPendingFiles+e.scriptsLoading===0&&e.refreshQueue()},function(){e.numPendingFiles--,e.scriptsLoading--,a&&a.call(l,"Failed loading '"+o+"', please verify that the file exists"),e.numPendingFiles+e.scriptsLoading===0&&e.refreshQueue()})},loadScriptFile:function(t,n,i,r,o){if(v[t])return e;var a,s,l,d=e.getConfig(),c=t+(d.disableCaching?"?"+d.disableCachingParam+"="+Ext.Date.now():""),h=!1,f="";if(r=r||e,e.isLoading=!0,o){a="undefined"!=typeof XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");try{a.open("GET",c,!1),a.send(null)}catch(e){h=!0}s=1223===a.status?204:0!==a.status||"file:"!=(self.location||{}).protocol&&"ionp:"!=(self.location||{}).protocol?a.status:200,(h=h||0===s)&&!u?i.call(e,"Failed loading synchronously via XHR: '"+t+"'; It's likely that the file is either being loaded from a different domain or from the local file system whereby cross origin requests are not allowed due to security reasons. Use asynchronous loading with Ext.require instead.",o):s>=200&&s<300||304===s||u?(Ext.isIE||(f="\n//@ sourceURL="+t),Ext.globalEval(a.responseText+f),n.call(r)):i.call(e,"Failed loading synchronously via XHR: '"+t+"'; please verify that the file exists. XHR status code: "+s,o),a=null}else l=function(){i.call(r,"Failed loading '"+t+"', please verify that the file exists",o)},C[t]=e.injectScriptElement(c,n,l,r)},syncRequire:function(){var t=e.syncModeEnabled;t||(e.syncModeEnabled=!0),e.require.apply(e,arguments),t||(e.syncModeEnabled=!1),e.refreshQueue()},require:function(n,i,r,a){var s,l,d,c,u,h,f,p,g,m,x,v={},C={},w=[],S=[],I=[],M=[];if(a)for(p=0,m=(a="string"==typeof a?[a]:a).length;p<m;p++)if("string"==typeof(u=a[p])&&u.length>0)for(g=0,x=(w=t.getNamesByExpression(u)).length;g<x;g++)v[w[g]]=!0;for(n="string"==typeof n?[n]:n||[],s=i?i.length>0?function(){var e,n,r=[];for(e=0,n=M.length;e<n;e++)r.push(t.get(M[e]));return i.apply(this,r)}:i:Ext.emptyFn,r=r||Ext.global,p=0,m=n.length;p<m;p++)if("string"==typeof(c=n[p])&&c.length>0)for(x=(S=t.getNamesByExpression(c)).length,g=0;g<x;g++)!0!==v[f=S[g]]&&(M.push(f),t.isCreated(f)||C[f]||(C[f]=!0,I.push(f)));if(!(I.length>0))return s.call(r),e;if(!e.config.enabled)throw new Error("Ext.Loader is not enabled, so dependencies cannot be resolved dynamically. Missing required class"+(I.length>1?"es":"")+": "+I.join(", "));for((l=e.syncModeEnabled)||y.push({requires:I.slice(),callback:s,scope:r}),m=I.length,p=0;p<m;p++)h=I[p],d=e.getPath(h),l&&E.hasOwnProperty(h)&&(E[h]||(e.numPendingFiles--,e.removeScriptElement(d),delete E[h])),E.hasOwnProperty(h)||(E[h]=!1,b[h]=d,e.numPendingFiles++,e.loadScriptFile(d,o(e.onFileLoaded,[h,d],e),o(e.onFileLoadError,[h,d],e),e,l));return l&&(s.call(r),1===m)?t.get(h):e},onFileLoaded:function(t,n){var i=E[t];if(e.numLoadedFiles++,E[t]=!0,v[n]=!0,i||e.numPendingFiles--,0===e.numPendingFiles&&e.refreshQueue(),!e.syncModeEnabled&&0===e.numPendingFiles&&e.isLoading&&!e.hasFileLoadError){var r,o,a,s,l,d=[],c=[];for(o=0,a=y.length;o<a;o++)for(s=0,l=(r=y[o].requires).length;s<l;s++)E[r[s]]&&d.push(r[s]);if(d.length<1)return;if((d=Ext.Array.filter(Ext.Array.unique(d),function(e){return!I.hasOwnProperty(e)},e)).length<1)return;for(o=0,a=d.length;o<a;o++)c.push(b[d[o]]);throw new Error("The following classes are not declared even if their files have been loaded: '"+d.join("', '")+"'. Please check the source code of their corresponding files for possible typos: '"+c.join("', '"))}},onFileLoadError:function(t,n,i,r){throw e.numPendingFiles--,e.hasFileLoadError=!0,new Error("[Ext.Loader] "+i)},addUsedClasses:function(t){var n,i,r;if(t)for(i=0,r=(t="string"==typeof t?[t]:t).length;i<r;i++)"string"!=typeof(n=t[i])||Ext.Array.contains(S,n)||S.push(n);return e},triggerReady:function(){var t,n=S;if(e.isLoading&&(e.isLoading=!1,0!==n.length))return n=n.slice(),S.length=0,e.require(n,e.triggerReady,e),e;for(Ext.Array.sort(w,M);w.length&&!e.isLoading;)(t=w.shift()).fn.call(t.scope);return e},onReady:function(t,n,i,r){var o;!1!==i&&Ext.onDocumentReady&&(o=t,t=function(){Ext.onDocumentReady(o,n,r)}),e.isLoading?w.push({fn:t,scope:n,priority:r&&r.priority||0}):t.call(n)},historyPush:function(t){return t&&E.hasOwnProperty(t)&&!f[t]&&(f[t]=!0,p.push(t)),e}}),Ext.disableCacheBuster=function(e,t){var n=new Date;n.setTime(n.getTime()+24*(e?3650:-1)*60*60*1e3),n=n.toGMTString(),document.cookie="ext-cache=1; expires="+n+"; path="+(t||"/")},l&&(d?Ext.apply(e,{syncModeEnabled:!0,setPath:i(function(t,n){return n=require("fs").realpathSync(n),e.config.paths[t]=n,e}),loadScriptFile:function(e,t,n,i,r){require(e),t.call(i)}}):c&&Ext.apply(e,{syncModeEnabled:!0,loadScriptFile:function(e,t,n,i,r){load(e),t.call(i)}})),Ext.require=r(e,"require"),Ext.syncRequire=r(e,"syncRequire"),Ext.exclude=r(e,"exclude"),Ext.onReady=function(t,n,i){e.onReady(t,n,!0,i)},n.registerPreprocessor("loader",function(n,i,r,o){Ext.classSystemMonitor&&Ext.classSystemMonitor(n,"Ext.Loader#loaderPreprocessor",arguments);var a,s,l,d,c,u,f,p,g,m=this,x=[],y=t.getName(n);for(s=0,d=h.length;s<d;s++)if(f=h[s],i.hasOwnProperty(f))if("string"==typeof(p=i[f]))x.push(p);else if(p instanceof Array)for(l=0,c=p.length;l<c;l++)"string"==typeof(u=p[l])&&x.push(u);else if("function"!=typeof p)for(l in p)p.hasOwnProperty(l)&&"string"==typeof(u=p[l])&&x.push(u);if(0!==x.length){var E,v=[];if(y){for(I[y]=x,g=e.requiredByMap||(e.requiredByMap={}),s=0,d=x.length;s<d;s++)(g[a=x[s]]||(g[a]=[])).push(y);(E=function(e){if(v.push(e),I[e]){if(Ext.Array.contains(I[e],y))throw new Error("Deadlock detected while loading dependencies! '"+y+"' and '"+v[1]+"' mutually require each other. Path: "+v.join(" -> ")+" -> "+v[0]);for(s=0,d=I[e].length;s<d;s++)E(I[e][s])}})(y)}return e.require(x,function(){for(s=0,d=h.length;s<d;s++)if(f=h[s],i.hasOwnProperty(f))if("string"==typeof(p=i[f]))i[f]=t.get(p);else if(p instanceof Array)for(l=0,c=p.length;l<c;l++)"string"==typeof(u=p[l])&&(i[f][l]=t.get(u));else if("function"!=typeof p)for(var e in p)p.hasOwnProperty(e)&&"string"==typeof(u=p[e])&&(i[f][e]=t.get(u));o.call(m,n,i,r)}),!1}},!0,"after","className"),t.registerPostprocessor("uses",function(t,n,i){Ext.classSystemMonitor&&Ext.classSystemMonitor(n,"Ext.Loader#usesPostprocessor",arguments);var r=i.uses;r&&e.addUsedClasses(r)}),t.onCreated(e.historyPush)},Ext._classPathMetadata&&(Ext.Loader.addClassPathMappings(Ext._classPathMetadata),Ext._classPathMetadata=null),function(){var e=document.getElementsByTagName("script"),t=e[e.length-1].src,n=t.substring(0,t.lastIndexOf("/")+1),i=Ext.Loader;-1!=t.indexOf("/platform/core/src/class/")?n+="../../../../extjs/":-1!=t.indexOf("/core/src/class/")&&(n+="../../../"),i.setConfig({enabled:!0,disableCaching:!0,paths:{Ext:n+"src"}})}(),Ext._endTime=(new Date).getTime(),Ext._beforereadyhandler&&Ext._beforereadyhandler(),Ext.Error=Ext.extend(Error,{statics:{ignore:!1,raise:function(e){e=e||{},Ext.isString(e)&&(e={msg:e});var t,n=this.raise.caller;if(n&&(n.$name&&(e.sourceMethod=n.$name),n.$owner&&(e.sourceClass=n.$owner.$className)),!0!==Ext.Error.handle(e))throw t=Ext.Error.prototype.toString.call(e),Ext.log({msg:t,level:"error",dump:e,stack:!0}),new Ext.Error(e)},handle:function(){return Ext.Error.ignore}},name:"Ext.Error",constructor:function(e){Ext.isString(e)&&(e={msg:e});var t=this;Ext.apply(t,e),t.message=t.message||t.msg},toString:function(){var e=this;return(e.sourceClass?e.sourceClass:"")+(e.sourceMethod?"."+e.sourceMethod+"(): ":"")+(e.msg||"(No description provided)")}}),Ext.deprecated=function(e){return e||(e=""),function t(){Ext.Error.raise('The method "'+t.$owner.$className+"."+t.$name+'" has been removed. '+e)}},function(){var e,t,n=0,i=Ext.global;function r(){var r=Ext.log.counters,a=Ext.supports,s=a&&a.WindowOnError;r&&r.error+r.warn+r.info+r.log&&(t=["Logged Errors:",r.error,"Warnings:",r.warn,"Info:",r.info,"Log:",r.log].join(" "),n?t="*** Errors: "+n+" - "+t:r.error&&(t="*** "+t),i.status=t),Ext.isDefined(Ext.Error.notify)||(Ext.Error.notify=Ext.isIE6||Ext.isIE7),Ext.Error.notify&&(s?n:r&&r.error)&&(Ext.Error.notify=!1,e&&(i.clearInterval(e),e=null),alert("Unhandled error on page: See console or log"),o())}function o(){e=i.setInterval(r,1e3)}"undefined"!=typeof window&&o()}(),Ext.JSON=new function(){var me=this,encodingFunction,decodingFunction,useNative=null,useHasOwn=!!{}.hasOwnProperty,isNative=function(){return null===useNative&&(useNative=Ext.USE_NATIVE_JSON&&window.JSON&&"[object JSON]"==JSON.toString()),useNative},pad=function(e){return e<10?"0"+e:e},doDecode=function(json){return eval("("+json+")")},doEncode=function(e,t){return null==e?"null":Ext.isDate(e)?Ext.JSON.encodeDate(e):Ext.isString(e)?Ext.JSON.encodeString(e):"number"==typeof e?isFinite(e)?String(e):"null":Ext.isBoolean(e)?String(e):e.toJSON?e.toJSON():Ext.isArray(e)?encodeArray(e,t):Ext.isObject(e)?encodeObject(e,t):"function"==typeof e?"null":"undefined"},m={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\","\v":"\\u000b"},charToReplace=/[\\\"\x00-\x1f\x7f-\uffff]/g,encodeString=function(e){return'"'+e.replace(charToReplace,function(e){var t=m[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"'},encodeArrayPretty=function(e,t){var n,i=e.length,r=t+"   ",o=","+r,a=["[",r];for(n=0;n<i;n+=1)a.push(Ext.JSON.encodeValue(e[n],r),o);return a[a.length-1]=t+"]",a.join("")},encodeObjectPretty=function(e,t){var n,i,r=t+"   ",o=","+r,a=["{",r];for(n in e)if(i=e[n],!useHasOwn||e.hasOwnProperty(n)){if("function"==typeof i||void 0===i)continue;a.push(Ext.JSON.encodeValue(n)+": "+Ext.JSON.encodeValue(i,r),o)}return a[a.length-1]=t+"}",a.join("")},encodeArray=function(e,t){if(t)return encodeArrayPretty(e,t);var n,i=["[",""],r=e.length;for(n=0;n<r;n+=1)i.push(Ext.JSON.encodeValue(e[n]),",");return i[i.length-1]="]",i.join("")},encodeObject=function(e,t){if(t)return encodeObjectPretty(e,t);var n,i,r=["{",""];for(n in e)if(i=e[n],!useHasOwn||e.hasOwnProperty(n)){if("function"==typeof i||void 0===i)continue;r.push(Ext.JSON.encodeValue(n),":",Ext.JSON.encodeValue(i),",")}return r[r.length-1]="}",r.join("")};me.encodeString=encodeString,me.encodeValue=doEncode,me.encodeDate=function(e){return'"'+e.getFullYear()+"-"+pad(e.getMonth()+1)+"-"+pad(e.getDate())+"T"+pad(e.getHours())+":"+pad(e.getMinutes())+":"+pad(e.getSeconds())+'"'},me.encode=function(e){return encodingFunction||(encodingFunction=isNative()?JSON.stringify:me.encodeValue),encodingFunction(e)},me.decode=function(e,t){decodingFunction||(decodingFunction=isNative()?JSON.parse:doDecode);try{return decodingFunction(e)}catch(n){if(!0===t)return null;Ext.Error.raise({sourceClass:"Ext.JSON",sourceMethod:"decode",msg:"You're trying to decode an invalid JSON String: "+e})}}},Ext.encode=Ext.JSON.encode,Ext.decode=Ext.JSON.decode,Ext.apply(Ext,{userAgent:navigator.userAgent.toLowerCase(),cache:{},idSeed:1e3,windowId:"ext-window",documentId:"ext-document",isReady:!1,enableGarbageCollector:!0,enableListenerCollection:!0,rootHierarchyState:{},addCacheEntry:function(e,t,n){(n=n||t.dom)||Ext.Error.raise("Cannot add an entry to the element cache without the DOM node");var i=Ext.cache,r=e||t&&t.id||n.id,o=i[r]||(i[r]={data:{},events:{},dom:n,skipGarbageCollection:!(!n.getElementById&&!n.navigator)});return t&&(t.$cache=o,o.el=t),o},updateCacheEntry:function(e,t){return e.dom=t,e.el&&(e.el.dom=t),e},id:function(e,t){var n=this,i="";return(e=Ext.getDom(e,!0)||{})===document?e.id=n.documentId:e===window&&(e.id=n.windowId),e.id||(n.isSandboxed&&(i=Ext.sandboxName.toLowerCase()+"-"),e.id=i+(t||"ext-gen")+ ++Ext.idSeed),e.id},escapeId:function(){var e=/^[a-zA-Z_][a-zA-Z0-9_\-]*$/i,t=/([\W]{1})/g,n=/^(\d)/g,i=function(e,t){return"\\"+t},r=function(e,t){return"\\00"+t.charCodeAt(0).toString(16)+" "};return function(o){return e.test(o)?o:o.replace(t,i).replace(n,r)}}(),getBody:function(){var e;return function(){return e||(e=Ext.get(document.body))}}(),getHead:function(){var e;return function(){return e||(e=Ext.get(document.getElementsByTagName("head")[0]))}}(),getDoc:function(){var e;return function(){return e||(e=Ext.get(document))}}(),getOrientation:function(){return window.innerHeight>window.innerWidth?"portrait":"landscape"},destroy:function(){var e,t,n=arguments.length;for(e=0;e<n;e++)(t=arguments[e])&&(Ext.isArray(t)?this.destroy.apply(this,t):Ext.isFunction(t.destroy)?t.destroy():t.dom&&t.remove())},callback:function(e,t,n,i){Ext.isFunction(e)&&(n=n||[],t=t||window,i?Ext.defer(e,i,t,n):e.apply(t,n))},htmlEncode:function(e){return Ext.String.htmlEncode(e)},htmlDecode:function(e){return Ext.String.htmlDecode(e)},urlAppend:function(e,t){return Ext.String.urlAppend(e,t)}}),Ext.ns=Ext.namespace,window.undefined=window.undefined,function(){var e,t=function(e){return e.test(Ext.userAgent)},n="CSS1Compat"==document.compatMode,i=function(e,t){var n;return e&&(n=t.exec(Ext.userAgent))?parseFloat(n[1]):0},r=document.documentMode,o=t(/opera/),a=o&&t(/version\/10\.5/),s=t(/\bchrome\b/),l=t(/webkit/),d=!s&&t(/safari/),c=d&&t(/applewebkit\/4/),u=d&&t(/version\/3/),h=d&&t(/version\/4/),f=d&&t(/version\/5\.0/),p=d&&t(/version\/5/),g=!o&&t(/msie/),m=g&&(t(/msie 7/)&&8!=r&&9!=r&&10!=r||7==r),x=g&&(t(/msie 8/)&&7!=r&&9!=r&&10!=r||8==r),y=g&&(t(/msie 9/)&&7!=r&&8!=r&&10!=r||9==r),E=g&&(t(/msie 10/)&&7!=r&&8!=r&&9!=r||10==r),v=g&&t(/msie 6/),b=!l&&t(/gecko/),C=b&&t(/rv:1\.9/),w=b&&t(/rv:2\.0/),S=b&&t(/rv:5\./),I=b&&t(/rv:10\./),M=C&&t(/rv:1\.9\.0/),P=C&&t(/rv:1\.9\.1/),T=C&&t(/rv:1\.9\.2/),k=t(/windows|win32/),D=t(/macintosh|mac os x/),A=t(/linux/),F=null,L=i(!0,/\bchrome\/(\d+\.\d+)/),O=i(!0,/\bfirefox\/(\d+\.\d+)/),R=i(g,/msie (\d+\.\d+)/),N=i(o,/version\/(\d+\.\d+)/),B=i(d,/version\/(\d+\.\d+)/),H=i(l,/webkit\/(\d+\.\d+)/),z=/^https/i.test(window.location.protocol);try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}var W,U=/string|number|boolean/;function X(e){var t,n,i,r,o,a=Ext.global.console,s="log",l=X.indent||0;X.indent=l,"string"!=typeof e&&(e=(t=e).msg||"",s=t.level||s,n=t.dump,i=t.stack,t.indent?++X.indent:t.outdent&&(X.indent=l=Math.max(l-1,0)),!n||a&&a.dir||(e+=function(e){var t,n,i,r,o=[];for(r in e)if(e.hasOwnProperty(r)){if("function"==(n=typeof(i=e[r])))continue;t="undefined"==n?n:null===i||U.test(n)||Ext.isDate(i)?Ext.encode(i):Ext.isArray(i)?"[ ]":Ext.isObject(i)?"{ }":n,o.push(Ext.encode(r)+": "+t)}return o.length?" \nData: {\n  "+o.join(",\n  ")+"\n}":""}(n),n=null)),arguments.length>1&&(e+=Array.prototype.slice.call(arguments,1).join("")),e=l?Ext.String.repeat(" ",X.indentSize*l)+e:e,"log"!=s&&(e="["+s.charAt(0).toUpperCase()+"] "+e),a?(a[s]?a[s](e):a.log(e),n&&a.dir(n),i&&a.trace&&(a.firebug&&"error"==s||a.trace())):Ext.isOpera?opera.postError(e):(r=X.out,o=X.max,r.length>=o&&Ext.Array.erase(r,0,r.length-3*Math.floor(o/4)),r.push(e)),++X.count,++X.counters[s]}function j(e,t){"string"==typeof t[0]&&t.unshift({}),t[0].level=e,X.apply(this,t)}X.error=function(){j("error",Array.prototype.slice.call(arguments))},X.info=function(){j("info",Array.prototype.slice.call(arguments))},X.warn=function(){j("warn",Array.prototype.slice.call(arguments))},X.count=0,X.counters={error:0,warn:0,info:0,log:0},X.indentSize=2,X.out=[],X.max=750,X.show=function(){window.open("","extlog").document.write(['<html><head><script type="text/javascript">',"var lastCount = 0;","function update () {","var ext = window.opener.Ext,","extlog = ext && ext.log;","if (extlog && extlog.out && lastCount != extlog.count) {","lastCount = extlog.count;",'var s = "<tt>" + extlog.out.join("~~~").replace(/[&]/g, "&amp;").replace(/[<]/g, "&lt;").replace(/[ ]/g, "&#160;").replace(/\\~\\~\\~/g, "<br/>") + "</tt>";',"document.body.innerHTML = s;","}","setTimeout(update, 1000);","}","setTimeout(update, 1000);","<\/script></head><body></body></html>"].join(""))},(e=function(){}).info=e.warn=e.error=Ext.emptyFn,Ext.setVersion("extjs","4.2.0.663"),Ext.apply(Ext,{SSL_SECURE_URL:z&&g?"javascript:''":"about:blank",plainTableCls:Ext.buildSettings.baseCSSPrefix+"table-plain",plainListCls:Ext.buildSettings.baseCSSPrefix+"list-plain",enableNestedListenerRemoval:!1,USE_NATIVE_JSON:!1,getDom:function(e,t){if(!e||!document)return null;if(e.dom)return e.dom;if("string"==typeof e){var n=Ext.getElementById(e);return n&&g&&t?e==n.getAttribute("id")?n:null:n}return e},removeNode:v||m||x?function(e){if(e&&"BODY"!=e.tagName.toUpperCase()){Ext.enableNestedListenerRemoval?Ext.EventManager.purgeElement(e):Ext.EventManager.removeAll(e);var t=Ext.cache,n=e.id;t[n]&&(delete t[n].dom,delete t[n]),x&&e.parentNode&&e.parentNode.removeChild(e),(W=W||document.createElement("div")).appendChild(e),W.innerHTML=""}}:function(e){if(e&&e.parentNode&&"BODY"!=e.tagName.toUpperCase()){Ext.enableNestedListenerRemoval?Ext.EventManager.purgeElement(e):Ext.EventManager.removeAll(e);var t=Ext.cache,n=e.id;t[n]&&(delete t[n].dom,delete t[n]),e.parentNode.removeChild(e)}},isStrict:n,isIEQuirks:g&&!n&&(v||m||x||y),isOpera:o,isOpera10_5:a,isWebKit:l,isChrome:s,isSafari:d,isSafari3:u,isSafari4:h,isSafari5:p,isSafari5_0:f,isSafari2:c,isIE:g,isIE6:v,isIE7:m,isIE7m:v||m,isIE7p:g&&!v,isIE8:x,isIE8m:v||m||x,isIE8p:g&&!(v||m),isIE9:y,isIE9m:v||m||x||y,isIE9p:g&&!(v||m||x),isIE10:E,isIE10m:v||m||x||y||E,isIE10p:g&&!(v||m||x||y),isGecko:b,isGecko3:C,isGecko4:w,isGecko5:S,isGecko10:I,isFF3_0:M,isFF3_5:P,isFF3_6:T,isFF4:4<=O&&O<5,isFF5:5<=O&&O<6,isFF10:10<=O&&O<11,isLinux:A,isWindows:k,isMac:D,chromeVersion:L,firefoxVersion:O,ieVersion:R,operaVersion:N,safariVersion:B,webKitVersion:H,isSecure:z,BLANK_IMAGE_URL:v||m?"//www.sencha.com/s.gif":"data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",value:function(e,t,n){return Ext.isEmpty(e,n)?t:e},escapeRe:function(e){return e.replace(/([-.*+?\^${}()|\[\]\/\\])/g,"\\$1")},addBehaviors:function(e){if(Ext.isReady){var t,n,i,r={};for(n in e)(t=n.split("@"))[1]&&(r[i=t[0]]||(r[i]=Ext.select(i)),r[i].on(t[1],e[n]));r=null}else Ext.onReady(function(){Ext.addBehaviors(e)})},getScrollbarSize:function(e){if(!Ext.isReady)return{};if(e||!F){var t=document.body,n=document.createElement("div");n.style.width=n.style.height="100px",n.style.overflow="scroll",n.style.position="absolute",t.appendChild(n),F={width:n.offsetWidth-n.clientWidth,height:n.offsetHeight-n.clientHeight},t.removeChild(n)}return F},getScrollBarWidth:function(e){return Ext.getScrollbarSize(e).width+2},copyTo:function(e,t,n,i){"string"==typeof n&&(n=n.split(/[,;\s]/));var r,o,a=n?n.length:0;for(r=0;r<a;r++)o=n[r],(i||t.hasOwnProperty(o))&&(e[o]=t[o]);return e},destroyMembers:function(e){for(var t=1,n=arguments,i=n.length;t<i;t++)Ext.destroy(e[n[t]]),delete e[n[t]]},log:X||e,partition:function(e,t){var n,i,r=[[],[]],o=e.length;for(n=0;n<o;n++)i=e[n],r[t&&t(i,n,e)||!t&&i?0:1].push(i);return r},invoke:function(e,t){var n,i,r=[],o=Array.prototype.slice.call(arguments,2),a=e.length;for(n=0;n<a;n++)(i=e[n])&&"function"==typeof i[t]?r.push(i[t].apply(i,o)):r.push(void 0);return r},zip:function(){var e,t,n,i=Ext.partition(arguments,function(e){return"function"!=typeof e}),r=i[0],o=i[1][0],a=Ext.max(Ext.pluck(r,"length")),s=[];for(e=0;e<a;e++)if(s[e]=[],o)s[e]=o.apply(o,Ext.pluck(r,e));else for(t=0,n=r.length;t<n;t++)s[e].push(r[t][e]);return s},toSentence:function(e,t){var n,i,r=e.length;return r<=1?e[0]:(n=e.slice(0,r-1),i=e[r-1],Ext.util.Format.format("{0} {1} {2}",n.join(", "),t||"and",i))},setGlyphFontFamily:function(e){Ext._glyphFontFamily=e},useShims:v})}(),Ext.application=function(e){var t,n,i;if("string"==typeof e)Ext.require(e,function(){t=Ext.ClassManager.get(e)});else{if(Ext.Loader.setPath(e.name,e.appFolder||"app"),n=e.paths)for(i in n)n.hasOwnProperty(i)&&Ext.Loader.setPath(i,n[i]);e["paths processed"]=!0,Ext.define(e.name+".$application",Ext.apply({extend:"Ext.app.Application"},e),function(){t=this})}Ext.onReady(function(){Ext.app.Application.instance=new t})},function(){Ext.ns("Ext.util"),Ext.util.Format={};var e,t,n=Ext.util.Format,i=/<\/?[^>]+>/gi,r=/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/gi,o=/\r?\n/g,a=/[^\d\.]/g;Ext.apply(n,{thousandSeparator:",",decimalSeparator:".",currencyPrecision:2,currencySign:"$",currencyAtEnd:!1,undef:function(e){return void 0!==e?e:""},defaultValue:function(e,t){return void 0!==e&&""!==e?e:t},substr:"b"!="ab".substr(-1)?function(e,t,n){var i=String(e);return t<0?i.substr(Math.max(i.length+t,0),n):i.substr(t,n)}:function(e,t,n){return String(e).substr(t,n)},lowercase:function(e){return String(e).toLowerCase()},uppercase:function(e){return String(e).toUpperCase()},usMoney:function(e){return n.currency(e,"$",2)},currency:function(e,t,i,r){var o="",a=",0",s=0;for((e-=0)<0&&(e=-e,o="-"),a+=a+((i=Ext.isDefined(i)?i:n.currencyPrecision)>0?".":"");s<i;s++)a+="0";return e=n.number(e,a),!0===(r||n.currencyAtEnd)?Ext.String.format("{0}{1}{2}",o,e,t||n.currencySign):Ext.String.format("{0}{1}{2}",o,t||n.currencySign,e)},date:function(e,t){return e?(Ext.isDate(e)||(e=new Date(Date.parse(e))),Ext.Date.dateFormat(e,t||Ext.Date.defaultFormat)):""},dateRenderer:function(e){return function(t){return n.date(t,e)}},stripTags:function(e){return e?String(e).replace(i,""):e},stripScripts:function(e){return e?String(e).replace(r,""):e},fileSize:function(e){return e<1024?e+" bytes":e<1048576?Math.round(10*e/1024)/10+" KB":Math.round(10*e/1048576)/10+" MB"},math:(t={},function(e,n){return t[n]||(t[n]=Ext.functionFactory("v","return v "+n+";")),t[n](e)}),round:function(e,t){var n=Number(e);return"number"==typeof t&&(t=Math.pow(10,t),n=Math.round(e*t)/t),n},number:function(t,i){if(!i)return t;if(t=Ext.Number.from(t,NaN),isNaN(t))return"";var r,o,s,l,d,c,u,h,f=n.thousandSeparator,p=n.decimalSeparator,g=t<0;if(t=Math.abs(t),"/i"==i.substr(i.length-2)?(e||(e=new RegExp("[^\\d\\"+n.decimalSeparator+"]","g")),r=-1!=(i=i.substr(0,i.length-2)).indexOf(f),o=i.replace(e,"").split(p)):(r=-1!=i.indexOf(","),o=i.replace(a,"").split(".")),o.length>2?Ext.Error.raise({sourceClass:"Ext.util.Format",sourceMethod:"number",value:t,formatString:i,msg:"Invalid number format, should have no more than 1 decimal"}):t=o.length>1?Ext.Number.toFixed(t,o[1].length):Ext.Number.toFixed(t,0),o=(s=t.toString()).split("."),r){for(d=[],c=(l=o[0]).length,Math.floor(c/3),u=l.length%3||3,h=0;h<c;h+=u)0!==h&&(u=3),d[d.length]=l.substr(h,u),1;s=d.join(f),o[1]&&(s+=p+o[1])}else o[1]&&(s=o[0]+p+o[1]);return g&&(g=""!==s.replace(/[^1-9]/g,"")),(g?"-":"")+i.replace(/[\d,?\.?]+/,s)},numberRenderer:function(e){return function(t){return n.number(t,e)}},attributes:function(e){if("object"==typeof e){var t,n=[];for(t in e)n.push(t,'="',"style"===t?Ext.DomHelper.generateStyles(e[t]):Ext.htmlEncode(e[t]),'"');e=n.join("")}return e||""},plural:function(e,t,n){return e+" "+(1==e?t:n||t+"s")},nl2br:function(e){return Ext.isEmpty(e)?"":e.replace(o,"<br/>")},capitalize:Ext.String.capitalize,ellipsis:Ext.String.ellipsis,format:Ext.String.format,htmlDecode:Ext.String.htmlDecode,htmlEncode:Ext.String.htmlEncode,leftPad:Ext.String.leftPad,trim:Ext.String.trim,parseBox:function(e){if("number"==typeof(e=e||0))return{top:e,right:e,bottom:e,left:e};var t=e.split(" "),n=t.length;return 1==n?t[1]=t[2]=t[3]=t[0]:2==n?(t[2]=t[0],t[3]=t[1]):3==n&&(t[3]=t[1]),{top:parseInt(t[0],10)||0,right:parseInt(t[1],10)||0,bottom:parseInt(t[2],10)||0,left:parseInt(t[3],10)||0}},escapeRegex:function(e){return e.replace(/([\-.*+?\^${}()|\[\]\/\\])/g,"\\$1")}})}(),Ext.define("Ext.util.TaskRunner",{interval:10,timerId:null,constructor:function(e){var t=this;"number"==typeof e?t.interval=e:e&&Ext.apply(t,e),t.tasks=[],t.timerFn=Ext.Function.bind(t.onTick,t)},newTask:function(e){var t=new Ext.util.TaskRunner.Task(e);return t.manager=this,t},start:function(e){var t=this,n=(new Date).getTime();return e.pending||(t.tasks.push(e),e.pending=!0),e.stopped=!1,e.taskStartTime=n,e.taskRunTime=!1!==e.fireOnStart?0:e.taskStartTime,e.taskRunCount=0,t.firing||(!1!==e.fireOnStart?t.startTimer(0,n):t.startTimer(e.interval,n)),e},stop:function(e){return e.stopped||(e.stopped=!0,e.onStop&&e.onStop.call(e.scope||e,e)),e},stopAll:function(){Ext.each(this.tasks,this.stop,this)},firing:!1,nextExpires:1e99,onTick:function(){var e,t,n,i,r,o,a=this,s=a.tasks,l=(new Date).getTime(),d=1e99,c=s.length;for(a.timerId=null,a.firing=!0,n=0;n<c||n<(c=s.length);++n){if(!(o=(i=s[n]).stopped)){if((e=i.taskRunTime+i.interval)<=l){r=1;try{r=i.run.apply(i.scope||i,i.args||[++i.taskRunCount])}catch(e){try{Ext.log({msg:e,level:"error"}),i.onError&&(r=i.onError.call(i.scope||i,i,e))}catch(e){}}i.taskRunTime=l,!1===r||i.taskRunCount===i.repeat?(a.stop(i),o=!0):(o=i.stopped,e=l+i.interval)}!o&&i.duration&&i.duration<=l-i.taskStartTime&&(a.stop(i),o=!0)}o?(i.pending=!1,t||(t=s.slice(0,n))):(t&&t.push(i),d>e&&(d=e))}t&&(a.tasks=t),a.firing=!1,a.tasks.length&&a.startTimer(d-l,(new Date).getTime()),!1!==a.fireIdleEvent&&Ext.EventManager.idleEvent.fire()},startTimer:function(e,t){var n=this,i=t+e,r=n.timerId;r&&n.nextExpires-i>n.interval&&(clearTimeout(r),r=null),r||(e<n.interval&&(e=n.interval),n.timerId=setTimeout(n.timerFn,e),n.nextExpires=i)}},function(){var e=this,t=e.prototype;t.destroy=t.stopAll,Ext.util.TaskManager=Ext.TaskManager=new e,e.Task=new Ext.Class({isTask:!0,stopped:!0,fireOnStart:!1,constructor:function(e){Ext.apply(this,e)},restart:function(e){void 0!==e&&(this.interval=e),this.manager.start(this)},start:function(e){this.stopped&&this.restart(e)},stop:function(){this.manager.stop(this)}}),(t=e.Task.prototype).destroy=t.stop}),Ext.define("Ext.util.TaskManager",{extend:Ext.util.TaskRunner,alternateClassName:["Ext.TaskManager"],singleton:!0}),Ext.define("Ext.perf.Accumulator",function(){var e,t=null,n=Ext.global.chrome,i=function(){var e,t;if(i=function(){return(new Date).getTime()},Ext.isChrome&&n&&n.Interval)(e=new n.Interval).start(),i=function(){return e.microseconds()/1e3};else if(window.ActiveXObject)try{t=new ActiveXObject("SenchaToolbox.Toolbox"),Ext.senchaToolbox=t,i=function(){return t.milliseconds}}catch(e){}else Date.now&&(i=Date.now);return Ext.perf.getTimestamp=Ext.perf.Accumulator.getTimestamp=i,i()};function r(e,t){e.sum+=t,e.min=Math.min(e.min,t),e.max=Math.max(e.max,t)}function o(e){var n=e||i()-this.time,o=this,a=o.accum;++a.count,--a.depth||r(a.total,n),r(a.pure,n-o.childTime),(t=o.parent)&&(++t.accum.childCount,t.childTime+=n)}function a(){return{min:Number.MAX_VALUE,max:0,sum:0}}function s(e,t){return function(){var n=e.enter(),i=t.apply(this,arguments);return n.leave(),i}}function l(e,t,n,i){var r={avg:0,min:i.min,max:i.max,sum:0};return e&&(n=n||0,r.sum=i.sum-t*n,r.avg=r.sum/e),r}return{constructor:function(e){var t=this;t.count=t.childCount=t.depth=t.maxDepth=0,t.pure=a(),t.total=a(),t.name=e},statics:{getTimestamp:i},format:function(t){e||(e=new Ext.XTemplate(["{name} - {count} call(s)",'<tpl if="count">','<tpl if="childCount">'," ({childCount} children)","</tpl>",'<tpl if="depth - 1">'," ({depth} deep)","</tpl>",'<tpl for="times">',", {type}: {[this.time(values.sum)]} msec (","avg={[this.time(values.sum / parent.count)]}",")","</tpl>","</tpl>"].join(""),{time:function(e){return Math.round(100*e)/100}}));var n=this.getData(t);return n.name=this.name,n.pure.type="Pure",n.total.type="Total",n.times=[n.pure,n.total],e.apply(n)},getData:function(e){var t=this;return{count:t.count,childCount:t.childCount,depth:t.maxDepth,pure:l(t.count,t.childCount,e,t.pure),total:l(t.count,t.childCount,e,t.total)}},enter:function(){var e=this,n={accum:e,leave:o,childTime:0,parent:t};return++e.depth,e.maxDepth<e.depth&&(e.maxDepth=e.depth),t=n,n.time=i(),n},monitor:function(e,t,n){var i=this.enter();n?e.apply(t,n):e.call(t),i.leave()},report:function(){Ext.log(this.format())},tap:function(e,t){var n,i,r,o,a,l,d,c,u=this,h="string"==typeof t?[t]:t;return c=function(){if("string"==typeof e)for(n=Ext.global,o=e.split("."),r=0,a=o.length;r<a;++r)n=n[o[r]];else n=e;for(r=0,a=h.length;r<a;++r)l=h[r],(i="!"==l.charAt(0))?l=l.substring(1):i=!(l in n.prototype),(d=i?n:n.prototype)[l]=s(u,d[l])},Ext.ClassManager.onCreated(c,u,e),u}}}(),function(){Ext.perf.getTimestamp=this.getTimestamp}),Ext.define("Ext.perf.Monitor",{singleton:!0,alternateClassName:"Ext.Perf",constructor:function(){this.accumulators=[],this.accumulatorsByName={}},calibrate:function(){var e,t=new Ext.perf.Accumulator("$"),n=t.total,i=Ext.perf.Accumulator.getTimestamp,r=0;e=i();do{t.enter().leave(),++r}while(n.sum<100);return(i()-e)/r},get:function(e){var t=this,n=t.accumulatorsByName[e];return n||(t.accumulatorsByName[e]=n=new Ext.perf.Accumulator(e),t.accumulators.push(n)),n},enter:function(e){return this.get(e).enter()},monitor:function(e,t,n){this.get(e).monitor(t,n)},report:function(){var e=this,t=e.accumulators,n=e.calibrate();t.sort(function(e,t){return e.name<t.name?-1:t.name<e.name?1:0}),e.updateGC(),Ext.log("Calibration: "+Math.round(100*n)/100+" msec/sample"),Ext.each(t,function(e){Ext.log(e.format(n))})},getData:function(e){var t={},n=this.accumulators;return Ext.each(n,function(n){(e||n.count)&&(t[n.name]=n.getData())}),t},reset:function(){Ext.each(this.accumulators,function(e){var t=e;t.count=t.childCount=t.depth=t.maxDepth=0,t.pure={min:Number.MAX_VALUE,max:0,sum:0},t.total={min:Number.MAX_VALUE,max:0,sum:0}})},updateGC:function(){var e,t=this.accumulatorsByName.GC,n=Ext.senchaToolbox;t&&(t.count=n.garbageCollectionCounter||0,t.count&&(e=t.pure,t.total.sum=e.sum=n.garbageCollectionMilliseconds,e.min=e.max=e.sum/t.count,(e=t.total).min=e.max=e.sum/t.count))},watchGC:function(){Ext.perf.getTimestamp();var e=Ext.senchaToolbox;e&&(this.get("GC"),e.watchGarbageCollector(!1))},setup:function(e){var t,n,i,r,o;for(t in e||(e={render:{"Ext.AbstractComponent":"render"},layout:{"Ext.layout.Context":"run"}}),this.currentConfig=e,e)if(e.hasOwnProperty(t))for(r in n=e[t],i=Ext.Perf.get(t),n)n.hasOwnProperty(r)&&(o=n[r],i.tap(r,o));this.watchGC()}}),Ext.is={init:function(e){var t,n,i=this.platforms,r=i.length;for(e=e||window.navigator,t=0;t<r;t++)this[(n=i[t]).identity]=n.regex.test(e[n.property]);this.Desktop=this.Mac||this.Windows||this.Linux&&!this.Android,this.Tablet=this.iPad,this.Phone=!this.Desktop&&!this.Tablet,this.iOS=this.iPhone||this.iPad||this.iPod,this.Standalone=!!window.navigator.standalone},platforms:[{property:"platform",regex:/iPhone/i,identity:"iPhone"},{property:"platform",regex:/iPod/i,identity:"iPod"},{property:"userAgent",regex:/iPad/i,identity:"iPad"},{property:"userAgent",regex:/Blackberry/i,identity:"Blackberry"},{property:"userAgent",regex:/Android/i,identity:"Android"},{property:"platform",regex:/Mac/i,identity:"Mac"},{property:"platform",regex:/Win/i,identity:"Windows"},{property:"platform",regex:/Linux/i,identity:"Linux"}]},Ext.is.init(),function(){var e=function(e,t){var n=e.ownerDocument.defaultView;return((n?n.getComputedStyle(e,null):e.currentStyle)||e.style)[t]},t={"IE6-quirks":[0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,0,1,0,0,1,0,1,0,0],"IE6-strict":[0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,1,1,0,0,1,0,1,0,0],"IE7-quirks":[0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,0,1,0,0,1,0,1,0,0],"IE7-strict":[0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,1,1,0,1,0,0,1,0,1,0,0],"IE8-quirks":[0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,0,1,0,0,1,0,1,0,0],"IE8-strict":[0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,1,1,1,1,0,0,1,0,1,0,0],"IE9-quirks":[0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,1,0,0,0,1,0,0,1,0,0,1,0,1,0,0],"IE9-strict":[0,1,0,0,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,0,1,1,1,1,1,1,1,0,1,0,0,0,0],"IE10-quirks":[1,1,0,0,1,1,1,1,0,1,1,1,0,0,1,1,1,1,1,1,0,1,0,1,1,1,1,1,1,0,0,0],"IE10-strict":[1,1,0,0,1,1,1,1,0,1,1,1,0,0,1,1,1,1,1,1,0,1,0,1,1,1,1,1,1,0,0,0]};Ext.supports={init:function(){var e,n,i,r=this,o=document,a=r.toRun||r.tests,s=a.length,l=s&&Ext.isReady&&o.createElement("div"),d=[],c=function(){var e=Ext.isIE6?"IE6":Ext.isIE7?"IE7":Ext.isIE8?"IE8":Ext.isIE9?"IE9":Ext.isIE10?"IE10":"";return e?e+(Ext.isStrict?"-strict":"-quirks"):""}();for(l&&(l.innerHTML=['<div style="height:30px;width:50px;">','<div style="height:20px;width:20px;"></div>',"</div>",'<div style="width: 200px; height: 200px; position: relative; padding: 5px;">','<div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></div>',"</div>",'<div style="position: absolute; left: 10%; top: 10%;"></div>','<div style="float:left; background-color:transparent;"></div>'].join(""),o.body.appendChild(l)),n=t[c];s--;)e=a[s],void 0!==(i=n&&n[s])?r[e.identity]=i:l||e.early?r[e.identity]=e.fn.call(r,o,l):d.push(e);l&&o.body.removeChild(l),r.toRun=d},generateVector:function(){for(var e,t=this.tests,n=[],i=0,r=t.length;i<r;i++)e=t[i],n.push(this[e.identity]?1:0);return n},PointerEvents:"pointerEvents"in document.documentElement.style,LocalStorage:function(){try{return"localStorage"in window&&null!==window.localStorage}catch(e){return!1}}(),CSS3BoxShadow:"boxShadow"in document.documentElement.style||"WebkitBoxShadow"in document.documentElement.style||"MozBoxShadow"in document.documentElement.style,ClassList:!!document.documentElement.classList,OrientationChange:void 0!==window.orientation&&"onorientationchange"in window,DeviceMotion:"ondevicemotion"in window,Touch:"ontouchstart"in window&&!Ext.is.Desktop,TimeoutActualLateness:void setTimeout(function(){Ext.supports.TimeoutActualLateness=0!==arguments.length},0),tests:[{identity:"Transitions",fn:function(t,n){for(var i=["webkit","Moz","o","ms","khtml"],r="TransitionEnd",o=[i[0]+r,"transitionend",i[2]+r,i[3]+r,i[4]+r],a=i.length,s=0,l=!1;s<a;s++)if(e(n,i[s]+"TransitionProperty")){Ext.supports.CSS3Prefix=i[s],Ext.supports.CSS3TransitionEnd=o[s],l=!0;break}return l}},{identity:"RightMargin",fn:function(e,t){var n=e.defaultView;return!(n&&"0px"!=n.getComputedStyle(t.firstChild.firstChild,null).marginRight)}},{identity:"DisplayChangeInputSelectionBug",early:!0,fn:function(){var e=Ext.webKitVersion;return 0<e&&e<533}},{identity:"DisplayChangeTextAreaSelectionBug",early:!0,fn:function(){var e=Ext.webKitVersion;return 0<e&&e<534.24}},{identity:"TransparentColor",fn:function(e,t,n){return!((n=e.defaultView)&&"transparent"!=n.getComputedStyle(t.lastChild,null).backgroundColor)}},{identity:"ComputedStyle",fn:function(e,t,n){return(n=e.defaultView)&&n.getComputedStyle}},{identity:"Svg",fn:function(e){return!!e.createElementNS&&!!e.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect}},{identity:"Canvas",fn:function(e){return!!e.createElement("canvas").getContext}},{identity:"Vml",fn:function(e){var t=e.createElement("div");return t.innerHTML="\x3c!--[if vml]><br/><br/><![endif]--\x3e",2==t.childNodes.length}},{identity:"Float",fn:function(e,t){return!!t.lastChild.style.cssFloat}},{identity:"AudioTag",fn:function(e){return!!e.createElement("audio").canPlayType}},{identity:"History",fn:function(){var e=window.history;return!(!e||!e.pushState)}},{identity:"CSS3DTransform",fn:function(){return"undefined"!=typeof WebKitCSSMatrix&&(new WebKitCSSMatrix).hasOwnProperty("m41")}},{identity:"CSS3LinearGradient",fn:function(e,t){var n="background-image:",i="linear-gradient(left top, black, white)",r=[n+"-webkit-gradient(linear, left top, right bottom, from(black), to(white))",n+i,n+"-moz-linear-gradient(left top, black, white)",n+"-ms-linear-gradient(left top, black, white)",n+"-o-linear-gradient(left top, black, white)"];return t.style.cssText=r.join(";"),-1!==(""+t.style.backgroundImage).indexOf("gradient")&&!Ext.isIE9}},{identity:"CSS3BorderRadius",fn:function(e,t){var n,i=["borderRadius","BorderRadius","MozBorderRadius","WebkitBorderRadius","OBorderRadius","KhtmlBorderRadius"];for(n=0;n<i.length;n++)if(void 0!==document.body.style[i[n]])return!0;return!1}},{identity:"GeoLocation",fn:function(){return"undefined"!=typeof navigator&&"geolocation"in navigator||"undefined"!=typeof google&&void 0!==google.gears}},{identity:"MouseEnterLeave",fn:function(e,t){return"onmouseenter"in t&&"onmouseleave"in t}},{identity:"MouseWheel",fn:function(e,t){return"onmousewheel"in t}},{identity:"Opacity",fn:function(e,t){return!(Ext.isIE6||Ext.isIE7||Ext.isIE8)&&(t.firstChild.style.cssText="opacity:0.73","0.73"==t.firstChild.style.opacity)}},{identity:"Placeholder",fn:function(e){return"placeholder"in e.createElement("input")}},{identity:"Direct2DBug",fn:function(){return Ext.isString(document.body.style.msTransformOrigin)&&Ext.isIE10m}},{identity:"BoundingClientRect",fn:function(e,t){return Ext.isFunction(t.getBoundingClientRect)}},{identity:"RotatedBoundingClientRect",fn:function(){var e=document.body,t=!1,n=document.createElement("div"),i=n.style;return n.getBoundingClientRect&&(i.WebkitTransform=i.MozTransform=i.OTransform=i.transform="rotate(90deg)",i.width="100px",i.height="30px",e.appendChild(n),t=100!==n.getBoundingClientRect().height,e.removeChild(n)),t}},{identity:"IncludePaddingInWidthCalculation",fn:function(e,t){return 210==t.childNodes[1].firstChild.offsetWidth}},{identity:"IncludePaddingInHeightCalculation",fn:function(e,t){return 210==t.childNodes[1].firstChild.offsetHeight}},{identity:"ArraySort",fn:function(){var e=[1,2,3,4,5].sort(function(){return 0});return 1===e[0]&&2===e[1]&&3===e[2]&&4===e[3]&&5===e[4]}},{identity:"Range",fn:function(){return!!document.createRange}},{identity:"CreateContextualFragment",fn:function(){var e=!!Ext.supports.Range&&document.createRange();return e&&!!e.createContextualFragment}},{identity:"WindowOnError",fn:function(){return Ext.isIE||Ext.isGecko||Ext.webKitVersion>=534.16}},{identity:"TextAreaMaxLength",fn:function(){return"maxlength"in document.createElement("textarea")}},{identity:"GetPositionPercentage",fn:function(t,n){return"10%"==e(n.childNodes[2],"left")}},{identity:"PercentageHeightOverflowBug",fn:function(e){var t,n,i=!1;return Ext.getScrollbarSize().height&&((t=(n=e.createElement("div")).style).height="50px",t.width="50px",t.overflow="auto",t.position="absolute",n.innerHTML=['<div style="display:table;height:100%;">','<div style="width:51px;"></div>',"</div>"].join(""),e.body.appendChild(n),50===n.firstChild.offsetHeight&&(i=!0),e.body.removeChild(n)),i}},{identity:"xOriginBug",fn:function(e,t){t.innerHTML='<div id="b1" style="height:100px;width:100px;direction:rtl;position:relative;overflow:scroll"><div id="b2" style="position:relative;width:100%;height:20px;"></div><div id="b3" style="position:absolute;width:20px;height:20px;top:0px;right:0px"></div></div>';var n=document.getElementById("b1").getBoundingClientRect(),i=document.getElementById("b2").getBoundingClientRect(),r=document.getElementById("b3").getBoundingClientRect();return i.left!==n.left&&r.right!==n.right}}]}}(),Ext.supports.init(),Ext.util.DelayedTask=function(e,t,n,i){var r,o,a=this,s=function(){clearInterval(r),r=null,e.apply(t,n||[]),Ext.EventManager.idleEvent.fire()};i="boolean"!=typeof i||i,a.delay=function(l,d,c,u){i&&a.cancel(),o=l||o,e=d||e,t=c||t,n=u||n,r||(r=setInterval(s,o))},a.cancel=function(){r&&(clearInterval(r),r=null)}},Ext.define("Ext.util.Event",function(){var e=Array.prototype.slice,t=Ext.Array.insert,n=Ext.Array.toArray,i=Ext.util.DelayedTask;return{isEvent:!0,suspended:0,noOptions:{},constructor:function(e,t){this.name=t,this.observable=e,this.listeners=[]},addListener:function(e,n,i){var r,o,a,s,l,d,c,u,h,f=this;if(n=n||f.observable,e||Ext.Error.raise({sourceClass:Ext.getClassName(this.observable),sourceMethod:"addListener",msg:"The specified callback function is undefined"}),!f.isListening(e,n)){if(o=f.createListener(e,n,i),f.firing&&(f.listeners=f.listeners.slice(0)),u=c=(r=f.listeners).length,a=i&&i.priority,d=void 0!==(l=f._highestNegativePriorityIndex),a)if(!(s=a<0)||d){for(h=s?l:0;h<c;h++)if((r[h].o&&r[h].o.priority||0)<a){u=h;break}}else f._highestNegativePriorityIndex=u;else d&&(u=l);!s&&u<=l&&f._highestNegativePriorityIndex++,u===c?f.listeners[c]=o:t(f.listeners,u,[o])}},createListener:function(e,t,n){var i=this,r={fn:e,scope:t=t||this.observable,ev:i},o=e;return n&&(r.o=n,n.single&&(o=i.createSingle(o,r,n,t)),n.target&&(o=i.createTargeted(o,r,n,t)),n.delay&&(o=i.createDelayed(o,r,n,t)),n.buffer&&(o=i.createBuffered(o,r,n,t))),r.fireFn=o,r},findListener:function(e,t){for(var n,i,r=this.listeners,o=r.length;o--;)if((n=r[o])&&(i=n.scope,n.fn==e&&i==(t||this.observable)))return o;return-1},isListening:function(e,t){return-1!==this.findListener(e,t)},removeListener:function(e,t){var n,i,r,o,a=this;if(-1!=(n=a.findListener(e,t))){if(i=a.listeners[n],r=a._highestNegativePriorityIndex,a.firing&&(a.listeners=a.listeners.slice(0)),i.task&&(i.task.cancel(),delete i.task),o=i.tasks&&i.tasks.length){for(;o--;)i.tasks[o].cancel();delete i.tasks}return a.listeners.splice(n,1),r&&(n<r?a._highestNegativePriorityIndex--:n===r&&n===a.listeners.length&&delete a._highestNegativePriorityIndex),!0}return!1},clearListeners:function(){for(var e=this.listeners,t=e.length;t--;)this.removeListener(e[t].fn,e[t].scope)},suspend:function(){this.suspended+=1},resume:function(){this.suspended&&this.suspended--},fire:function(){var t,n,i,r,o=this,a=o.listeners,s=a.length;if(!o.suspended&&s>0)for(o.firing=!0,r=(n=arguments.length?e.call(arguments,0):[]).length,t=0;t<s;t++)if((i=a[t]).o&&(n[r]=i.o),i&&!1===i.fireFn.apply(i.scope||o.observable,n))return o.firing=!1;return o.firing=!1,!0},createTargeted:function(e,t,n,i){return function(){n.target===arguments[0]&&e.apply(i,arguments)}},createBuffered:function(e,t,r,o){return t.task=new i,function(){t.task.delay(r.buffer,e,o,n(arguments))}},createDelayed:function(e,t,r,o){return function(){var a=new i;t.tasks||(t.tasks=[]),t.tasks.push(a),a.delay(r.delay||10,e,o,n(arguments))}},createSingle:function(e,t,n,i){return function(){var n=t.ev;return n.removeListener(t.fn,i)&&n.observable&&n.observable.hasListeners[n.name]--,e.apply(i,arguments)}}}}),Ext.EventManager=new function(){var e,t=this,n=document,i=window,r=/\\/g,o=Ext.baseCSSPrefix;Ext.apply(t,{hasBoundOnReady:!1,hasFiredReady:!1,deferReadyEvent:1,onReadyChain:[],readyEvent:((e=new Ext.util.Event).fire=function(){Ext._beforeReadyTime=Ext._beforeReadyTime||(new Date).getTime(),e.self.prototype.fire.apply(e,arguments),Ext._afterReadytime=(new Date).getTime()},e),idleEvent:new Ext.util.Event,isReadyPaused:function(){return/[?&]ext-pauseReadyFire\b/i.test(location.search)&&!Ext._continueFireReady},bindReadyEvent:function(){t.hasBoundOnReady||("complete"==n.readyState?t.onReadyEvent({type:n.readyState||"body"}):(n.addEventListener("DOMContentLoaded",t.onReadyEvent,!1),i.addEventListener("load",t.onReadyEvent,!1),t.hasBoundOnReady=!0))},onReadyEvent:function(e){e&&e.type&&t.onReadyChain.push(e.type),t.hasBoundOnReady&&(n.removeEventListener("DOMContentLoaded",t.onReadyEvent,!1),i.removeEventListener("load",t.onReadyEvent,!1)),Ext.isReady||t.fireDocReady()},fireDocReady:function(){Ext.isReady||(Ext._readyTime=(new Date).getTime(),Ext.isReady=!0,Ext.supports.init(),t.onWindowUnload(),e.onReadyChain=t.onReadyChain,Ext.isNumber(t.deferReadyEvent)?(Ext.Function.defer(t.fireReadyEvent,t.deferReadyEvent),t.hasDocReadyTimer=!0):t.fireReadyEvent())},fireReadyEvent:function(){for(t.hasDocReadyTimer=!1,t.isFiring=!0;e.listeners.length&&!t.isReadyPaused();)e.fire();t.isFiring=!1,t.hasFiredReady=!0,Ext.EventManager.idleEvent.fire()},onDocumentReady:function(n,i,r){(r=r||{}).single=!0,e.addListener(n,i,r),t.isFiring||t.hasDocReadyTimer||(Ext.isReady?t.fireReadyEvent():t.bindReadyEvent())},stoppedMouseDownEvent:new Ext.util.Event,propRe:/^(?:scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate|freezeEvent)$/,getId:function(e){var t;return t=(e=Ext.getDom(e))===n||e===i?e===n?Ext.documentId:Ext.windowId:Ext.id(e),Ext.cache[t]||Ext.addCacheEntry(t,null,e),t},prepareListenerConfig:function(e,n,i){var r,o,a,s=t.propRe;for(r in n)n.hasOwnProperty(r)&&(s.test(r)||(a="function"==typeof(o=n[r])?[e,r,o,n.scope,n]:[e,r,o.fn,o.scope,o],i?t.removeListener.apply(t,a):t.addListener.apply(t,a)))},mouseEnterLeaveRe:/mouseenter|mouseleave/,normalizeEvent:function(e,n){return t.mouseEnterLeaveRe.test(e)&&!Ext.supports.MouseEnterLeave?(n&&(n=Ext.Function.createInterceptor(n,t.contains)),e="mouseenter"==e?"mouseover":"mouseout"):"mousewheel"!=e||Ext.supports.MouseWheel||Ext.isOpera||(e="DOMMouseScroll"),{eventName:e,fn:n}},contains:function(e){var n=(e=e.browserEvent||e).currentTarget,i=t.getRelatedTarget(e);if(n&&n.firstChild)for(;i;){if(i===n)return!1;(i=i.parentNode)&&1!=i.nodeType&&(i=null)}return!0},addListener:function(e,i,r,o,a){if("string"==typeof i){if(!(["mouseout","mousemove"].indexOf(i)>-1)){var s,l,d,c,u,h=e.dom||Ext.getDom(e);r||Ext.Error.raise({sourceClass:"Ext.EventManager",sourceMethod:"addListener",targetElement:e,eventName:i,msg:'Error adding "'+i+'" listener. The handler function is undefined.'}),a=a||{},s=t.normalizeEvent(i,r),l=t.createListenerWrap(h,i,s.fn,o,a),d=t.getEventListenerCache(e.dom?e:h,i),i=s.eventName,h.attachEvent&&(c=t.normalizeId(h))&&(u=Ext.cache[c][i])&&u.firing&&(d=t.cloneEventListenerCache(h,i)),d.push({fn:r,wrap:l,scope:o}),h.attachEvent?1===d.length&&(c=t.normalizeId(h,!0),r=Ext.Function.bind(t.handleSingleEvent,t,[c,i],!0),Ext.cache[c][i]={firing:!1,fn:r},h.attachEvent("on"+i,r)):h.addEventListener&&h.addEventListener(i,l,a.capture||!1),h==n&&"mousedown"==i&&t.stoppedMouseDownEvent.addListener(l)}}else t.prepareListenerConfig(e,i)},normalizeId:function(e,n){var i;return!(i=e===document?Ext.documentId:e===window?Ext.windowId:e.id)&&n&&(i=t.getId(e)),i},handleSingleEvent:function(e,n,i){var r,o,a=t.getEventListenerCache(n,i),s=Ext.cache[n][i];if(!s.firing){for(s.firing=!0,o=0,r=a.length;o<r;++o)a[o].wrap(e);s.firing=!1}},removeListener:function(e,i,r,o){if("string"==typeof i){for(var a,s,l,d,c,u=Ext.getDom(e),h=e.dom?e:Ext.get(u),f=t.getEventListenerCache(h,i),p=t.normalizeEvent(i).eventName,g=f.length;g--;)if((d=f[g])&&(!r||d.fn==r)&&(!o||d.scope===o)){if((c=d.wrap).task&&(clearTimeout(c.task),delete c.task),s=c.tasks&&c.tasks.length){for(;s--;)clearTimeout(c.tasks[s]);delete c.tasks}u.detachEvent?(a=t.normalizeId(u,!0),(l=Ext.cache[a][p])&&l.firing&&(f=t.cloneEventListenerCache(u,p)),1===f.length&&(r=l.fn,delete Ext.cache[a][p],u.detachEvent("on"+p,r))):u.removeEventListener(p,c,!1),c&&u==n&&"mousedown"==i&&t.stoppedMouseDownEvent.removeListener(c),Ext.Array.erase(f,g,1)}}else t.prepareListenerConfig(e,i,!0)},removeAll:function(e){var n,i,r,o="string"==typeof e?e:e.id;if(o&&(n=Ext.cache[o])){for(r in i=n.events)i.hasOwnProperty(r)&&t.removeListener(e,r);n.events={}}},purgeElement:function(e,n){var i,r,o=Ext.getDom(e),a=0;if(n?t.removeListener(e,n):t.removeAll(e),o&&o.childNodes)for(i=(r=o.childNodes).length;a<i;a++)t.purgeElement(r[a],n)},createListenerWrap:function(e,n,i,o,a){a=a||{};var s,l,d=function(c,u){return l||(s=["if(!"+Ext.name+") {return;}"],a.buffer||a.delay||a.freezeEvent?(a.freezeEvent&&s.push("e = X.EventObject.setEvent(e);"),s.push("e = new X.EventObjectImpl(e, "+(a.freezeEvent?"true":"false")+");")):s.push("e = X.EventObject.setEvent(e);"),a.delegate?(s.push('var result, t = e.getTarget("'+(a.delegate+"").replace(r,"\\\\")+'", this);'),s.push("if(!t) {return;}")):s.push("var t = e.target, result;"),a.target&&s.push("if(e.target !== options.target) {return;}"),a.stopEvent?s.push("e.stopEvent();"):(a.preventDefault&&s.push("e.preventDefault();"),a.stopPropagation&&s.push("e.stopPropagation();")),!1===a.normalized&&s.push("e = e.browserEvent;"),a.buffer&&(s.push("(wrap.task && clearTimeout(wrap.task));"),s.push("wrap.task = setTimeout(function() {")),a.delay&&(s.push("wrap.tasks = wrap.tasks || [];"),s.push("wrap.tasks.push(setTimeout(function() {")),s.push("result = fn.call(scope || dom, e, t, options);"),a.single&&s.push("evtMgr.removeListener(dom, ename, fn, scope);"),"mousemove"!==n&&"unload"!==n&&(s.push("if (evtMgr.idleEvent.listeners.length) {"),s.push("evtMgr.idleEvent.fire();"),s.push("}")),a.delay&&s.push("}, "+a.delay+"));"),a.buffer&&s.push("}, "+a.buffer+");"),s.push("return result;"),l=Ext.cacheableFunctionFactory("e","options","fn","scope","ename","dom","wrap","args","X","evtMgr",s.join("\n"))),l.call(e,c,a,i,o,n,e,d,u,Ext,t)};return d},getEventCache:function(e){var n,i;return e?(e.$cache?n=e.$cache:(i="string"==typeof e?e:t.getId(e),n=Ext.cache[i]),n.events||(n.events={})):[]},getEventListenerCache:function(e,n){var i=t.getEventCache(e);return i[n]||(i[n]=[])},cloneEventListenerCache:function(e,n){var i,r=t.getEventCache(e);return i=r[n]?r[n].slice(0):[],r[n]=i,i},mouseLeaveRe:/(mouseout|mouseleave)/,mouseEnterRe:/(mouseover|mouseenter)/,stopEvent:function(e){t.stopPropagation(e),t.preventDefault(e)},stopPropagation:function(e){(e=e.browserEvent||e).stopPropagation?e.stopPropagation():e.cancelBubble=!0},preventDefault:function(e){if((e=e.browserEvent||e).preventDefault)e.preventDefault();else{e.returnValue=!1;try{(e.ctrlKey||e.keyCode>111&&e.keyCode<124)&&(e.keyCode=-1)}catch(e){}}},getRelatedTarget:function(e){var n=(e=e.browserEvent||e).relatedTarget;return n||(t.mouseLeaveRe.test(e.type)?n=e.toElement:t.mouseEnterRe.test(e.type)&&(n=e.fromElement)),t.resolveTextNode(n)},getPageX:function(e){return t.getPageXY(e)[0]},getPageY:function(e){return t.getPageXY(e)[1]},getPageXY:function(e){var t=(e=e.browserEvent||e).pageX,i=e.pageY,r=n.documentElement,o=n.body;return t||0===t||(t=e.clientX+(r&&r.scrollLeft||o&&o.scrollLeft||0)-(r&&r.clientLeft||o&&o.clientLeft||0),i=e.clientY+(r&&r.scrollTop||o&&o.scrollTop||0)-(r&&r.clientTop||o&&o.clientTop||0)),[t,i]},getTarget:function(e){return e=e.browserEvent||e,t.resolveTextNode(e.target||e.srcElement)},resolveTextNode:Ext.isGecko?function(e){if(e){var t=HTMLElement.prototype.toString.call(e);if("[xpconnect wrapped native prototype]"!==t&&"[object XULElement]"!==t)return 3==e.nodeType?e.parentNode:e}}:function(e){return e&&3==e.nodeType?e.parentNode:e},curWidth:0,curHeight:0,onWindowResize:function(e,n,r){var o=t.resizeEvent;o||(t.resizeEvent=o=new Ext.util.Event,t.on(i,"resize",t.fireResize,null,{buffer:100})),o.addListener(e,n,r)},fireResize:function(){var e=Ext.Element.getViewWidth(),n=Ext.Element.getViewHeight();t.curHeight==n&&t.curWidth==e||(t.curHeight=n,t.curWidth=e,t.resizeEvent.fire(e,n))},removeResizeListener:function(e,n){var i=t.resizeEvent;i&&i.removeListener(e,n)},onWindowUnload:function(e,n,r){var o=t.unloadEvent;o||(t.unloadEvent=o=new Ext.util.Event,t.addListener(i,"unload",t.fireUnload)),e&&o.addListener(e,n,r)},fireUnload:function(){try{var e,r,o,a,s;if(n=i=void 0,t.unloadEvent.fire(),Ext.isGecko3)for(r=0,o=(e=Ext.ComponentQuery.query("gridview")).length;r<o;r++)e[r].scrollToTop();for(a in s=Ext.cache)s.hasOwnProperty(a)&&t.removeAll(a)}catch(e){}},removeUnloadListener:function(e,n){var i=t.unloadEvent;i&&i.removeListener(e,n)},useKeyDown:Ext.isWebKit?parseInt(navigator.userAgent.match(/AppleWebKit\/(\d+)/)&&navigator.userAgent.match(/AppleWebKit\/(\d+)/)[1],10)>=525:!(Ext.isGecko&&!Ext.isWindows||Ext.isOpera),getKeyEvent:function(){return t.useKeyDown?"keydown":"keypress"}}),"addEventListener"in document||!document.attachEvent||Ext.apply(t,{pollScroll:function(){var e=!0;try{document.documentElement.doScroll("left")}catch(t){e=!1}return e&&document.body?t.onReadyEvent({type:"doScroll"}):t.scrollTimeout=setTimeout(t.pollScroll,20),e},scrollTimeout:null,readyStatesRe:/complete/i,checkReadyState:function(){var e=document.readyState;t.readyStatesRe.test(e)&&t.onReadyEvent({type:e})},bindReadyEvent:function(){var e=!0;if(!t.hasBoundOnReady){try{e=void 0===window.frameElement}catch(t){e=!1}e&&n.documentElement.doScroll||(t.pollScroll=Ext.emptyFn),!0!==t.pollScroll()&&("complete"==n.readyState?t.onReadyEvent({type:"already "+(n.readyState||"body")}):(n.attachEvent("onreadystatechange",t.checkReadyState),window.attachEvent("onload",t.onReadyEvent),t.hasBoundOnReady=!0))}},onReadyEvent:function(e){e&&e.type&&t.onReadyChain.push(e.type),t.hasBoundOnReady&&(document.detachEvent("onreadystatechange",t.checkReadyState),window.detachEvent("onload",t.onReadyEvent)),Ext.isNumber(t.scrollTimeout)&&(clearTimeout(t.scrollTimeout),delete t.scrollTimeout),Ext.isReady||t.fireDocReady()},onReadyChain:[]}),Ext.onReady=function(e,t,n){Ext.Loader.onReady(e,t,!0,n)},Ext.onDocumentReady=t.onDocumentReady,t.on=t.addListener,t.un=t.removeListener,Ext.onReady(function(){var e,t=n.body||n.getElementsByTagName("body")[0],i=[o+"body"],r=[],a=Ext.supports.CSS3LinearGradient,s=Ext.supports.CSS3BorderRadius;if(!t)return!1;function l(e){i.push(o+e)}return e=t.parentNode,Ext.isIE&&Ext.isIE9m&&(l("ie"),Ext.isIE6?l("ie6"):(l("ie7p"),Ext.isIE7?l("ie7"):(l("ie8p"),Ext.isIE8?l("ie8"):(l("ie9p"),Ext.isIE9&&l("ie9")))),Ext.isIE7m&&l("ie7m"),Ext.isIE8m&&l("ie8m"),Ext.isIE9m&&l("ie9m"),(Ext.isIE7||Ext.isIE8)&&l("ie78")),Ext.isIE10&&l("ie10"),Ext.isGecko&&(l("gecko"),Ext.isGecko3&&l("gecko3"),Ext.isGecko4&&l("gecko4"),Ext.isGecko5&&l("gecko5")),Ext.isOpera&&l("opera"),Ext.isWebKit&&l("webkit"),Ext.isSafari&&(l("safari"),Ext.isSafari2&&l("safari2"),Ext.isSafari3&&l("safari3"),Ext.isSafari4&&l("safari4"),Ext.isSafari5&&l("safari5"),Ext.isSafari5_0&&l("safari5_0")),Ext.isChrome&&l("chrome"),Ext.isMac&&l("mac"),Ext.isLinux&&l("linux"),s||l("nbr"),a||l("nlg"),e&&(Ext.isStrict&&(Ext.isIE6||Ext.isIE7)?Ext.isBorderBox=!1:Ext.isBorderBox=!0,Ext.isBorderBox&&r.push(o+"border-box"),Ext.isStrict?r.push(o+"strict"):r.push(o+"quirks"),Ext.fly(e,"_internal").addCls(r)),Ext.fly(t,"_internal").addCls(i),!0})},Ext.define("Ext.util.Observable",function(e){var t=[],n=Array.prototype.slice,i=Ext.util.Event,r=function(e){if(e instanceof r)return e;this.observable=e,arguments[1].isObservable&&(this.managedListeners=!0),this.args=n.call(arguments,1)};return r.prototype.destroy=function(){this.observable[this.managedListeners?"mun":"un"].apply(this.observable,this.args)},{statics:{releaseCapture:function(e){e.fireEvent=this.prototype.fireEvent},capture:function(e,t,n){e.fireEvent=Ext.Function.createInterceptor(e.fireEvent,t,n)},observe:function(e,t){return e&&(e.isObservable||(Ext.applyIf(e,new this),this.capture(e.prototype,e.fireEvent,e)),Ext.isObject(t)&&e.on(t)),e},prepareClass:function(t,n){if(!t.HasListeners){var i=function(){},r=t.superclass.HasListeners||n&&n.HasListeners||e.HasListeners;t.prototype.HasListeners=t.HasListeners=i,i.prototype=t.hasListeners=new r}}},isObservable:!0,eventsSuspended:0,constructor:function(e){var t=this;Ext.apply(t,e),t.hasListeners||(t.hasListeners=new t.HasListeners),t.events=t.events||{},t.listeners&&(t.on(t.listeners),t.listeners=null),t.bubbleEvents&&t.enableBubble(t.bubbleEvents)},onClassExtended:function(t){t.HasListeners||e.prepareClass(t)},eventOptionsRe:/^(?:scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate|element|destroyable|vertical|horizontal|freezeEvent|priority)$/,addManagedListener:function(e,t,n,i,o,a){var s,l,d=this,c=d.managedListeners=d.managedListeners||[];if("string"!=typeof t){for(t in l=arguments.length>4?o:t,o=t)o.hasOwnProperty(t)&&(s=o[t],d.eventOptionsRe.test(t)||d.addManagedListener(e,t,s.fn||s,s.scope||o.scope||i,s.fn?s:l,!0));if(o&&o.destroyable)return new r(d,e,o)}else if("string"==typeof n&&((i=i||d)[n]||Ext.Error.raise('No method named "'+n+'"'),n=i[n]),c.push({item:e,ename:t,fn:n,scope:i,options:o}),e.on(t,n,i,o),!a&&o&&o.destroyable)return new r(d,e,t,n,i)},removeManagedListener:function(e,t,n,i){var r,o,a,s,l,d=this;if("string"!=typeof t)for(t in r=t)r.hasOwnProperty(t)&&(o=r[t],d.eventOptionsRe.test(t)||d.removeManagedListener(e,t,o.fn||o,o.scope||r.scope||i));else for(l=0,s=(a=d.managedListeners?d.managedListeners.slice():[]).length;l<s;l++)d.removeManagedListenerItem(!1,a[l],e,t,n,i)},fireEvent:function(e){return this.fireEventArgs(e,Array.prototype.slice.call(arguments,1))},fireEventArgs:function(e,n){e=e.toLowerCase();var i=this,r=i.events,o=r&&r[e],a=!0;return o&&i.hasListeners[e]&&(a=i.continueFireEvent(e,n||t,o.bubble)),a},continueFireEvent:function(e,t,n){var i,r,o=this,a=!0;do{if(o.eventsSuspended)return(i=o.eventQueue)&&i.push([e,t,n]),a;if((r=o.events[e])&&1!=r&&!1===(a=r.fire.apply(r,t)))break}while(n&&(o=o.getBubbleParent()));return a},getBubbleParent:function(){var e=this.getBubbleTarget&&this.getBubbleTarget();return e&&e.isObservable?e:null},addListener:function(e,t,n,o){var a,s,l=this,d=0;if("string"!=typeof e){for(e in o=e)o.hasOwnProperty(e)&&(a=o[e],l.eventOptionsRe.test(e)||l.addListener(e,a.fn||a,a.scope||o.scope,a.fn?a:o));if(o&&o.destroyable)return new r(l,o)}else if(e=e.toLowerCase(),(s=l.events[e])&&s.isEvent?d=s.listeners.length:l.events[e]=s=new i(l,e),t||Ext.Error.raise("No function passed for event "+l.$className+"."+e),"string"==typeof t&&((n=n||l)[t]||Ext.Error.raise('No method named "'+t+'"'),t=n[t]),s.addListener(t,n,o),s.listeners.length!==d&&l.hasListeners._incr_(e),o&&o.destroyable)return new r(l,e,t,n,o)},removeListener:function(e,t,n){var i,r,o,a=this;if("string"!=typeof e)for(e in o=e)o.hasOwnProperty(e)&&(i=o[e],a.eventOptionsRe.test(e)||a.removeListener(e,i.fn||i,i.scope||o.scope));else e=e.toLowerCase(),(r=a.events[e])&&r.isEvent&&r.removeListener(t,n)&&a.hasListeners._decr_(e)},clearListeners:function(){var e,t,n=this.events,i=this.hasListeners;for(t in n)n.hasOwnProperty(t)&&(e=n[t]).isEvent&&(delete i[t],e.clearListeners());this.clearManagedListeners()},purgeListeners:function(){return Ext.global.console&&Ext.global.console.warn("Observable: purgeListeners has been deprecated. Please use clearListeners."),this.clearListeners.apply(this,arguments)},clearManagedListeners:function(){for(var e=this.managedListeners||[],t=0,n=e.length;t<n;t++)this.removeManagedListenerItem(!0,e[t]);this.managedListeners=[]},removeManagedListenerItem:function(e,t,n,i,r,o){!e&&(t.item!==n||t.ename!==i||r&&t.fn!==r||o&&t.scope!==o)||(t.item.un(t.ename,t.fn,t.scope),e||Ext.Array.remove(this.managedListeners,t))},purgeManagedListeners:function(){return Ext.global.console&&Ext.global.console.warn("Observable: purgeManagedListeners has been deprecated. Please use clearManagedListeners."),this.clearManagedListeners.apply(this,arguments)},addEvents:function(e){var t,n,i,r=this,o=r.events||(r.events={});if("string"==typeof e)for(i=(n=arguments).length;i--;)o[t=n[i]]||(o[t]=!0);else Ext.applyIf(r.events,e)},hasListener:function(e){return!!this.hasListeners[e.toLowerCase()]},suspendEvents:function(e){this.eventsSuspended+=1,e&&!this.eventQueue&&(this.eventQueue=[])},suspendEvent:function(e){var t,n,i=arguments.length;for(t=0;t<i;t++)(n=this.events[arguments[t]])&&n.suspend&&n.suspend()},resumeEvent:function(){var e,t,n=arguments.length;for(e=0;e<n;e++)(t=this.events[arguments[e]])&&t.resume&&t.resume()},resumeEvents:function(){var e,t,n=this,i=n.eventQueue;if(n.eventsSuspended&&!--n.eventsSuspended&&(delete n.eventQueue,i))for(e=i.length,t=0;t<e;t++)n.continueFireEvent.apply(n,i[t])},relayEvents:function(e,t,n){for(var i,o=this,a=t.length,s=0,l={};s<a;s++)l[i=t[s]]=o.createRelayer(n?n+i:i);return o.mon(e,l,null,null,void 0),new r(o,e,l)},createRelayer:function(e,t){var n=this;return function(){return n.fireEventArgs.call(n,e,t?Array.prototype.slice.apply(arguments,t):arguments)}},enableBubble:function(e){if(e){var t,n,r,o=this,a="string"==typeof e?arguments:e,s=a.length,l=o.events;for(r=0;r<s;++r)(n=l[t=a[r].toLowerCase()])&&"boolean"!=typeof n||(l[t]=n=new i(o,t)),o.hasListeners._incr_(t),n.bubble=!0}}}},function(){var e,t=this,n=t.prototype,i=function(){},r=function(e){if(!e.HasListeners){var n=e.prototype;t.prepareClass(e,this),e.onExtended(function(e){Ext.classSystemMonitor&&Ext.classSystemMonitor("extend mixin",arguments),t.prepareClass(e)}),n.onClassMixedIn?Ext.override(e,{onClassMixedIn:function(e){r.call(this,e),this.callParent(arguments)}}):n.onClassMixedIn=function(e){r.call(this,e)}}};function o(e){var t,n,i,r,o=(this.methodEvents=this.methodEvents||{})[e],a=this;return o||(this.methodEvents[e]=o={},o.originalFn=this[e],o.methodName=e,o.before=[],o.after=[],r=function(e,r,o){void 0!==(n=e.apply(r||a,o))&&("object"==typeof n?(t=void 0!==n.returnValue?n.returnValue:n,i=!!n.cancel):!1===n?i=!0:t=n)},this[e]=function(){var e,s,l,d=Array.prototype.slice.call(arguments,0);for(t=n=void 0,i=!1,s=0,l=o.before.length;s<l;s++)if(e=o.before[s],r(e.fn,e.scope,d),i)return t;for(void 0!==(n=o.originalFn.apply(a,d))&&(t=n),s=0,l=o.after.length;s<l;s++)if(e=o.after[s],r(e.fn,e.scope,d),i)return t;return t}),o}i.prototype={_decr_:function(e){--this[e]||delete this[e]},_incr_:function(e){this.hasOwnProperty(e)?++this[e]:this[e]=1}},n.HasListeners=t.HasListeners=i,t.createAlias({on:"addListener",un:"removeListener",mon:"addManagedListener",mun:"removeManagedListener"}),t.observeClass=t.observe,Ext.globalEvents=e=new t({events:{idle:Ext.EventManager.idleEvent,ready:Ext.EventManager.readyEvent}}),Ext.on=function(){return e.addListener.apply(e,arguments)},Ext.un=function(){return e.removeListener.apply(e,arguments)},Ext.apply(n,{onClassMixedIn:r,beforeMethod:function(e,t,n){o.call(this,e).before.push({fn:t,scope:n})},afterMethod:function(e,t,n){o.call(this,e).after.push({fn:t,scope:n})},removeMethodListener:function(e,t,n){var i,r,o=this.getMethodEvent(e);for(i=0,r=o.before.length;i<r;i++)if(o.before[i].fn==t&&o.before[i].scope==n)return void Ext.Array.erase(o.before,i,1);for(i=0,r=o.after.length;i<r;i++)if(o.after[i].fn==t&&o.after[i].scope==n)return void Ext.Array.erase(o.after,i,1)},toggleEventLogging:function(e){Ext.util.Observable[e?"capture":"releaseCapture"](this,function(e){Ext.isDefined(Ext.global.console)&&Ext.global.console.log(e,arguments)})}})}),Ext.define("Ext.EventObjectImpl",{BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,RETURN:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,WHEEL_SCALE:function(){var e;return Ext.isGecko?e=3:Ext.isMac?(e=Ext.isSafari&&Ext.webKitVersion>=532?120:12,e*=3):e=120,e}(),clickRe:/(dbl)?click/,safariKeys:{3:13,63234:37,63235:39,63232:38,63233:40,63276:33,63277:34,63272:46,63273:36,63275:35},btnMap:Ext.isIE?{1:0,4:1,2:2}:{0:0,1:1,2:2},constructor:function(e,t){e&&this.setEvent(e.browserEvent||e,t)},setEvent:function(e,t){var n,i,r=this;return e===r||e&&e.browserEvent?e:(r.browserEvent=e,e?(n=e.button?r.btnMap[e.button]:e.which?e.which-1:-1,r.clickRe.test(e.type)&&-1==n&&(n=0),i={type:e.type,button:n,shiftKey:e.shiftKey,ctrlKey:e.ctrlKey||e.metaKey||!1,altKey:e.altKey,keyCode:e.keyCode,charCode:e.charCode,target:Ext.EventManager.getTarget(e),relatedTarget:Ext.EventManager.getRelatedTarget(e),currentTarget:e.currentTarget,xy:t?r.getXY():null}):i={button:-1,shiftKey:!1,ctrlKey:!1,altKey:!1,keyCode:0,charCode:0,target:null,xy:[0,0]},Ext.apply(r,i),r)},stopEvent:function(){this.stopPropagation(),this.preventDefault()},preventDefault:function(){this.browserEvent&&Ext.EventManager.preventDefault(this.browserEvent)},stopPropagation:function(){var e=this.browserEvent;e&&("mousedown"==e.type&&Ext.EventManager.stoppedMouseDownEvent.fire(this),Ext.EventManager.stopPropagation(e))},getCharCode:function(){return this.charCode||this.keyCode},getKey:function(){return this.normalizeKey(this.keyCode||this.charCode)},normalizeKey:function(e){return Ext.isWebKit&&this.safariKeys[e]||e},getPageX:function(){return this.getX()},getPageY:function(){return this.getY()},getX:function(){return this.getXY()[0]},getY:function(){return this.getXY()[1]},getXY:function(){return this.xy||(this.xy=Ext.EventManager.getPageXY(this.browserEvent)),this.xy},getTarget:function(e,t,n){return e?Ext.fly(this.target).findParent(e,t,n):n?Ext.get(this.target):this.target},getRelatedTarget:function(e,t,n){return e&&this.relatedTarget?Ext.fly(this.relatedTarget).findParent(e,t,n):n?Ext.get(this.relatedTarget):this.relatedTarget},correctWheelDelta:function(e){var t=this.WHEEL_SCALE,n=Math.round(e/t);return!n&&e&&(n=e<0?-1:1),n},getWheelDeltas:function(){var e=this,t=e.browserEvent,n=0,i=0;return Ext.isDefined(t.wheelDeltaX)?(n=t.wheelDeltaX,i=t.wheelDeltaY):t.wheelDelta?i=t.wheelDelta:t.detail&&((i=-t.detail)>100?i=3:i<-100&&(i=-3),Ext.isDefined(t.axis)&&t.axis===t.HORIZONTAL_AXIS&&(n=i,i=0)),{x:e.correctWheelDelta(n),y:e.correctWheelDelta(i)}},getWheelDelta:function(){return this.getWheelDeltas().y},within:function(e,t,n){if(e){var i,r=t?this.getRelatedTarget():this.getTarget();if(r)return!(i=Ext.fly(e).contains(r))&&n&&(i=r==Ext.getDom(e)),i}return!1},isNavKeyPress:function(){var e=this,t=this.normalizeKey(e.keyCode);return t>=33&&t<=40||t==e.RETURN||t==e.TAB||t==e.ESC},isSpecialKey:function(){var e=this.normalizeKey(this.keyCode);return"keypress"==this.type&&this.ctrlKey||this.isNavKeyPress()||e==this.BACKSPACE||e>=16&&e<=20||e>=44&&e<=46},getPoint:function(){var e=this.getXY();return new Ext.util.Point(e[0],e[1])},hasModifier:function(){return this.ctrlKey||this.altKey||this.shiftKey||this.metaKey},injectEvent:function(){var e,t,n={};function i(e,t){}return!Ext.isIE&&document.createEvent?e={createHtmlEvent:function(e,t,n,i){var r=e.createEvent("HTMLEvents");return r.initEvent(t,n,i),r},createMouseEvent:function(e,t,n,i,r,o,a,s,l,d,c,u,h){var f=e.createEvent("MouseEvents"),p=e.defaultView||window;return f.initMouseEvent?f.initMouseEvent(t,n,i,p,r,o,a,o,a,s,l,d,c,u,h):((f=e.createEvent("UIEvents")).initEvent(t,n,i),f.view=p,f.detail=r,f.screenX=o,f.screenY=a,f.clientX=o,f.clientY=a,f.ctrlKey=s,f.altKey=l,f.metaKey=c,f.shiftKey=d,f.button=u,f.relatedTarget=h),f},createUIEvent:function(e,t,n,i,r){var o=e.createEvent("UIEvents"),a=e.defaultView||window;return o.initUIEvent(t,n,i,a,r),o},fireEvent:function(e,t,n){e.dispatchEvent(n)},fixTarget:function(e){return e!=window||e.dispatchEvent?e:document}}:document.createEventObject&&(t={0:1,1:4,2:2},e={createHtmlEvent:function(e,t,n,i){var r=e.createEventObject();return r.bubbles=n,r.cancelable=i,r},createMouseEvent:function(e,n,i,r,o,a,s,l,d,c,u,h,f){var p=e.createEventObject();return p.bubbles=i,p.cancelable=r,p.detail=o,p.screenX=a,p.screenY=s,p.clientX=a,p.clientY=s,p.ctrlKey=l,p.altKey=d,p.shiftKey=c,p.metaKey=u,p.button=t[h]||h,p.relatedTarget=f,p},createUIEvent:function(e,t,n,i,r){var o=e.createEventObject();return o.bubbles=n,o.cancelable=i,o},fireEvent:function(e,t,n){e.fireEvent("on"+t,n)},fixTarget:function(e){return e==document?document.documentElement:e}}),Ext.Object.each({load:[!1,!1],unload:[!1,!1],select:[!0,!1],change:[!0,!1],submit:[!0,!0],reset:[!0,!1],resize:[!0,!1],scroll:[!0,!1]},function(t,i){var r=i[0],o=i[1];n[t]=function(n,i){var a=e.createHtmlEvent(t,r,o);e.fireEvent(n,t,a)}}),Ext.each(["click","dblclick","mousedown","mouseup","mouseover","mousemove","mouseout"],function(t){n[t]=function(t,n){var i="mousemove"!=t;return function(r,o){var a=o.getXY(),s=e.createMouseEvent(r.ownerDocument,t,!0,i,n,a[0],a[1],o.ctrlKey,o.altKey,o.shiftKey,o.metaKey,o.button,o.relatedTarget);e.fireEvent(r,t,s)}}(t,1)}),Ext.Object.each({focusin:[!0,!1],focusout:[!0,!1],activate:[!0,!0],focus:[!1,!1],blur:[!1,!1]},function(t,i){var r=i[0],o=i[1];n[t]=function(n,i){var a=e.createUIEvent(n.ownerDocument,t,r,o,1);e.fireEvent(n,t,a)}}),e||(n={},e={fixTarget:Ext.identityFn}),function(t){var r=this,o=n[r.type]||i,a=t?t.dom||t:r.getTarget();o(a=e.fixTarget(a),r)}}()},function(){Ext.EventObject=new Ext.EventObjectImpl}),Ext.define("Ext.dom.AbstractQuery",{select:function(e,t){var n,i,r,o,a,s=[];for("string"==typeof(t=t||document)&&(t=document.getElementById(t)),i=0,o=(e=e.split(",")).length;i<o;i++)if("string"==typeof e[i])if("@"==typeof e[i][0])n=t.getAttributeNode(e[i].substring(1)),s.push(n);else for(r=0,a=(n=t.querySelectorAll(e[i])).length;r<a;r++)s.push(n[r]);return s},selectNode:function(e,t){return this.select(e,t)[0]},is:function(e,t){return"string"==typeof e&&(e=document.getElementById(e)),-1!==this.select(t).indexOf(e)}}),Ext.define("Ext.dom.AbstractHelper",{emptyTags:/^(?:br|frame|hr|img|input|link|meta|range|spacer|wbr|area|param|col)$/i,confRe:/^(?:tag|children|cn|html|tpl|tplData)$/i,endRe:/end/i,styleSepRe:/\s*(?::|;)\s*/,attributeTransform:{cls:"class",htmlFor:"for"},closeTags:{},decamelizeName:function(){var e=/([a-z])([A-Z])/g,t={};function n(e,t,n){return t+"-"+n.toLowerCase()}return function(i){return t[i]||(t[i]=i.replace(e,n))}}(),generateMarkup:function(e,t){var n,i,r,o,a,s=this,l=typeof e;if("string"==l||"number"==l)t.push(e);else if(Ext.isArray(e))for(o=0;o<e.length;o++)e[o]&&s.generateMarkup(e[o],t);else{for(n in r=e.tag||"div",t.push("<",r),e)e.hasOwnProperty(n)&&(i=e[n],s.confRe.test(n)||("object"==typeof i?(t.push(" ",n,'="'),s.generateStyles(i,t).push('"')):t.push(" ",s.attributeTransform[n]||n,'="',i,'"')));s.emptyTags.test(r)?t.push("/>"):(t.push(">"),(i=e.tpl)&&i.applyOut(e.tplData,t),(i=e.html)&&t.push(i),(i=e.cn||e.children)&&s.generateMarkup(i,t),a=s.closeTags,t.push(a[r]||(a[r]="</"+r+">")))}return t},generateStyles:function(e,t){var n,i=t||[];for(n in e)e.hasOwnProperty(n)&&i.push(this.decamelizeName(n),":",e[n],";");return t||i.join("")},markup:function(e){return"string"==typeof e?e:this.generateMarkup(e,[]).join("")},applyStyles:function(e,t){if(t){var n,i=0;if(e=Ext.fly(e,"_applyStyles"),"function"==typeof t&&(t=t.call()),"string"==typeof t)for(n=(t=Ext.util.Format.trim(t).split(this.styleSepRe)).length;i<n;)e.setStyle(t[i++],t[i++]);else Ext.isObject(t)&&e.setStyle(t)}},insertHtml:function(e,t,n){var i,r,o,a,s={};return e=e.toLowerCase(),s.beforebegin=["BeforeBegin","previousSibling"],s.afterend=["AfterEnd","nextSibling"],r=t.ownerDocument.createRange(),i="setStart"+(this.endRe.test(e)?"After":"Before"),s[e]?(r[i](t),o=r.createContextualFragment(n),t.parentNode.insertBefore(o,"beforebegin"==e?t:t.nextSibling),t[("beforebegin"==e?"previous":"next")+"Sibling"]):(a=("afterbegin"==e?"first":"last")+"Child",t.firstChild?(r[i](t[a]),o=r.createContextualFragment(n),"afterbegin"==e?t.insertBefore(o,t.firstChild):t.appendChild(o)):t.innerHTML=n,t[a])},insertBefore:function(e,t,n){return this.doInsert(e,t,n,"beforebegin")},insertAfter:function(e,t,n){return this.doInsert(e,t,n,"afterend","nextSibling")},insertFirst:function(e,t,n){return this.doInsert(e,t,n,"afterbegin","firstChild")},append:function(e,t,n){return this.doInsert(e,t,n,"beforeend","",!0)},overwrite:function(e,t,n){return(e=Ext.getDom(e)).innerHTML=this.markup(t),n?Ext.get(e.firstChild):e.firstChild},doInsert:function(e,t,n,i,r,o){var a=this.insertHtml(i,Ext.getDom(e),this.markup(t));return n?Ext.get(a,!0):a}}),Ext.define("Ext.dom.AbstractElement_static",{override:"Ext.dom.AbstractElement",inheritableStatics:{unitRe:/\d+(px|em|%|en|ex|pt|in|cm|mm|pc)$/i,camelRe:/(-[a-z])/gi,msRe:/^-ms-/,cssRe:/([a-z0-9\-]+)\s*:\s*([^;\s]+(?:\s*[^;\s]+)*)?;?/gi,opacityRe:/alpha\(opacity=(.*)\)/i,propertyCache:{},defaultUnit:"px",borders:{l:"border-left-width",r:"border-right-width",t:"border-top-width",b:"border-bottom-width"},paddings:{l:"padding-left",r:"padding-right",t:"padding-top",b:"padding-bottom"},margins:{l:"margin-left",r:"margin-right",t:"margin-top",b:"margin-bottom"},addUnits:function(e,t){return"number"==typeof e?e+(t||this.defaultUnit||"px"):""===e||"auto"==e||null==e?e||"":this.unitRe.test(e)?e:(Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Warning, size detected as NaN on Element.addUnits."),e||"")},isAncestor:function(e,t){var n=!1;if(e=Ext.getDom(e),t=Ext.getDom(t),e&&t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return!!(16&e.compareDocumentPosition(t));for(;t=t.parentNode;)n=t==e||n}return n},parseBox:function(e){var t,n,i=typeof(e=e||0);return"number"===i?{top:e,right:e,bottom:e,left:e}:"string"!==i?e:(1==(n=(t=e.split(" ")).length)?t[1]=t[2]=t[3]=t[0]:2==n?(t[2]=t[0],t[3]=t[1]):3==n&&(t[3]=t[1]),{top:parseFloat(t[0])||0,right:parseFloat(t[1])||0,bottom:parseFloat(t[2])||0,left:parseFloat(t[3])||0})},unitizeBox:function(e,t){var n=this.addUnits,i=this.parseBox(e);return n(i.top,t)+" "+n(i.right,t)+" "+n(i.bottom,t)+" "+n(i.left,t)},camelReplaceFn:function(e,t){return t.charAt(1).toUpperCase()},normalize:function(e){return"float"==e&&(e=Ext.supports.Float?"cssFloat":"styleFloat"),this.propertyCache[e]||(this.propertyCache[e]=e.replace(this.msRe,"ms-").replace(this.camelRe,this.camelReplaceFn))},getDocumentHeight:function(){return Math.max(Ext.isStrict?document.documentElement.scrollHeight:document.body.scrollHeight,this.getViewportHeight())},getDocumentWidth:function(){return Math.max(Ext.isStrict?document.documentElement.scrollWidth:document.body.scrollWidth,this.getViewportWidth())},getViewportHeight:function(){return window.innerHeight},getViewportWidth:function(){return window.innerWidth},getViewSize:function(){return{width:window.innerWidth,height:window.innerHeight}},getOrientation:function(){return Ext.supports.OrientationChange?0==window.orientation?"portrait":"landscape":window.innerHeight>window.innerWidth?"portrait":"landscape"},fromPoint:function(e,t){return Ext.get(document.elementFromPoint(e,t))},parseStyles:function(e){var t,n={},i=this.cssRe;if(e)for(i.lastIndex=0;t=i.exec(e);)n[t[1]]=t[2]||"";return n}}},function(){var e=document,t=null,n="CSS1Compat"==e.compatMode;"activeElement"in e||!e.addEventListener||e.addEventListener("focus",function(n){n&&n.target&&(t=n.target==e?null:n.target)},!0),this.addInheritableStatics({getActiveElement:function(){var n;try{n=e.activeElement}catch(e){}return(n=n||t)||(n=t=document.body),n},getRightMarginFixCleaner:function(n){var i,r,o,a,s=Ext.supports,l=s.DisplayChangeInputSelectionBug,d=s.DisplayChangeTextAreaSelectionBug;return(l||d)&&(r=(i=e.activeElement||t)&&i.tagName,(d&&"TEXTAREA"==r||l&&"INPUT"==r&&"text"==i.type)&&Ext.dom.Element.isAncestor(n,i)&&(o=i.selectionStart,a=i.selectionEnd,Ext.isNumber(o)&&Ext.isNumber(a)))?function(e,t,n){return function(){e.selectionStart=t,e.selectionEnd=n}}(i,o,a):Ext.emptyFn},getViewWidth:function(e){return e?Ext.dom.Element.getDocumentWidth():Ext.dom.Element.getViewportWidth()},getViewHeight:function(e){return e?Ext.dom.Element.getDocumentHeight():Ext.dom.Element.getViewportHeight()},getDocumentHeight:function(){return Math.max(n?e.documentElement.scrollHeight:e.body.scrollHeight,Ext.dom.Element.getViewportHeight())},getDocumentWidth:function(){return Math.max(n?e.documentElement.scrollWidth:e.body.scrollWidth,Ext.dom.Element.getViewportWidth())},getViewportHeight:function(){return Ext.isIE9m?Ext.isStrict?e.documentElement.clientHeight:e.body.clientHeight:self.innerHeight},getViewportWidth:function(){return Ext.isStrict||Ext.isOpera?Ext.isIE9m?e.documentElement.clientWidth:self.innerWidth:e.body.clientWidth},serializeForm:function(e){var t,n,i,r,o,a,s,l,d,c=e.elements||(document.forms[e]||Ext.getDom(e)).elements,u=!1,h=encodeURIComponent,f="",p=c.length;for(a=0;a<p;a++)if(n=(t=c[a]).name,i=t.type,r=t.options,!t.disabled&&n)if(/select-(one|multiple)/i.test(i))for(l=r.length,s=0;s<l;s++)(d=r[s]).selected&&(o=d.hasAttribute?d.hasAttribute("value"):d.getAttributeNode("value").specified,f+=Ext.String.format("{0}={1}&",h(n),h(o?d.value:d.text)));else/file|undefined|reset|button/i.test(i)||/radio|checkbox/i.test(i)&&!t.checked||"submit"==i&&u||(f+=h(n)+"="+h(t.value)+"&",u=/submit/i.test(i));return f.substr(0,f.length-1)}})}),Ext.define("Ext.dom.AbstractElement_insertion",{override:"Ext.dom.AbstractElement",appendChild:function(e,t){var n,i,r,o=this;if(e.nodeType||e.dom||"string"==typeof e)return e=Ext.getDom(e),o.dom.appendChild(e),t?e:Ext.get(e);if(e.length){for(n=Ext.fly(document.createDocumentFragment(),"_internal"),i=e.length,Ext.DomHelper.useDom=!0,r=0;r<i;r++)n.appendChild(e[r],t);return Ext.DomHelper.useDom=void 0,o.dom.appendChild(n.dom),t?n.dom:n}return o.createChild(e,null,t)},appendTo:function(e){return Ext.getDom(e).appendChild(this.dom),this},insertBefore:function(e){return(e=Ext.getDom(e)).parentNode.insertBefore(this.dom,e),this},insertAfter:function(e){return(e=Ext.getDom(e)).parentNode.insertBefore(this.dom,e.nextSibling),this},insertFirst:function(e,t){return(e=e||{}).nodeType||e.dom||"string"==typeof e?(e=Ext.getDom(e),this.dom.insertBefore(e,this.dom.firstChild),t?e:Ext.get(e)):this.createChild(e,this.dom.firstChild,t)},insertSibling:function(e,t,n){var i,r,o,a,s=this,l=Ext.core.DomHelper,d=l.useDom,c="after"==(t||"before").toLowerCase();if(Ext.isArray(e)){for(r=Ext.fly(document.createDocumentFragment(),"_internal"),o=e.length,l.useDom=!0,a=0;a<o;a++)i=r.appendChild(e[a],n);return l.useDom=d,s.dom.parentNode.insertBefore(r.dom,c?s.dom.nextSibling:s.dom),i}return(e=e||{}).nodeType||e.dom?(i=s.dom.parentNode.insertBefore(Ext.getDom(e),c?s.dom.nextSibling:s.dom),n||(i=Ext.get(i))):i=c&&!s.dom.nextSibling?l.append(s.dom.parentNode,e,!n):l[c?"insertAfter":"insertBefore"](s.dom,e,!n),i},replace:function(e){return e=Ext.get(e),this.insertBefore(e),e.remove(),this},replaceWith:function(e){var t=this;return e.nodeType||e.dom||"string"==typeof e?(e=Ext.get(e),t.dom.parentNode.insertBefore(e.dom,t.dom)):e=Ext.core.DomHelper.insertBefore(t.dom,e),delete Ext.cache[t.id],Ext.removeNode(t.dom),t.id=Ext.id(t.dom=e),Ext.dom.AbstractElement.addToCache(t.isFlyweight?new Ext.dom.AbstractElement(t.dom):t),t},createChild:function(e,t,n){return e=e||{tag:"div"},t?Ext.core.DomHelper.insertBefore(t,e,!0!==n):Ext.core.DomHelper.append(this.dom,e,!0!==n)},wrap:function(e,t,n){var i=Ext.core.DomHelper.insertBefore(this.dom,e||{tag:"div"},!0),r=i;return n&&(r=Ext.DomQuery.selectNode(n,i.dom)),r.appendChild(this.dom),t?i.dom:i},insertHtml:function(e,t,n){var i=Ext.core.DomHelper.insertHtml(e,this.dom,t);return n?Ext.get(i):i}}),Ext.define("Ext.dom.AbstractElement_style",{override:"Ext.dom.AbstractElement"},function(){var e,t,n=this,i=/\w/g,r=/\s+/,o=/^(?:transparent|(?:rgba[(](?:\s*\d+\s*[,]){3}\s*0\s*[)]))$/i,a=Ext.supports.ClassList,s="padding",l="margin",d="border",c="-left",u="-right",h="-top",f="-bottom",p="-width",g={l:d+c+p,r:d+u+p,t:d+h+p,b:d+f+p},m={l:s+c,r:s+u,t:s+h,b:s+f},x={l:l+c,r:l+u,t:l+h,b:l+f},y=new n.Fly;Ext.override(n,{styleHooks:{},addStyles:function(e,t){var n,r,o=0,a=(e||"").match(i),s=a.length,l=[];if(1==s)o=Math.abs(parseFloat(this.getStyle(t[a[0]]))||0);else if(s){for(n=0;n<s;n++)r=a[n],l.push(t[r]);for(l=this.getStyle(l),n=0;n<s;n++)r=a[n],o+=Math.abs(parseFloat(l[t[r]])||0)}return o},addCls:(t=function(e){String(e).indexOf("undefined")>-1&&Ext.Logger.warn("called with an undefined className: '"+e+"'");var t,n=this.dom;return n&&e&&e.length&&(t=Ext.Element.mergeClsList(n.className,e)).changed&&(n.className=t.join(" ")),this},a?function(e){String(e).indexOf("undefined")>-1&&Ext.Logger.warn("called with an undefined className: "+e);var n,i,o,a,s,l=this,d=l.dom,c=l.trimRe,u=e;if("string"==typeof e&&(e=e.replace(c,"").split(r)),d&&e&&(a=e.length))if(d.className)if(n=d.classList){for(o=0;o<a;++o)(s=e[o])&&(n.contains(s)||(i?i.push(s):i=(i=d.className.replace(c,""))?[i,s]:[s]));i&&(d.className=i.join(" "))}else t(u);else d.className=e.join(" ");return l}:t),removeCls:function(e){var t,n,i,o=this,a=o.dom;return"string"==typeof e&&(e=e.replace(o.trimRe,"").split(r)),a&&a.className&&e&&(n=e.length)&&(t=a.classList,1===n&&t?e[0]&&t.remove(e[0]):(i=Ext.Element.removeCls(a.className,e)).changed&&(a.className=i.join(" "))),o},radioCls:function(e){var t,n,i,r=this.dom.parentNode.childNodes;for(e=Ext.isArray(e)?e:[e],n=0,i=r.length;n<i;n++)(t=r[n])&&1==t.nodeType&&y.attach(t).removeCls(e);return this.addCls(e)},toggleCls:(e=function(e){return this.hasCls(e)?this.removeCls(e):this.addCls(e)},a?function(t){var n,i=this,r=i.dom;return r&&(t=t.replace(i.trimRe,""))&&((n=r.classList)?n.toggle(t):e(t)),i}:e),hasCls:function(){var e=function(e){var t=this.dom;return!!t&&(e&&-1!==(" "+t.className+" ").indexOf(" "+e+" "))};return a?function(t){var n,i=this.dom,r=!1;return i&&t&&(r=(n=i.classList)?n.contains(t):e(t)),r}:e}(),replaceCls:function(e,t){return this.removeCls(e).addCls(t)},isStyle:function(e,t){return this.getStyle(e)==t},getStyle:function(e,t){var i,r,o,a,s,l,d=this,c=d.dom,u="string"!=typeof e,h=d.styleHooks,f=e,p=f,g=1;if(u&&(r={},f=p[0],l=0,!(g=p.length)))return r;if(!c||c.documentElement)return r||"";i=c.style,t?s=i:(s=c.ownerDocument.defaultView.getComputedStyle(c,null))||(t=!0,s=i);do{if((o=h[f])||(h[f]=o={name:n.normalize(f)}),a=o.get?o.get(c,d,t,s):s[o.name],!u)return a;r[f]=a,f=p[++l]}while(l<g);return r},getStyles:function(){var e,t=Ext.Array.slice(arguments),n=t.length;return n&&"boolean"==typeof t[n-1]&&(e=t.pop()),this.getStyle(t,e)},isTransparent:function(e){var t=this.getStyle(e);return!!t&&o.test(t)},setStyle:function(e,t){var i,r=this,o=r.dom,a=r.styleHooks,s=o.style,l=e;if("string"==typeof l)(i=a[l])||(a[l]=i={name:n.normalize(l)}),t=null==t?"":t,i.set?i.set(o,t,r):s[i.name]=t,i.afterSet&&i.afterSet(o,t,r);else for(l in e)e.hasOwnProperty(l)&&((i=a[l])||(a[l]=i={name:n.normalize(l)}),t=null==(t=e[l])?"":t,i.set?i.set(o,t,r):s[i.name]=t,i.afterSet&&i.afterSet(o,t,r));return r},getHeight:function(e){var t=this.dom,n=e?t.clientHeight-this.getPadding("tb"):t.offsetHeight;return n>0?n:0},getWidth:function(e){var t=this.dom,n=e?t.clientWidth-this.getPadding("lr"):t.offsetWidth;return n>0?n:0},setWidth:function(e){return this.dom.style.width=n.addUnits(e),this},setHeight:function(e){return this.dom.style.height=n.addUnits(e),this},getBorderWidth:function(e){return this.addStyles(e,g)},getPadding:function(e){return this.addStyles(e,m)},margins:x,applyStyles:function(e){if(e){var t,i,r=this.dom;if("function"==typeof e&&(e=e.call()),"string"==typeof e)for(t=0,i=(e=Ext.util.Format.trim(e).split(/\s*(?::|;)\s*/)).length;t<i;)r.style[n.normalize(e[t++])]=e[t++];else"object"==typeof e&&this.setStyle(e)}},setSize:function(e,t){var i=this.dom.style;return Ext.isObject(e)&&(t=e.height,e=e.width),i.width=n.addUnits(e),i.height=n.addUnits(t),this},getViewSize:function(){var e=document,t=this.dom;return t==e||t==e.body?{width:n.getViewportWidth(),height:n.getViewportHeight()}:{width:t.clientWidth,height:t.clientHeight}},getSize:function(e){var t=this.dom;return{width:Math.max(0,e?t.clientWidth-this.getPadding("lr"):t.offsetWidth),height:Math.max(0,e?t.clientHeight-this.getPadding("tb"):t.offsetHeight)}},repaint:function(){var e=this.dom;return this.addCls(Ext.baseCSSPrefix+"repaint"),setTimeout(function(){y.attach(e).removeCls(Ext.baseCSSPrefix+"repaint")},1),this},getMargin:function(e){var t,n,i,r=this,o={t:"top",l:"left",r:"right",b:"bottom"};if(e)return r.addStyles(e,r.margins);for(t in i=[],r.margins)r.margins.hasOwnProperty(t)&&i.push(r.margins[t]);if((n=r.getStyle(i))&&"object"==typeof n)for(t in r.margins)r.margins.hasOwnProperty(t)&&(n[o[t]]=parseFloat(n[r.margins[t]])||0);return n},mask:function(e,t,n){var i,r,o=this,a=o.dom,s=(o.$cache||o.getCache()).data,l=s.mask,d=Ext.baseCSSPrefix;o.addCls(d+"masked"),"static"==o.getStyle("position")&&o.addCls(d+"masked-relative"),l&&l.remove(),i=o.createChild({cls:d+"mask"+(!1!==n?"":" "+d+"mask-gray"),html:e?'<div class="'+(t||d+"mask-message")+'">'+e+"</div>":""}),r=o.getSize(),s.mask=i,a===document.body&&(r.height=window.innerHeight,o.orientationHandler&&Ext.EventManager.unOrientationChange(o.orientationHandler,o),o.orientationHandler=function(){(r=o.getSize()).height=window.innerHeight,i.setSize(r)},Ext.EventManager.onOrientationChange(o.orientationHandler,o)),i.setSize(r),Ext.is.iPad&&Ext.repaint()},unmask:function(){var e=this,t=(e.$cache||e.getCache()).data,n=t.mask,i=Ext.baseCSSPrefix;n&&(n.remove(),delete t.mask),e.removeCls([i+"masked",i+"masked-relative"]),e.dom===document.body&&(Ext.EventManager.unOrientationChange(e.orientationHandler,e),delete e.orientationHandler)}}),Ext.onReady(function(){var e,t,i,r,a,s=Ext.supports;function l(e,t,n,i){var r=i[this.name]||"";return o.test(r)?"transparent":r}if(e=n.prototype.styleHooks,s.init&&s.init(),s.RightMargin||(e.marginRight=e["margin-right"]={name:"marginRight",get:s.DisplayChangeInputSelectionBug||s.DisplayChangeTextAreaSelectionBug?function(e,t,i,r){var o,a,s,l=r.marginRight;return"0px"!=l&&(o=e.style,a=n.getRightMarginFixCleaner(e),s=o.display,o.display="inline-block",l=(i?r:e.ownerDocument.defaultView.getComputedStyle(e,"")).marginRight,o.display=s,a()),l}:function(e,t,n,i){var r,o,a=i.marginRight;return"0px"!=a&&(o=(r=e.style).display,r.display="inline-block",a=(n?i:e.ownerDocument.defaultView.getComputedStyle(e,null)).marginRight,r.display=o),a}}),!s.TransparentColor)for(i=(t=["background-color","border-color","color","outline-color"]).length;i--;)r=t[i],a=n.normalize(r),e[r]=e[a]={name:a,get:l}})}),Ext.define("Ext.dom.AbstractElement_traversal",{override:"Ext.dom.AbstractElement",findParent:function(e,t,n){var i,r=this.dom,o=document.documentElement,a=0;for(t=t||50,isNaN(t)&&(i=Ext.getDom(t),t=Number.MAX_VALUE);r&&1==r.nodeType&&a<t&&r!=o&&r!=i;){if(Ext.DomQuery.is(r,e))return n?Ext.get(r):r;a++,r=r.parentNode}return null},findParentNode:function(e,t,n){var i=Ext.fly(this.dom.parentNode,"_internal");return i?i.findParent(e,t,n):null},up:function(e,t,n){return this.findParentNode(e,t,!n)},select:function(e,t){return Ext.dom.Element.select(e,this.dom,t)},query:function(e){return Ext.DomQuery.select(e,this.dom)},down:function(e,t){var n=Ext.DomQuery.selectNode(e,this.dom);return t?n:Ext.get(n)},child:function(e,t){var n,i;return i=Ext.id(this.dom),i=Ext.escapeId(i),n=Ext.DomQuery.selectNode("#"+i+" > "+e,this.dom),t?n:Ext.get(n)},parent:function(e,t){return this.matchNode("parentNode","parentNode",e,t)},next:function(e,t){return this.matchNode("nextSibling","nextSibling",e,t)},prev:function(e,t){return this.matchNode("previousSibling","previousSibling",e,t)},first:function(e,t){return this.matchNode("nextSibling","firstChild",e,t)},last:function(e,t){return this.matchNode("previousSibling","lastChild",e,t)},matchNode:function(e,t,n,i){if(!this.dom)return null;for(var r=this.dom[t];r;){if(1==r.nodeType&&(!n||Ext.DomQuery.is(r,n)))return i?r:Ext.get(r);r=r[e]}return null},isAncestor:function(e){return this.self.isAncestor.call(this.self,this.dom,e)}}),Ext.define("Ext.dom.AbstractElement",{trimRe:/^\s+|\s+$/g,whitespaceRe:/\s/,inheritableStatics:{trimRe:/^\s+|\s+$/g,whitespaceRe:/\s/,get:function(e){var t,n,i,r,o=this,a=window.document,s=Ext.dom.Element;return e?(e.isFly&&(e=e.dom),"string"==typeof e?e==Ext.windowId?s.get(window):e==Ext.documentId?s.get(a):(t=Ext.cache[e])&&t.skipGarbageCollection?t.el:(i=a.getElementById(e))?t&&t.el?Ext.updateCacheEntry(t,i).el:new s(i,!!t):null:e.tagName?((r=e.id)||(r=Ext.id(e)),(t=Ext.cache[r])&&t.el?Ext.updateCacheEntry(t,e).el:new s(e,!!t)):e instanceof o?(e!=o.docEl&&e!=o.winEl&&(r=e.id,(t=Ext.cache[r])&&Ext.updateCacheEntry(t,a.getElementById(r)||e.dom)),e):e.isComposite?e:Ext.isArray(e)?o.select(e):e===a?(o.docEl||((n=o.docEl=Ext.Object.chain(s.prototype)).dom=a,n.el=n,n.id=Ext.id(a),o.addToCache(n)),o.docEl):e===window?(o.winEl||(o.winEl=Ext.Object.chain(s.prototype),o.winEl.dom=window,o.winEl.id=Ext.id(window),o.addToCache(o.winEl)),o.winEl):null):null},addToCache:function(e,t){return e&&Ext.addCacheEntry(t,e),e},addMethods:function(){this.override.apply(this,arguments)},mergeClsList:function(){var e,t,n,i,r,o,a={},s=[],l=!1,d=this.trimRe,c=this.whitespaceRe;for(t=0,n=arguments.length;t<n;t++)if(e=arguments[t],Ext.isString(e)&&(e=e.replace(d,"").split(c)),e)for(i=0,r=e.length;i<r;i++)a[o=e[i]]||(t&&(l=!0),a[o]=!0);for(o in a)s.push(o);return s.changed=l,s},removeCls:function(e,t){var n,i,r,o={},a=[],s=!1,l=this.whitespaceRe;if(e)for(Ext.isString(e)&&(e=e.replace(this.trimRe,"").split(l)),n=0,i=e.length;n<i;n++)o[e[n]]=!0;if(t)for(Ext.isString(t)&&(t=t.split(l)),n=0,i=t.length;n<i;n++)o[r=t[n]]&&(s=!0,delete o[r]);for(r in o)a.push(r);return a.changed=s,a},VISIBILITY:1,DISPLAY:2,OFFSETS:3,ASCLASS:4},constructor:function(e,t){var n,i=this,r="string"==typeof e?document.getElementById(e):e;return i.el=i,r?(n=r.id,!t&&n&&Ext.cache[n]?Ext.cache[n].el:(i.dom=r,i.id=n||Ext.id(r),void i.self.addToCache(i))):null},set:function(e,t){var n,i,r=this.dom;for(n in e)e.hasOwnProperty(n)&&(i=e[n],"style"==n?this.applyStyles(i):"cls"==n?r.className=i:!1!==t?void 0===i?r.removeAttribute(n):r.setAttribute(n,i):r[n]=i);return this},defaultUnit:"px",is:function(e){return Ext.DomQuery.is(this.dom,e)},getValue:function(e){var t=this.dom.value;return e?parseInt(t,10):t},remove:function(){var e=this,t=e.dom;e.isAnimate&&e.stopAnimation(),t&&(Ext.removeNode(t),delete e.dom)},contains:function(e){if(!e)return!1;var t=e.dom||e;return t===this.dom||Ext.dom.AbstractElement.isAncestor(this.dom,t)},getAttribute:function(e,t){var n=this.dom;return n.getAttributeNS(t,e)||n.getAttribute(t+":"+e)||n.getAttribute(e)||n[e]},update:function(e){return this.dom&&(this.dom.innerHTML=e),this},setHTML:function(e){return this.dom&&(this.dom.innerHTML=e),this},getHTML:function(){return this.dom?this.dom.innerHTML:""},hide:function(){return this.setVisible(!1),this},show:function(){return this.setVisible(!0),this},setVisible:function(e,t){var n=this,i=n.self,r=n.getVisibilityMode(),o=Ext.baseCSSPrefix;switch(r){case i.VISIBILITY:n.removeCls([o+"hidden-display",o+"hidden-offsets"]),n[e?"removeCls":"addCls"](o+"hidden-visibility");break;case i.DISPLAY:n.removeCls([o+"hidden-visibility",o+"hidden-offsets"]),n[e?"removeCls":"addCls"](o+"hidden-display");break;case i.OFFSETS:n.removeCls([o+"hidden-visibility",o+"hidden-display"]),n[e?"removeCls":"addCls"](o+"hidden-offsets")}return n},getVisibilityMode:function(){var e=(this.$cache||this.getCache()).data,t=e.visibilityMode;return void 0===t&&(e.visibilityMode=t=this.self.DISPLAY),t},setVisibilityMode:function(e){return(this.$cache||this.getCache()).data.visibilityMode=e,this},getCache:function(){var e=this,t=e.dom.id||Ext.id(e.dom);return e.$cache=Ext.cache[t]||Ext.addCacheEntry(t,null,e.dom),e.$cache}},function(){var e,t=this;Ext.getDetachedBody=function(){var e=t.detachedBodyEl;return e||(e=document.createElement("div"),t.detachedBodyEl=e=new t.Fly(e),e.isDetachedBody=!0),e},Ext.getElementById=function(e){var n,i=document.getElementById(e);return!i&&(n=t.detachedBodyEl)&&(i=n.dom.querySelector("#"+Ext.escapeId(e))),i},Ext.get=function(e){return Ext.dom.Element.get(e)},this.addStatics({Fly:new Ext.Class({extend:t,isFly:!0,constructor:function(e){this.dom=e,this.el=this},attach:function(e){return this.dom=e,this.$cache=e.id?Ext.cache[e.id]:null,this}}),_flyweights:{},fly:function(e,n){var i=null,r=t._flyweights;return n=n||"_global",(e=Ext.getDom(e))&&((i=r[n]||(r[n]=new t.Fly)).dom=e,i.$cache=e.id?Ext.cache[e.id]:null),i}}),Ext.fly=function(){return t.fly.apply(t,arguments)},(e=this.prototype).destroy=e.remove,document.querySelector?e.getById=function(e,t){var n=document.getElementById(e)||this.dom.querySelector("#"+Ext.escapeId(e));return t?n:n?Ext.get(n):null}:e.getById=function(e,t){var n=document.getElementById(e);return t?n:n?Ext.get(n):null}}),Ext.define("Ext.dom.Helper",function(){var e="afterbegin",t="beforebegin",n="<table>",i="</table>",r=n+"<tbody>",o="</tbody>"+i,a=document.createElement("div"),s=["BeforeBegin","previousSibling"],l=["AfterEnd","nextSibling"],d={beforebegin:s,afterend:l};return{extend:Ext.dom.AbstractHelper,tableRe:/^(?:table|thead|tbody|tr|td)$/i,tableElRe:/td|tr|tbody|thead/i,useDom:!1,createDom:function(e,t){var n,i,r,o,a,s,l,d=document;if(Ext.isArray(e))for(n=d.createDocumentFragment(),s=0,l=e.length;s<l;s++)this.createDom(e[s],n);else if("string"==typeof e)n=d.createTextNode(e);else{for(r in i=!!(n=d.createElement(e.tag||"div")).setAttribute,e)this.confRe.test(r)||(o=e[r],"cls"==r?n.className=o:i?n.setAttribute(r,o):n[r]=o);Ext.DomHelper.applyStyles(n,e.style),(a=e.children||e.cn)?this.createDom(a,n):e.html&&(n.innerHTML=e.html)}return t&&t.appendChild(n),n},ieTable:function(e,t,n,i){a.innerHTML=[t,n,i].join("");for(var r,o=-1,s=a;++o<e;)s=s.firstChild;if(r=s.nextSibling)for(r=s,s=document.createDocumentFragment();r;)nx=r.nextSibling,s.appendChild(r),r=nx;return s},insertIntoTable:function(a,s,l,d){var c,u,h=s==t,f=s==e,p="beforeend"==s,g="afterend"==s;return"td"==a&&(f||p)||!this.tableElRe.test(a)&&(h||g)?null:(u=h?l:g?l.nextSibling:f?l.firstChild:null,(h||g)&&(l=l.parentNode),c="td"==a||"tr"==a&&(p||f)?this.ieTable(4,"<table><tbody><tr>",d,"</tr></tbody></table>"):("tbody"==a||"thead"==a)&&(p||f)||"tr"==a&&(h||g)?this.ieTable(3,r,d,o):this.ieTable(2,n,d,i),l.insertBefore(c,u),c)},createContextualFragment:function(e){var t,n,i=document.createDocumentFragment();for(a.innerHTML=e,t=(n=a.childNodes).length;t--;)i.appendChild(n[0]);return i},applyStyles:function(e,t){t&&("function"==typeof t&&(t=t.call()),"string"==typeof t&&(t=Ext.dom.Element.parseStyles(t)),"object"==typeof t&&Ext.fly(e,"_applyStyles").setStyle(t))},createHtml:function(e){return this.markup(e)},doInsert:function(e,t,n,i,r,o){var a;return e=e.dom||Ext.getDom(e),this.useDom?(a=this.createDom(t,null),o?e.appendChild(a):("firstChild"==r?e:e.parentNode).insertBefore(a,e[r]||e)):a=this.insertHtml(i,e,this.markup(t)),n?Ext.get(a,!0):a},overwrite:function(e,t,n){var i;if(e=Ext.getDom(e),t=this.markup(t),Ext.isIE&&this.tableRe.test(e.tagName)){for(;e.firstChild;)e.removeChild(e.firstChild);return t?(i=this.insertHtml("afterbegin",e,t),n?Ext.get(i):i):null}return e.innerHTML=t,n?Ext.get(e.firstChild):e.firstChild},insertHtml:function(n,i,r){var o,a,s,l;return n=n.toLowerCase(),3===i.nodeType&&(n="beforeend"===(n="afterbegin"===n?"beforebegin":n)?"afterend":n),o=Ext.supports.CreateContextualFragment?i.ownerDocument.createRange():void 0,s="setStart"+(this.endRe.test(n)?"After":"Before"),d[n]?(o?(o[s](i),l=o.createContextualFragment(r)):l=this.createContextualFragment(r),i.parentNode.insertBefore(l,n==t?i:i.nextSibling),i[(n==t?"previous":"next")+"Sibling"]):(a=(n==e?"first":"last")+"Child",i.firstChild?(o?(o[s](i[a]),l=o.createContextualFragment(r)):l=this.createContextualFragment(r),n==e?i.insertBefore(l,i.firstChild):i.appendChild(l)):i.innerHTML=r,i[a])},createTemplate:function(e){var t=this.markup(e);return new Ext.Template(t)}}}(),function(){Ext.ns("Ext.core"),Ext.DomHelper=Ext.core.DomHelper=new this}),Ext.define("Ext.Template",{inheritableStatics:{from:function(e,t){return new this((e=Ext.getDom(e)).value||e.innerHTML,t||"")}},constructor:function(e){var t,n=this,i=arguments,r=[],o=0,a=i.length;if(n.initialConfig={},1===a&&Ext.isArray(e)&&(a=(i=e).length),a>1)for(;o<a;o++)"object"==typeof(t=i[o])?(Ext.apply(n.initialConfig,t),Ext.apply(n,t)):r.push(t);else r.push(e);n.html=r.join(""),n.compiled&&n.compile()},isTemplate:!0,disableFormats:!1,re:/\{([\w\-]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?\}/g,apply:function(e){var t=this,n=!0!==t.disableFormats,i=Ext.util.Format,r=t;if(t.compiled)return t.compiled(e).join("");return t.html.replace(t.re,function(t,o,a,s){return a&&n?(s=s?[e[o]].concat(Ext.functionFactory("return ["+s+"];")()):[e[o]],"this."==a.substr(0,5)?r[a.substr(5)].apply(r,s):i[a].apply(i,s)):void 0!==e[o]?e[o]:""})},applyOut:function(e,t){var n=this;return n.compiled?t.push.apply(t,n.compiled(e)):t.push(n.apply(e)),t},applyTemplate:function(){return this.apply.apply(this,arguments)},set:function(e,t){var n=this;return n.html=e,n.compiled=null,t?n.compile():n},compileARe:/\\/g,compileBRe:/(\r\n|\n)/g,compileCRe:/'/g,compile:function(){var me=this,fm=Ext.util.Format,useFormat=!0!==me.disableFormats,body,bodyReturn;function fn(e,t,n,i){return n&&useFormat?(i=i?","+i:"",n="this."!=n.substr(0,5)?"fm."+n+"(":"this."+n.substr(5)+"("):(i="",n="(values['"+t+"'] == undefined ? '' : "),"',"+n+"values['"+t+"']"+i+") ,'"}return bodyReturn=me.html.replace(me.compileARe,"\\\\").replace(me.compileBRe,"\\n").replace(me.compileCRe,"\\'").replace(me.re,fn),body="this.compiled = function(values){ return ['"+bodyReturn+"'];};",eval(body),me},insertFirst:function(e,t,n){return this.doInsert("afterBegin",e,t,n)},insertBefore:function(e,t,n){return this.doInsert("beforeBegin",e,t,n)},insertAfter:function(e,t,n){return this.doInsert("afterEnd",e,t,n)},append:function(e,t,n){return this.doInsert("beforeEnd",e,t,n)},doInsert:function(e,t,n,i){var r=Ext.DomHelper.insertHtml(e,Ext.getDom(t),this.apply(n));return i?Ext.get(r):r},overwrite:function(e,t,n){var i=Ext.DomHelper.overwrite(Ext.getDom(e),this.apply(t));return n?Ext.get(i):i}}),Ext.define("Ext.XTemplateParser",{constructor:function(e){Ext.apply(this,e)},doTpl:Ext.emptyFn,parse:function(e){var t,n,i,r,o,a,s,l,d,c,u,h,f=this,p=e.length,g={elseif:"elif"},m=f.topRe,x=f.actionsRe;for(f.level=0,f.stack=n=[],t=0;t<p;t=c){if(m.lastIndex=t,!(r=m.exec(e))){f.doText(e.substring(t,p));break}if(d=r.index,c=m.lastIndex,t<d&&f.doText(e.substring(t,d)),r[1])c=e.indexOf("%}",d+2),f.doEval(e.substring(d+2,c)),c+=2;else if(r[2])c=e.indexOf("]}",d+2),f.doExpr(e.substring(d+2,c)),c+=2;else if(r[3])f.doTag(r[3]);else if(r[4]){for(u=null;null!==(l=x.exec(r[4]));)(i=l[2]||l[3])&&(i=Ext.String.htmlDecode(i),"string"==typeof(a=(u=u||{})[o=g[o=l[1]]||o])?u[o]=[a,i]:a?u[o].push(i):u[o]=i);u?u.if?(f.doIf(u.if,u),n.push({type:"if"})):u.switch?(f.doSwitch(u.switch,u),n.push({type:"switch"})):u.case?f.doCase(u.case,u):u.elif?f.doElseIf(u.elif,u):u.for?(++f.level,(h=f.propRe.exec(r[4]))&&(u.propName=h[1]||h[2]),f.doFor(u.for,u),n.push({type:"for",actions:u})):u.foreach?(++f.level,(h=f.propRe.exec(r[4]))&&(u.propName=h[1]||h[2]),f.doForEach(u.foreach,u),n.push({type:"foreach",actions:u})):u.exec&&(f.doExec(u.exec,u),n.push({type:"exec",actions:u})):f.elseRe.test(r[4])?f.doElse():f.defaultRe.test(r[4])?f.doDefault():(f.doTpl(),n.push({type:"tpl"}))}else 5===r[0].length?n.push({type:"tpl"}):(s=n.pop(),f.doEnd(s.type,s.actions),"for"!=s.type&&"foreach"!=s.type||--f.level)}},topRe:/(?:(\{\%)|(\{\[)|\{([^{}]+)\})|(?:<tpl([^>]*)\>)|(?:<\/tpl>)/g,actionsRe:/\s*(elif|elseif|if|for|foreach|exec|switch|case|eval|between)\s*\=\s*(?:(?:"([^"]*)")|(?:'([^']*)'))\s*/g,propRe:/prop=(?:(?:"([^"]*)")|(?:'([^']*)'))/,defaultRe:/^\s*default\s*$/,elseRe:/^\s*else\s*$/}),Ext.define("Ext.XTemplateCompiler",{extend:Ext.XTemplateParser,useEval:Ext.isGecko,useIndex:Ext.isIE8m,useFormat:!0,propNameRe:/^[\w\d\$]*$/,compile:function(e){var t=this,n=t.generate(e);return t.useEval?t.evalTpl(n):new Function("Ext",n)(Ext)},generate:function(e){var t,n=this,i="var fm=Ext.util.Format,ts=Object.prototype.toString;";return n.maxLevel=0,n.body=["var c0=values, a0="+n.createArrayTest(0)+", p0=parent, n0=xcount, i0=xindex, k0, v;\n"],n.definitions?"string"==typeof n.definitions?n.definitions=[n.definitions,i]:n.definitions.push(i):n.definitions=[i],n.switches=[],n.parse(e),n.definitions.push((n.useEval?"$=":"return")+" function ("+n.fnArgs+") {",n.body.join(""),"}"),t=n.definitions.join("\n"),n.definitions.length=n.body.length=n.switches.length=0,delete n.definitions,delete n.body,delete n.switches,t},doText:function(e){var t=this,n=t.body;e=e.replace(t.aposRe,"\\'").replace(t.newLineRe,"\\n"),t.useIndex?n.push("out[out.length]='",e,"'\n"):n.push("out.push('",e,"')\n")},doExpr:function(e){var t=this.body;t.push("if ((v="+e+") != null) out"),this.useIndex?t.push("[out.length]=v+''\n"):t.push(".push(v+'')\n")},doTag:function(e){var t=this.parseTag(e);t?this.doExpr(t):this.doText("{"+e+"}")},doElse:function(){this.body.push("} else {\n")},doEval:function(e){this.body.push(e,"\n")},doIf:function(e,t){var n=this;"."===e?n.body.push("if (values) {\n"):n.propNameRe.test(e)?n.body.push("if (",n.parseTag(e),") {\n"):n.body.push("if (",n.addFn(e),n.callFn,") {\n"),t.exec&&n.doExec(t.exec)},doElseIf:function(e,t){var n=this;"."===e?n.body.push("else if (values) {\n"):n.propNameRe.test(e)?n.body.push("} else if (",n.parseTag(e),") {\n"):n.body.push("} else if (",n.addFn(e),n.callFn,") {\n"),t.exec&&n.doExec(t.exec)},doSwitch:function(e){var t=this;"."===e?t.body.push("switch (values) {\n"):t.propNameRe.test(e)?t.body.push("switch (",t.parseTag(e),") {\n"):t.body.push("switch (",t.addFn(e),t.callFn,") {\n"),t.switches.push(0)},doCase:function(e){var t,n,i=this,r=Ext.isArray(e)?e:[e],o=i.switches.length-1;for(i.switches[o]?i.body.push("break;\n"):i.switches[o]++,n=0,o=r.length;n<o;++n)t=i.intRe.exec(r[n]),r[n]=t?t[1]:"'"+r[n].replace(i.aposRe,"\\'")+"'";i.body.push("case ",r.join(": case "),":\n")},doDefault:function(){var e=this,t=e.switches.length-1;e.switches[t]?e.body.push("break;\n"):e.switches[t]++,e.body.push("default:\n")},doEnd:function(e,t){var n=this,i=n.level-1;"for"==e||"foreach"==e?(t.exec&&n.doExec(t.exec),n.body.push("}\n"),n.body.push("parent=p",i,";values=r",i+1,";xcount=n"+i+";xindex=i",i,"+1;xkey=k",i,";\n")):"if"!=e&&"switch"!=e||n.body.push("}\n")},doFor:function(e,t){var n,i,r=this,o=r.level,a=o-1;n="."===e?"values":r.propNameRe.test(e)?r.parseTag(e):r.addFn(e)+r.callFn,r.maxLevel<o&&(r.maxLevel=o,r.body.push("var ")),i="."==e?"c"+o:"a"+a+"?c"+a+"[i"+a+"]:c"+a,r.body.push("i",o,"=0,n",o,"=0,c",o,"=",n,",a",o,"=",r.createArrayTest(o),",r",o,"=values,p",o,",k",o,";\n","p",o,"=parent=",i,"\n","if (c",o,"){if(a",o,"){n",o,"=c",o,".length;}else if (c",o,".isMixedCollection){c",o,"=c",o,".items;n",o,"=c",o,".length;}else if(c",o,".isStore){c",o,"=c",o,".data.items;n",o,"=c",o,".length;}else{c",o,"=[c",o,"];n",o,"=1;}}\n","for (xcount=n",o,";i",o,"<n"+o+";++i",o,"){\n","values=c",o,"[i",o,"]"),t.propName&&r.body.push(".",t.propName),r.body.push("\n","xindex=i",o,"+1\n"),t.between&&r.body.push('if(xindex>1){ out.push("',t.between,'"); } \n')},doForEach:function(e,t){var n,i,r=this,o=r.level,a=o-1;n="."===e?"values":r.propNameRe.test(e)?r.parseTag(e):r.addFn(e)+r.callFn,r.maxLevel<o&&(r.maxLevel=o,r.body.push("var ")),i="."==e?"c"+o:"a"+a+"?c"+a+"[i"+a+"]:c"+a,r.body.push("i",o,"=-1,n",o,"=0,c",o,"=",n,",a",o,"=",r.createArrayTest(o),",r",o,"=values,p",o,",k",o,";\n","p",o,"=parent=",i,"\n","for(k",o," in c",o,"){\n","xindex=++i",o,"+1;\n","xkey=k",o,";\n","values=c",o,"[k",o,"];"),t.propName&&r.body.push(".",t.propName),t.between&&r.body.push('if(xindex>1){ out.push("',t.between,'"); } \n')},createArrayTest:"isArray"in Array?function(e){return"Array.isArray(c"+e+")"}:function(e){return"ts.call(c"+e+')==="[object Array]"'},doExec:function(e,t){var n=this,i="f"+n.definitions.length;n.definitions.push("function "+i+"("+n.fnArgs+") {"," try { with(values) {","  "+e," }} catch(e) {",'Ext.log("XTemplate Error: " + e.message);',"}","}"),n.body.push(i+n.callFn+"\n")},addFn:function(e){var t=this,n="f"+t.definitions.length;return"."===e?t.definitions.push("function "+n+"("+t.fnArgs+") {"," return values","}"):".."===e?t.definitions.push("function "+n+"("+t.fnArgs+") {"," return parent","}"):t.definitions.push("function "+n+"("+t.fnArgs+") {"," try { with(values) {","  return("+e+")"," }} catch(e) {",'Ext.log("XTemplate Error: " + e.message);',"}","}"),n},parseTag:function(e){var t,n,i,r,o,a=this,s=a.tagRe.exec(e);return s?(t=s[1],n=s[2],i=s[3],r=s[4],"."==t?(a.validTypes||(a.definitions.push("var validTypes={string:1,number:1,boolean:1};"),a.validTypes=!0),o='validTypes[typeof values] || ts.call(values) === "[object Date]" ? values : ""'):o="#"==t?"xindex":"$"==t?"xkey":"parent."==t.substr(0,7)?t:isNaN(t)&&-1==t.indexOf("-")&&-1!=t.indexOf(".")?"values."+t:"values['"+t+"']",r&&(o="("+o+r+")"),n&&a.useFormat?(i=i?","+i:"","this."!=n.substr(0,5)?n="fm."+n+"(":n+="(",n+o+i+")"):o):null},evalTpl:function($){return eval($),$},newLineRe:/\r\n|\r|\n/g,aposRe:/[']/g,intRe:/^\s*(\d+)\s*$/,tagRe:/^([\w-\.\#\$]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?(\s?[\+\-\*\/]\s?[\d\.\+\-\*\/\(\)]+)?$/},function(){var e=this.prototype;e.fnArgs="out,values,parent,xindex,xcount,xkey",e.callFn=".call(this,"+e.fnArgs+")"}),Ext.define("Ext.XTemplate",{extend:Ext.Template,emptyObj:{},apply:function(e,t){return this.applyOut(e,[],t).join("")},applyOut:function(e,t,n){var i,r=this;r.fn||(i=new Ext.XTemplateCompiler({useFormat:!0!==r.disableFormats,definitions:r.definitions}),r.fn=i.compile(r.html));try{r.fn(t,e,n||r.emptyObj,1,1)}catch(e){Ext.log("Error: "+e.message)}return t},compile:function(){return this},statics:{getTpl:function(e,t){var n,i=e[t];if(i&&!i.isTemplate){if(i=Ext.ClassManager.dynInstantiate("Ext.XTemplate",i),e.hasOwnProperty(t))n=e;else for(n=e.self.prototype;n&&!n.hasOwnProperty(t);n=n.superclass);n[t]=i,i.owner=n}return i||null}}}),Ext.ns("Ext.core"),Ext.dom.Query=Ext.core.DomQuery=Ext.DomQuery=function(){var DQ,doc=document,cache={},simpleCache={},valueCache={},useClassList=!!doc.documentElement.classList,useElementPointer=!!doc.documentElement.firstElementChild,useChildrenCollection=(d=doc.createElement("div"),d.innerHTML="\x3c!-- --\x3etext\x3c!-- --\x3e",d.children&&0===d.children.length),nonSpace=/\S/,trimRe=/^\s+|\s+$/g,tplRe=/\{(\d+)\}/g,modeRe=/^(\s?[\/>+~]\s?|\s|$)/,tagTokenRe=/^(#)?([\w\-\*\|\\]+)/,nthRe=/(\d*)n\+?(\d*)/,nthRe2=/\D/,startIdRe=/^\s*#/,isIE=!!window.ActiveXObject,key=30803,longHex=/\\([0-9a-fA-F]{6})/g,shortHex=/\\([0-9a-fA-F]{1,6})\s{0,1}/g,nonHex=/\\([^0-9a-fA-F]{1})/g,escapes=/\\/g,num,hasEscapes,supportsColonNsSeparator=(xmlString='<r><a:b xmlns:a="n"></a:b></r>',window.DOMParser?xmlDoc=(new DOMParser).parseFromString(xmlString,"application/xml"):(xmlDoc=new ActiveXObject("Microsoft.XMLDOM")).loadXML(xmlString),!!xmlDoc.getElementsByTagName("a:b").length),longHexToChar=function(e,t){return String.fromCharCode(parseInt(t,16))},shortToLongHex=function(e,t){for(;t.length<6;)t="0"+t;return"\\"+t},charToLongHex=function(e,t){return 1===(num=t.charCodeAt(0).toString(16)).length&&(num="0"+num),"\\0000"+num},unescapeCssSelector=function(e){return hasEscapes?e.replace(longHex,longHexToChar):e},setupEscapes=function(e){return(hasEscapes=e.indexOf("\\")>-1)&&(e=e.replace(shortHex,shortToLongHex).replace(nonHex,charToLongHex).replace(escapes,"\\\\")),e},xmlDoc,xmlString,d;function children(e){for(var t,n=e.firstChild,i=-1;n;)t=n.nextSibling,3!=n.nodeType||nonSpace.test(n.nodeValue)?n.nodeIndex=++i:e.removeChild(n),n=t;return this}function attrValue(e,t){return e.tagName||void 0===e.length||(e=e[0]),e?"for"==t?e.htmlFor:"class"==t||"className"==t?e.className:e.getAttribute(t)||e[t]:null}function getNodes(e,t,n){var i,r,o,a,s,l,d,c,u,h=[],f=-1;if(!e)return h;if(n=n.replace("|",":")||"*",void 0!==e.getElementsByTagName&&(e=[e]),t){if("/"==t||">"==t)for(d=n.toUpperCase(),r=0;o=e[r];r++)for(l=o.childNodes,a=0;u=l[a];a++)u.nodeName!=d&&u.nodeName!=n&&"*"!=n||(h[++f]=u);else if("+"==t)for(d=n.toUpperCase(),r=0;c=e[r];r++){for(;(c=c.nextSibling)&&1!=c.nodeType;);!c||c.nodeName!=d&&c.nodeName!=n&&"*"!=n||(h[++f]=c)}else if("~"==t)for(d=n.toUpperCase(),r=0;c=e[r];r++)for(;c=c.nextSibling;)c.nodeName!=d&&c.nodeName!=n&&"*"!=n||(h[++f]=c)}else if(n=unescapeCssSelector(n),!supportsColonNsSeparator&&DQ.isXml(e[0])&&-1!==n.indexOf(":"))for(r=0;o=e[r];r++)for(i=o.getElementsByTagName(n.split(":").pop()),a=0;s=i[a];a++)s.tagName===n&&(h[++f]=s);else for(r=0;o=e[r];r++)for(i=o.getElementsByTagName(n),a=0;s=i[a];a++)h[++f]=s;return h}function concat(e,t){return e.push.apply(e,t),e}function byTag(e,t){if((e.tagName||e===doc)&&(e=[e]),!t)return e;var n,i,r=[],o=-1;for(t=t.toLowerCase(),n=0;i=e[n];n++)1==i.nodeType&&i.tagName.toLowerCase()==t&&(r[++o]=i);return r}function byId(e,t){if(t=unescapeCssSelector(t),(e.tagName||e===doc)&&(e=[e]),!t)return e;var n,i,r=[],o=-1;for(n=0;i=e[n];n++)if(i&&i.id==t)return r[++o]=i,r;return r}function byAttribute(e,t,n,i,r){var o,a,s,l,d,c=[],u=-1,h="{"==r,f=DQ.operators[i];for(n=unescapeCssSelector(n),l=0;d=e[l];l++)1===d.nodeType&&(s||(a=DQ.isXml(d),s=!0),o=a?d.getAttribute(t):h?DQ.getStyle(d,t):"class"==t||"className"==t?d.className:"for"==t?d.htmlFor:"href"==t?d.getAttribute("href",2):d.getAttribute(t),(f&&f(o,n)||!f&&o)&&(c[++u]=d));return c}function byPseudo(e,t,n){return n=unescapeCssSelector(n),DQ.pseudos[t](e,n)}function nodupIEXml(e){var t,n,i,r,o=++key;for(e[0].setAttribute("_nodup",o),t=[e[0]],n=1,i=e.length;n<i;n++)!(r=e[n]).getAttribute("_nodup")!=o&&(r.setAttribute("_nodup",o),t[t.length]=r);for(n=0,i=e.length;n<i;n++)e[n].removeAttribute("_nodup");return t}function nodup(e){if(!e)return[];var t,n,i,r,o,a=e.length,s=e,l=-1;if(!a||void 0!==e.nodeType||1==a)return e;if(isIE&&void 0!==e[0].selectSingleNode)return nodupIEXml(e);for(r=++key,e[0]._nodup=r,n=1;t=e[n];n++){if(t._nodup==r){for(s=[],o=0;o<n;o++)s[++l]=e[o];for(o=n+1;i=e[o];o++)i._nodup!=r&&(i._nodup=r,s[++l]=i);return s}t._nodup=r}return s}function quickDiffIEXml(e,t){var n,i,r=++key,o=[];for(n=0,i=e.length;n<i;n++)e[n].setAttribute("_qdiff",r);for(n=0,i=t.length;n<i;n++)t[n].getAttribute("_qdiff")!=r&&(o[o.length]=t[n]);for(n=0,i=e.length;n<i;n++)e[n].removeAttribute("_qdiff");return o}function quickDiff(e,t){var n,i,r=e.length,o=++key,a=[];if(!r)return t;if(isIE&&void 0!==e[0].selectSingleNode)return quickDiffIEXml(e,t);for(n=0;n<r;n++)e[n]._qdiff=o;for(n=0,i=t.length;n<i;n++)t[n]._qdiff!=o&&(a[a.length]=t[n]);return a}function quickId(e,t,n,i){return e==n?(i=unescapeCssSelector(i),(n.ownerDocument||n).getElementById(i)):byId(e=getNodes(e,t,"*"),i)}return eval("var batch = 30803, child, next, prev, byClassName;"),child=useChildrenCollection?function(e,t){return e.children[t]}:function(e,t){for(var n=0,i=e.firstChild;i;){if(1==i.nodeType&&++n==t)return i;i=i.nextSibling}return null},next=useElementPointer?function(e){return e.nextElementSibling}:function(e){for(;(e=e.nextSibling)&&1!=e.nodeType;);return e},prev=useElementPointer?function(e){return e.previousElementSibling}:function(e){for(;(e=e.previousSibling)&&1!=e.nodeType;);return e},byClassName=useClassList?function(e,t){if(!(t=unescapeCssSelector(t)))return e;var n,i,r,o=[],a=-1;for(n=0;i=e[n];n++)(r=i.classList)?r.contains(t)&&(o[++a]=i):-1!==(" "+i.className+" ").indexOf(t)&&(o[++a]=i);return o}:function(e,t){if(!(t=unescapeCssSelector(t)))return e;var n,i,r=[],o=-1;for(n=0;i=e[n];n++)-1!==(" "+i.className+" ").indexOf(t)&&(r[++o]=i);return r},DQ={getStyle:function(e,t){return Ext.fly(e,"_DomQuery").getStyle(t)},compile:function(path,type){type=type||"select";var fn=["var f = function(root) {\n var mode; ++batch; var n = root || document;\n"],lastPath,matchers=DQ.matchers,matchersLn=matchers.length,modeMatch,lmode=path.match(modeRe),tokenMatch,matched,j,t,m;for(path=setupEscapes(path),lmode&&lmode[1]&&(fn[fn.length]='mode="'+lmode[1].replace(trimRe,"")+'";',path=path.replace(lmode[1],""));"/"==path.substr(0,1);)path=path.substr(1);for(;path&&lastPath!=path;){for(lastPath=path,tokenMatch=path.match(tagTokenRe),"select"==type?tokenMatch?("#"==tokenMatch[1]?fn[fn.length]='n = quickId(n, mode, root, "'+tokenMatch[2]+'");':fn[fn.length]='n = getNodes(n, mode, "'+tokenMatch[2]+'");',path=path.replace(tokenMatch[0],"")):"@"!=path.substr(0,1)&&(fn[fn.length]='n = getNodes(n, mode, "*");'):tokenMatch&&("#"==tokenMatch[1]?fn[fn.length]='n = byId(n, "'+tokenMatch[2]+'");':fn[fn.length]='n = byTag(n, "'+tokenMatch[2]+'");',path=path.replace(tokenMatch[0],""));!(modeMatch=path.match(modeRe));){for(matched=!1,j=0;j<matchersLn;j++)if(t=matchers[j],m=path.match(t.re),m){fn[fn.length]=t.select.replace(tplRe,function(e,t){return m[t]}),path=path.replace(m[0],""),matched=!0;break}matched||Ext.Error.raise({sourceClass:"Ext.DomQuery",sourceMethod:"compile",msg:'Error parsing selector. Parsing failed at "'+path+'"'})}modeMatch[1]&&(fn[fn.length]='mode="'+modeMatch[1].replace(trimRe,"")+'";',path=path.replace(modeMatch[1],""))}return fn[fn.length]="return nodup(n);\n}",eval(fn.join("")),f},jsSelect:function(e,t,n){"string"==typeof(t=t||doc)&&(t=doc.getElementById(t));var i,r,o,a,s=e.split(","),l=[];for(i=0,r=s.length;i<r;i++)o=s[i].replace(trimRe,""),cache[o]?setupEscapes(o):(cache[o]=DQ.compile(o,n),cache[o]||Ext.Error.raise({sourceClass:"Ext.DomQuery",sourceMethod:"jsSelect",msg:o+" is not a valid selector"})),(a=cache[o](t))&&a!==doc&&(l=l.concat(a));return s.length>1?nodup(l):l},isXml:function(e){var t=(e?e.ownerDocument||e:0).documentElement;return!!t&&"HTML"!==t.nodeName},select:doc.querySelectorAll?function(e,t,n,i){if(t=t||doc,!DQ.isXml(t))try{return t.parentNode&&9!==t.nodeType&&-1===e.indexOf(",")&&!startIdRe.test(e)&&(e="#"+Ext.escapeId(Ext.id(t))+" "+e,t=t.parentNode),i?[t.querySelector(e)]:Ext.Array.toArray(t.querySelectorAll(e))}catch(e){}return DQ.jsSelect.call(this,e,t,n)}:function(e,t,n){return DQ.jsSelect.call(this,e,t,n)},selectNode:function(e,t){return Ext.DomQuery.select(e,t,null,!0)[0]},selectValue:function(e,t,n){e=e.replace(trimRe,""),valueCache[e]?setupEscapes(e):valueCache[e]=DQ.compile(e,"select");var i,r=valueCache[e](t);return"function"==typeof(r=r[0]?r[0]:r).normalize&&r.normalize(),null==(i=r&&r.firstChild?r.firstChild.nodeValue:null)||""===i?n:i},selectNumber:function(e,t,n){var i=DQ.selectValue(e,t,n||0);return parseFloat(i)},is:function(e,t){"string"==typeof e&&(e=doc.getElementById(e));var n=Ext.isArray(e),i=DQ.filter(n?e:[e],t);return n?i.length==e.length:i.length>0},filter:function(e,t,n){t=t.replace(trimRe,""),simpleCache[t]?setupEscapes(t):simpleCache[t]=DQ.compile(t,"simple");var i=simpleCache[t](e);return n?quickDiff(i,e):i},matchers:[{re:/^\.([\w\-\\]+)/,select:useClassList?'n = byClassName(n, "{1}");':'n = byClassName(n, " {1} ");'},{re:/^\:([\w\-]+)(?:\(((?:[^\s>\/]*|.*?))\))?/,select:'n = byPseudo(n, "{1}", "{2}");'},{re:/^(?:([\[\{])(?:@)?([\w\-]+)\s?(?:(=|.=)\s?['"]?(.*?)["']?)?[\]\}])/,select:'n = byAttribute(n, "{2}", "{4}", "{3}", "{1}");'},{re:/^#([\w\-\\]+)/,select:'n = byId(n, "{1}");'},{re:/^@([\w\-\.]+)/,select:'return {firstChild:{nodeValue:attrValue(n, "{1}")}};'}],operators:{"=":function(e,t){return e==t},"!=":function(e,t){return e!=t},"^=":function(e,t){return e&&e.substr(0,t.length)==t},"$=":function(e,t){return e&&e.substr(e.length-t.length)==t},"*=":function(e,t){return e&&-1!==e.indexOf(t)},"%=":function(e,t){return e%t==0},"|=":function(e,t){return e&&(e==t||e.substr(0,t.length+1)==t+"-")},"~=":function(e,t){return e&&-1!=(" "+e+" ").indexOf(" "+t+" ")}},pseudos:{"first-child":function(e){var t,n,i,r=[],o=-1;for(n=0;i=t=e[n];n++){for(;(t=t.previousSibling)&&1!=t.nodeType;);t||(r[++o]=i)}return r},"last-child":function(e){var t,n,i,r=[],o=-1;for(n=0;i=t=e[n];n++){for(;(t=t.nextSibling)&&1!=t.nodeType;);t||(r[++o]=i)}return r},"nth-child":function(e,t){var n,i,r,o,a,s=[],l=-1,d=nthRe.exec(("even"==t?"2n":"odd"==t&&"2n+1")||!nthRe2.test(t)&&"n+"+t||t),c=(d[1]||1)-0,u=d[2]-0;for(n=0;i=e[n];n++){if(a=i.parentNode,batch!=a._batch){for(r=0,o=a.firstChild;o;o=o.nextSibling)1==o.nodeType&&(o.nodeIndex=++r);a._batch=batch}1==c?0!=u&&i.nodeIndex!=u||(s[++l]=i):(i.nodeIndex+u)%c==0&&(s[++l]=i)}return s},"only-child":function(e){var t,n,i=[],r=-1;for(t=0;n=e[t];t++)prev(n)||next(n)||(i[++r]=n);return i},empty:function(e){var t,n,i,r,o,a,s=[],l=-1;for(t=0;n=e[t];t++){for(i=n.childNodes,r=0,a=!0;o=i[r];)if(++r,1==o.nodeType||3==o.nodeType){a=!1;break}a&&(s[++l]=n)}return s},contains:function(e,t){var n,i,r=[],o=-1;for(n=0;i=e[n];n++)-1!=(i.textContent||i.innerText||i.text||"").indexOf(t)&&(r[++o]=i);return r},nodeValue:function(e,t){var n,i,r=[],o=-1;for(n=0;i=e[n];n++)i.firstChild&&i.firstChild.nodeValue==t&&(r[++o]=i);return r},checked:function(e){var t,n,i=[],r=-1;for(t=0;n=e[t];t++)1==n.checked&&(i[++r]=n);return i},not:function(e,t){return DQ.filter(e,t,!0)},any:function(e,t){var n,i,r,o,a=t.split("|"),s=[],l=-1;for(i=0;r=e[i];i++)for(o=0;n=a[o];o++)if(DQ.is(r,n)){s[++l]=r;break}return s},odd:function(e){return this["nth-child"](e,"odd")},even:function(e){return this["nth-child"](e,"even")},nth:function(e,t){return e[t-1]||[]},first:function(e){return e[0]||[]},last:function(e){return e[e.length-1]||[]},has:function(e,t){var n,i,r=DQ.select,o=[],a=-1;for(n=0;i=e[n];n++)r(t,i).length>0&&(o[++a]=i);return o},next:function(e,t){var n,i,r,o=DQ.is,a=[],s=-1;for(n=0;i=e[n];n++)(r=next(i))&&o(r,t)&&(a[++s]=i);return a},prev:function(e,t){var n,i,r,o=DQ.is,a=[],s=-1;for(n=0;i=e[n];n++)(r=prev(i))&&o(r,t)&&(a[++s]=i);return a},focusable:function(e){for(var t,n=e.length,i=[],r=0;r<n;r++)t=e[r],Ext.fly(t,"_DomQuery").isFocusable()&&i.push(t);return i},visible:function(e,t){for(var n,i=e.length,r=[],o=0;o<i;o++)n=e[o],Ext.fly(n,"_DomQuery").isVisible(t)&&r.push(n);return r}}}}(),Ext.query=Ext.DomQuery.select,Ext.define("Ext.dom.Element_anim",{override:"Ext.dom.Element",animate:function(e){var t,n,i=this,r=i.dom.id||Ext.id(i.dom);return Ext.fx.Manager.hasFxBlock(r)||(e.listeners&&(t=e.listeners,delete e.listeners),e.internalListeners&&(e.listeners=e.internalListeners,delete e.internalListeners),n=new Ext.fx.Anim(i.anim(e)),t&&n.on(t),Ext.fx.Manager.queueFx(n)),i},anim:function(e){if(!Ext.isObject(e))return!!e&&{};var t,n=this,i=e.duration||Ext.fx.Anim.prototype.duration,r=e.easing||"ease";return e.stopAnimation&&n.stopAnimation(),Ext.applyIf(e,Ext.fx.Manager.getFxDefaults(n.id)),Ext.fx.Manager.setFxDefaults(n.id,{delay:0}),t={target:n.dom,remove:e.remove,alternate:e.alternate||!1,duration:i,easing:r,callback:e.callback,listeners:e.listeners,iterations:e.iterations||1,scope:e.scope,block:e.block,concurrent:e.concurrent,delay:e.delay||0,paused:!0,keyframes:e.keyframes,from:e.from||{},to:Ext.apply({},e)},Ext.apply(t.to,e.to),delete t.to.to,delete t.to.from,delete t.to.remove,delete t.to.alternate,delete t.to.keyframes,delete t.to.iterations,delete t.to.listeners,delete t.to.target,delete t.to.paused,delete t.to.callback,delete t.to.scope,delete t.to.duration,delete t.to.easing,delete t.to.concurrent,delete t.to.block,delete t.to.stopAnimation,delete t.to.delay,t},slideIn:function(e,t,n){var i,r,o,a,s=this,l=s.dom,d=l.style;return e=e||"t",t=t||{},i=function(){var i,c,u,h,f=this,p=t.listeners,g=Ext.fly(l,"_anim");switch(n||g.fixDisplay(),i=g.getBox(),"t"!=e&&"b"!=e||0!==i.height?"l"!=e&&"r"!=e||0!==i.width||(i.width=l.scrollWidth):i.height=l.scrollHeight,c=g.getStyles("width","height","left","right","top","bottom","position","z-index",!0),g.setSize(i.width,i.height),t.preserveScroll&&(o=g.cacheScrollValues()),h=g.wrap({id:Ext.id()+"-anim-wrap-for-"+g.dom.id,style:{visibility:n?"visible":"hidden"}}),a=h.dom.parentNode,h.setPositioning(g.getPositioning(!0)),h.isStyle("position","static")&&h.position("relative"),g.clearPositioning("auto"),h.clip(),o&&o(),g.setStyle({visibility:"",position:"absolute"}),n&&h.setSize(i.width,i.height),e){case"t":u={from:{width:i.width+"px",height:"0px"},to:{width:i.width+"px",height:i.height+"px"}},d.bottom="0px";break;case"l":u={from:{width:"0px",height:i.height+"px"},to:{width:i.width+"px",height:i.height+"px"}},s.anchorAnimX(e);break;case"r":u={from:{x:i.x+i.width,width:"0px",height:i.height+"px"},to:{x:i.x,width:i.width+"px",height:i.height+"px"}},s.anchorAnimX(e);break;case"b":u={from:{y:i.y+i.height,width:i.width+"px",height:"0px"},to:{y:i.y,width:i.width+"px",height:i.height+"px"}};break;case"tl":u={from:{x:i.x,y:i.y,width:"0px",height:"0px"},to:{width:i.width+"px",height:i.height+"px"}},d.bottom="0px",s.anchorAnimX("l");break;case"bl":u={from:{y:i.y+i.height,width:"0px",height:"0px"},to:{y:i.y,width:i.width+"px",height:i.height+"px"}},s.anchorAnimX("l");break;case"br":u={from:{x:i.x+i.width,y:i.y+i.height,width:"0px",height:"0px"},to:{x:i.x,y:i.y,width:i.width+"px",height:i.height+"px"}},s.anchorAnimX("r");break;case"tr":u={from:{x:i.x+i.width,width:"0px",height:"0px"},to:{x:i.x,width:i.width+"px",height:i.height+"px"}},d.bottom="0px",s.anchorAnimX("r")}h.show(),delete(r=Ext.apply({},t)).listeners,(r=new Ext.fx.Anim(Ext.applyIf(r,{target:h,duration:500,easing:"ease-out",from:n?u.to:u.from,to:n?u.from:u.to}))).on("afteranimate",function(){var e=Ext.fly(l,"_anim");e.setStyle(c),n&&(t.useDisplay?e.setDisplayed(!1):e.hide()),h.dom&&(h.dom.parentNode?h.dom.parentNode.insertBefore(e.dom,h.dom):a.appendChild(e.dom),h.remove()),o&&o(),f.end()}),p&&r.on(p)},s.animate({duration:t.duration?2*Math.max(t.duration,500):1e3,listeners:{beforeanimate:i}}),s},slideOut:function(e,t){return this.slideIn(e,t,!0)},puff:function(e){var t,n=this,i=n.dom,r=n.getBox(),o=n.getStyles("width","height","left","right","top","bottom","position","z-index","font-size","opacity",!0);return e=Ext.applyIf(e||{},{easing:"ease-out",duration:500,useDisplay:!1}),t=function(){var t=Ext.fly(i,"_anim");t.clearOpacity(),t.show(),this.to={width:2*r.width,height:2*r.height,x:r.x-r.width/2,y:r.y-r.height/2,opacity:0,fontSize:"200%"},this.on("afteranimate",function(){var t=Ext.fly(i,"_anim");t&&(e.useDisplay?t.setDisplayed(!1):t.hide(),t.setStyle(o),Ext.callback(e.callback,e.scope))})},n.animate({duration:e.duration,easing:e.easing,listeners:{beforeanimate:{fn:t}}}),n},switchOff:function(e){var t,n=this,i=n.dom;return e=Ext.applyIf(e||{},{easing:"ease-in",duration:500,remove:!1,useDisplay:!1}),t=function(){var t,n=Ext.fly(i,"_anim"),r=this,o=n.getSize(),a=n.getXY();n.clearOpacity(),n.clip(),t=n.getPositioning(),new Ext.fx.Animator({target:i,duration:e.duration,easing:e.easing,keyframes:{33:{opacity:.3},66:{height:1,y:a[1]+o.height/2},100:{width:1,x:a[0]+o.width/2}}}).on("afteranimate",function(){var n=Ext.fly(i,"_anim");e.useDisplay?n.setDisplayed(!1):n.hide(),n.clearOpacity(),n.setPositioning(t),n.setSize(o),r.end()})},n.animate({duration:2*Math.max(e.duration,500),listeners:{beforeanimate:{fn:t}}}),n},frame:function(e,t,n){var i,r=this,o=r.dom;return e=e||"#C3DAF9",t=t||1,n=n||{},i=function(){var i,r,a=Ext.fly(o,"_anim"),s=this;a.show(),i=a.getBox(),r=Ext.getBody().createChild({id:a.dom.id+"-anim-proxy",style:{position:"absolute","pointer-events":"none","z-index":35e3,border:"0px solid "+e}}),new Ext.fx.Anim({target:r,duration:n.duration||1e3,iterations:t,from:{top:i.y,left:i.x,borderWidth:0,opacity:1,height:i.height,width:i.width},to:{top:i.y-20,left:i.x-20,borderWidth:10,opacity:0,height:i.height+40,width:i.width+40}}).on("afteranimate",function(){r.remove(),s.end()})},r.animate({duration:2*Math.max(n.duration,500)||2e3,listeners:{beforeanimate:{fn:i}}}),r},ghost:function(e,t){var n,i=this,r=i.dom;return e=e||"b",n=function(){var t=Ext.fly(r,"_anim"),n=t.getWidth(),i=t.getHeight(),o=t.getXY(),a=t.getPositioning(),s={opacity:0};switch(e){case"t":s.y=o[1]-i;break;case"l":s.x=o[0]-n;break;case"r":s.x=o[0]+n;break;case"b":s.y=o[1]+i;break;case"tl":s.x=o[0]-n,s.y=o[1]-i;break;case"bl":s.x=o[0]-n,s.y=o[1]+i;break;case"br":s.x=o[0]+n,s.y=o[1]+i;break;case"tr":s.x=o[0]+n,s.y=o[1]-i}this.to=s,this.on("afteranimate",function(){var e=Ext.fly(r,"_anim");e&&(e.hide(),e.clearOpacity(),e.setPositioning(a))})},i.animate(Ext.applyIf(t||{},{duration:500,easing:"ease-out",listeners:{beforeanimate:n}})),i},highlight:function(e,t){var n,i,r,o,a,s=this,l=s.dom,d={};return l.tagName.match(s.tableTagRe)?s.select("div").highlight(e,t):(o=(t=t||{}).listeners||{},d[r=t.attr||"backgroundColor"]=e||"ffff9c",t.to?i=t.to:(i={})[r]=t.endColor||s.getColor(r,"ffffff",""),t.listeners=Ext.apply(Ext.apply({},o),{beforeanimate:function(){n=l.style[r];var e=Ext.fly(l,"_anim");if(e.clearOpacity(),e.show(),a=o.beforeanimate)return(a.fn||a).apply(a.scope||o.scope||window,arguments)},afteranimate:function(){l&&(l.style[r]=n),(a=o.afteranimate)&&(a.fn||a).apply(a.scope||o.scope||window,arguments)}}),s.animate(Ext.apply({},t,{duration:1e3,easing:"ease-in",from:d,to:i})),s)},pause:function(e){return Ext.fx.Manager.setFxDefaults(this.id,{delay:e}),this},fadeIn:function(e){var t=this.dom;return this.animate(Ext.apply({},e,{opacity:1,internalListeners:{beforeanimate:function(e){var n=Ext.fly(t,"_anim");n.isStyle("display","none")?n.setDisplayed(""):n.show()}}})),this},fadeOut:function(e){var t=this,n=t.dom;return e=Ext.apply({opacity:0,internalListeners:{afteranimate:function(t){if(n&&0===t.to.opacity){var i=Ext.fly(n,"_anim");e.useDisplay?i.setDisplayed(!1):i.hide()}}}},e),t.animate(e),t},scale:function(e,t,n){return this.animate(Ext.apply({},n,{width:e,height:t})),this},shift:function(e){return this.animate(e),this},anchorAnimX:function(e){var t="l"===e?"right":"left";this.dom.style[t]="0px"}}),Ext.define("Ext.dom.Element_dd",{override:"Ext.dom.Element",initDD:function(e,t,n){var i=new Ext.dd.DD(Ext.id(this.dom),e,t);return Ext.apply(i,n)},initDDProxy:function(e,t,n){var i=new Ext.dd.DDProxy(Ext.id(this.dom),e,t);return Ext.apply(i,n)},initDDTarget:function(e,t,n){var i=new Ext.dd.DDTarget(Ext.id(this.dom),e,t);return Ext.apply(i,n)}}),Ext.define("Ext.dom.Element_fx",{override:"Ext.dom.Element"},function(){var e=Ext.dom.Element,t="visibility",n="display",i="none",r="hidden",o="originalDisplay",a="visibilityMode",s=Ext.baseCSSPrefix+"hide-offsets",l=function(e){var t=(e.$cache||e.getCache()).data,n=t[o];return void 0===n&&(t[o]=n=""),n},d=function(t){var n=(t.$cache||t.getCache()).data,i=n[a];return void 0===i&&(n[a]=i=e.VISIBILITY),i};e.override({originalDisplay:"",visibilityMode:1,setVisible:function(i,o){var a=this,l=a.dom,c=d(a);if("string"==typeof o){switch(o){case n:c=e.DISPLAY;break;case t:c=e.VISIBILITY;break;case"offsets":c=e.OFFSETS;break;case"nosize":case"asclass":c=e.ASCLASS}a.setVisibilityMode(c),o=!1}if(o&&a.anim)i&&(a.setOpacity(.01),a.setVisible(!0)),Ext.isObject(o)||(o={duration:350,easing:"ease-in"}),a.animate(Ext.applyIf({callback:function(){i||Ext.fly(l,"_internal").setVisible(!1).setOpacity(1)},to:{opacity:i?1:0}},o));else{if(c==e.DISPLAY)return a.setDisplayed(i);c==e.OFFSETS?a[i?"removeCls":"addCls"](s):c==e.VISIBILITY?(a.fixDisplay(),l.style.visibility=i?"":r):c==e.ASCLASS&&a[i?"removeCls":"addCls"](a.visibilityCls||e.visibilityCls)}return(a.$cache||a.getCache()).data.isVisible=i,a},hasMetrics:function(){var t=d(this);return this.isVisible()||t==e.OFFSETS||t==e.VISIBILITY},toggle:function(e){var t=this;return t.setVisible(!t.isVisible(),t.anim(e)),t},setDisplayed:function(e){return"boolean"==typeof e&&(e=e?l(this):i),this.setStyle(n,e),this},fixDisplay:function(){var e=this;e.isStyle(n,i)&&(e.setStyle(t,r),e.setStyle(n,l(e)),e.isStyle(n,i)&&e.setStyle(n,"block"))},hide:function(e){return"string"==typeof e?(this.setVisible(!1,e),this):(this.setVisible(!1,this.anim(e)),this)},show:function(e){return"string"==typeof e?(this.setVisible(!0,e),this):(this.setVisible(!0,this.anim(e)),this)}})}),Ext.define("Ext.dom.Element_position",{override:"Ext.dom.Element"},function(){var e,t=this,n="position",i="static",r="padding",o="border",a="-left",s="-right",l="-top",d="-bottom",c="-width",u={l:o+a+c,r:o+s+c,t:o+l+c,b:o+d+c},h={l:r+a,r:r+s,t:r+l,b:r+d},f=[h.l,h.r,h.t,h.b],p=[u.l,u.r,u.t,u.b],g=Math.round,m=document;t.override({pxRe:/^\d+(?:\.\d*)?px$/i,inheritableStatics:{getX:function(e){return t.getXY(e)[0]},getXY:function(t){var n,i,r=m.body,o=m.documentElement,a=0,s=0,l=[0,0];if((t=Ext.getDom(t))!=m&&t!=r){if(Ext.isIE)try{n=t.getBoundingClientRect(),s=o.clientTop||r.clientTop,a=o.clientLeft||r.clientLeft}catch(e){n={left:0,top:0}}else n=t.getBoundingClientRect();i=function(t){return e||(e=new Ext.Element.Fly),e.attach(t),e}(m).getScroll(),l=[g(n.left+i.left-a),g(n.top+i.top-s)]}return l},getY:function(e){return t.getXY(e)[1]},setX:function(e,n){t.setXY(e,[n,!1])},setXY:function(e,t){(e=Ext.fly(e,"_setXY")).position();var n,i=e.translatePoints(t),r=e.dom.style;for(n in r.right="auto",i)isNaN(i[n])||(r[n]=i[n]+"px")},setY:function(e,n){t.setXY(e,[!1,n])}},center:function(e){return this.alignTo(e||m,"c-c")},clearPositioning:function(e){return e=e||"",this.setStyle({left:e,right:e,top:e,bottom:e,"z-index":"",position:i})},getAnchorToXY:function(e,t,n,i){return e.getAnchorXY(t,n,i)},getBottom:function(e){return(e?this.getLocalY():this.getY())+this.getHeight()},getBorderPadding:function(){var e=this.getStyle(f),t=this.getStyle(p);return{beforeX:(parseFloat(t[u.l])||0)+(parseFloat(e[h.l])||0),afterX:(parseFloat(t[u.r])||0)+(parseFloat(e[h.r])||0),beforeY:(parseFloat(t[u.t])||0)+(parseFloat(e[h.t])||0),afterY:(parseFloat(t[u.b])||0)+(parseFloat(e[h.b])||0)}},getCenterXY:function(){return this.getAlignToXY(m,"c-c")},getLeft:function(e){return e?this.getLocalX():this.getX()},getLocalX:function(){var e=this,n=e.dom.offsetParent,i=e.getStyle("left");return i&&"auto"!==i?e.pxRe.test(i)?i=parseFloat(i):(i=e.getX(),n&&(i-=t.getX(n))):i=0,i},getLocalXY:function(){var e=this,n=e.dom.offsetParent,i=e.getStyle(["left","top"]),r=i.left,o=i.top;return r&&"auto"!==r?e.pxRe.test(r)?r=parseFloat(r):(r=e.getX(),n&&(r-=t.getX(n))):r=0,o&&"auto"!==o?e.pxRe.test(o)?o=parseFloat(o):(o=e.getY(),n&&(o-=t.getY(n))):o=0,[r,o]},getLocalY:function(){var e=this,n=e.dom.offsetParent,i=e.getStyle("top");return i&&"auto"!==i?e.pxRe.test(i)?i=parseFloat(i):(i=e.getY(),n&&(i-=t.getY(n))):i=0,i},getPageBox:function(e){var t=this.dom,n="BODY"==t.nodeName,i=n?Ext.Element.getViewWidth():t.offsetWidth,r=n?Ext.Element.getViewHeight():t.offsetHeight,o=this.getXY(),a=o[1],s=o[0]+i,l=o[1]+r,d=o[0];return e?new Ext.util.Region(a,s,l,d):{left:d,top:a,width:i,height:r,right:s,bottom:l}},getPositioning:function(e){var t=this.getStyle(["left","top","position","z-index"]),n=this.dom;return e&&("auto"===t.left&&(t.left=n.offsetLeft+"px"),"auto"===t.top&&(t.top=n.offsetTop+"px")),t},getRight:function(e){return(e?this.getLocalX():this.getX())+this.getWidth()},getTop:function(e){return e?this.getLocalY():this.getY()},getX:function(){return t.getX(this.dom)},getXY:function(){return t.getXY(this.dom)},getY:function(){return t.getY(this.dom)},moveTo:function(e,t,n){return this.setXY([e,t],n)},position:function(e,t,r,o){var a=this;!e&&a.isStyle(n,i)?a.setStyle(n,"relative"):e&&a.setStyle(n,e),t&&a.setStyle("z-index",t),(r||o)&&a.setXY([r||!1,o||!1])},setBottom:function(e){return this.dom.style.bottom=this.addUnits(e),this},setBounds:function(e,t,n,i,r){return this.setBox({x:e,y:t,width:n,height:i},r)},setLeft:function(e){return this.dom.style.left=this.addUnits(e),this},setLeftTop:function(e,t){var n=this,i=n.dom.style;return i.left=n.addUnits(e),i.top=n.addUnits(t),n},setLocalX:function(e){var t=this.dom.style;t.right="auto",t.left=null===e?"auto":e+"px"},setLocalXY:function(e,t){var n=this.dom.style;n.right="auto",e&&e.length&&(t=e[1],e=e[0]),null===e?n.left="auto":void 0!==e&&(n.left=e+"px"),null===t?n.top="auto":void 0!==t&&(n.top=t+"px")},setLocalY:function(e){this.dom.style.top=null===e?"auto":e+"px"},setLocation:function(e,t,n){return this.setXY([e,t],n)},setPositioning:function(e){return this.setStyle(e)},setRight:function(e){return this.dom.style.right=this.addUnits(e),this},setTop:function(e){return this.dom.style.top=this.addUnits(e),this},setX:function(e,t){return this.setXY([e,this.getY()],t)},setXY:function(e,n){var i=this;return n&&i.anim?(Ext.isObject(n)||(n={}),i.animate(Ext.applyIf({to:{x:e[0],y:e[1]}},n))):t.setXY(i.dom,e),this},setY:function(e,t){return this.setXY([this.getX(),e],t)}}),t.getTrueXY=t.getXY}),Ext.define("Ext.dom.Element_scroll",{override:"Ext.dom.Element",isScrollable:function(){var e=this.dom;return e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth},getScroll:function(){var e,t,n=this.dom,i=document,r=i.body,o=i.documentElement;return n===i||n===r?(e=o.scrollLeft||(r?r.scrollLeft:0),t=o.scrollTop||(r?r.scrollTop:0)):(e=n.scrollLeft,t=n.scrollTop),{left:e,top:t}},getScrollLeft:function(){var e=this.dom,t=document;return e===t||e===t.body?this.getScroll().left:e.scrollLeft},getScrollTop:function(){var e=this.dom,t=document;return e===t||e===t.body?this.getScroll().top:e.scrollTop},setScrollLeft:function(e){return this.dom.scrollLeft=this.normalizeScrollLeft(e),this},normalizeScrollLeft:Ext.identityFn,setScrollTop:function(e){return this.dom.scrollTop=e,this},scrollBy:function(e,t,n){var i=this,r=i.dom;return e.length?(n=t,t=e[1],e=e[0]):"number"!=typeof e&&(n=t,t=e.y,e=e.x),e&&i.scrollTo("left",Math.max(Math.min(i.getScrollLeft()+e,r.scrollWidth-r.clientWidth),0),n),t&&i.scrollTo("top",Math.max(Math.min(r.scrollTop+t,r.scrollHeight-r.clientHeight),0),n),i},scrollTo:function(e,t,n){var i,r=/top/i.test(e),o="scroll"+(r?"Top":"Left"),a=this,s=a.dom;return r||(t=a.normalizeScrollLeft(t)),n&&a.anim?((i={to:{}}).to[o]=t,Ext.isObject(n)&&Ext.applyIf(i,n),a.animate(i)):(s[o]=t,s[o]=t),a},scrollIntoView:function(e,t,n){var i,r=this,o=r.dom,a=r.getOffsetsTo(e=Ext.getDom(e)||Ext.getBody().dom),s=a[0]+e.scrollLeft,l=a[1]+e.scrollTop,d=l+o.offsetHeight,c=s+o.offsetWidth,u=e.clientHeight,h=parseInt(e.scrollTop,10),f=parseInt(e.scrollLeft,10),p=h+u,g=f+e.clientWidth;return n&&(n=Ext.apply({listeners:{afteranimate:function(){r.scrollChildFly.attach(o).highlight()}}},n)),o.offsetHeight>u||l<h?i=l:d>p&&(i=d-u),null!=i&&r.scrollChildFly.attach(e).scrollTo("top",i,n),!1!==t&&(i=null,o.offsetWidth>e.clientWidth||s<f?i=s:c>g&&(i=c-e.clientWidth),null!=i&&r.scrollChildFly.attach(e).scrollTo("left",i,n)),r},scrollChildIntoView:function(e,t){this.scrollChildFly.attach(Ext.getDom(e)).scrollIntoView(this,t)},scroll:function(e,t,n){if(!this.isScrollable())return!1;var i,r=this.dom,o=r.scrollLeft,a=r.scrollTop,s=r.scrollWidth,l=r.scrollHeight,d=r.clientWidth,c=r.clientHeight,u=!1,h={l:Math.min(o+t,s-d),r:Math.max(o-t,0),t:Math.max(a-t,0),b:Math.min(a+t,l-c)};return h.d=h.b,h.u=h.t,(i=h[e=e.substr(0,1)])>-1&&(u=!0,this.scrollTo("l"==e||"r"==e?"left":"top",i,this.anim(n))),u}},function(){this.prototype.scrollChildFly=new this.Fly,this.prototype.scrolltoFly=new this.Fly}),Ext.define("Ext.dom.Element_style",{override:"Ext.dom.Element"},function(){var e,t,n,i,r,o,a,s=this,l=document.defaultView,d=/table-row|table-.*-group/,c="_internal",u="hidden",h="height",f="width",p="isClipped",g="overflow",m="overflow-x",x="overflow-y",y="originalClip",E=/#document|body/i;if(l&&l.getComputedStyle||(s.prototype.getStyle=function(e,t){var n,i,r,o,a,l,d,c=this,u=c.dom,h="string"!=typeof e,f=c.styleHooks,p=e,g=p,m=1,x=t;if(h&&(r={},p=g[0],d=0,!(m=g.length)))return r;if(!u||u.documentElement)return r||"";i=u.style,t?l=i:(l=u.currentStyle)||(x=!0,l=i);do{if((o=f[p])||(f[p]=o={name:s.normalize(p)}),o.get)a=o.get(u,c,x,l);else if(n=o.name,o.canThrow)try{a=l[n]}catch(e){a=""}else a=l?l[n]:"";if(!h)return a;r[p]=a,p=g[++d]}while(d<m);return r}),s.override({getHeight:function(e,t){var n,i,r=this;return r.isStyle("display","none")?0:(n=r.dom.offsetHeight,Ext.supports.Direct2DBug&&(i=r.adjustDirect2DDimension(h),t?n+=i:i>0&&i<.5&&n++),e&&(n-=r.getBorderWidth("tb")+r.getPadding("tb")),n<0?0:n)},getWidth:function(e,t){var n,i,r,o=this,a=o.dom;return o.isStyle("display","none")?0:(t&&Ext.supports.BoundingClientRect?(n=a.getBoundingClientRect(),i=!o.vertical||Ext.isIE9||Ext.supports.RotatedBoundingClientRect?n.right-n.left:n.bottom-n.top):i=a.offsetWidth,Ext.supports.Direct2DBug&&!o.vertical&&(r=o.adjustDirect2DDimension(f),t?i+=r:r>0&&r<.5&&i++),e&&(i-=o.getBorderWidth("lr")+o.getPadding("lr")),i<0?0:i)},setWidth:function(e,t){var n=this;return e=n.adjustWidth(e),t&&n.anim?(Ext.isObject(t)||(t={}),n.animate(Ext.applyIf({to:{width:e}},t))):n.dom.style.width=n.addUnits(e),n},setHeight:function(e,t){var n=this;return e=n.adjustHeight(e),t&&n.anim?(Ext.isObject(t)||(t={}),n.animate(Ext.applyIf({to:{height:e}},t))):n.dom.style.height=n.addUnits(e),n},applyStyles:function(e){return Ext.DomHelper.applyStyles(this.dom,e),this},setSize:function(e,t,n){var i=this;return Ext.isObject(e)&&(n=t,t=e.height,e=e.width),e=i.adjustWidth(e),t=i.adjustHeight(t),n&&i.anim?(!0===n&&(n={}),i.animate(Ext.applyIf({to:{width:e,height:t}},n))):(i.dom.style.width=i.addUnits(e),i.dom.style.height=i.addUnits(t)),i},getViewSize:function(){var e=this.dom;return E.test(e.nodeName)?{width:s.getViewWidth(),height:s.getViewHeight()}:{width:e.clientWidth,height:e.clientHeight}},getSize:function(e){return{width:this.getWidth(e),height:this.getHeight(e)}},adjustWidth:function(e){var t=this,n="number"==typeof e;return n&&t.autoBoxAdjust&&!t.isBorderBox()&&(e-=t.getBorderWidth("lr")+t.getPadding("lr")),n&&e<0?0:e},adjustHeight:function(e){var t=this,n="number"==typeof e;return n&&t.autoBoxAdjust&&!t.isBorderBox()&&(e-=t.getBorderWidth("tb")+t.getPadding("tb")),n&&e<0?0:e},getColor:function(e,t,n){var i,r,o=this.getStyle(e),a=n||""===n?n:"#",s=0;if(!o||/transparent|inherit/.test(o))return t;if(/^r/.test(o))for(r=(o=o.slice(4,o.length-1).split(",")).length;s<r;s++)a+=((i=parseInt(o[s],10))<16?"0":"")+i.toString(16);else a+=3==(o=o.replace("#","")).length?o.replace(/^(\w)(\w)(\w)$/,"$1$1$2$2$3$3"):o;return a.length>5?a.toLowerCase():t},setOpacity:function(e,t){var n=this;return n.dom?(t&&n.anim?("object"!=typeof t&&(t={duration:350,easing:"ease-in"}),n.animate(Ext.applyIf({to:{opacity:e}},t))):n.setStyle("opacity",e),n):n},clearOpacity:function(){return this.setOpacity("")},adjustDirect2DDimension:function(e){var t,n=this.dom,i=this.getStyle("display"),r=n.style.display,o=n.style.position,a=e===f?0:1,s=n.currentStyle;return"inline"===i&&(n.style.display="inline-block"),n.style.position=i.match(d)?"absolute":"static",t=(parseFloat(s[e])||2*parseFloat(s.msTransformOrigin.split(" ")[a]))%1,n.style.position=o,"inline"===i&&(n.style.display=r),t},clip:function(){var e,t=this,n=(t.$cache||t.getCache()).data;return n[p]||(n[p]=!0,e=t.getStyle([g,m,x]),n[y]={o:e[g],x:e[m],y:e[x]},t.setStyle(g,u),t.setStyle(m,u),t.setStyle(x,u)),t},unclip:function(){var e,t=this,n=(t.$cache||t.getCache()).data;return n[p]&&(n[p]=!1,(e=n[y]).o&&t.setStyle(g,e.o),e.x&&t.setStyle(m,e.x),e.y&&t.setStyle(x,e.y)),t},boxWrap:function(e){e=e||Ext.baseCSSPrefix+"box";var t=Ext.get(this.insertHtml("beforeBegin","<div class='"+e+"'>"+Ext.String.format(s.boxMarkup,e)+"</div>"));return Ext.DomQuery.selectNode("."+e+"-mc",t.dom).appendChild(this.dom),t},getComputedHeight:function(){var e=this,t=Math.max(e.dom.offsetHeight,e.dom.clientHeight);return t||(t=parseFloat(e.getStyle(h))||0,e.isBorderBox()||(t+=e.getFrameWidth("tb"))),t},getComputedWidth:function(){var e=this,t=Math.max(e.dom.offsetWidth,e.dom.clientWidth);return t||(t=parseFloat(e.getStyle(f))||0,e.isBorderBox()||(t+=e.getFrameWidth("lr"))),t},getFrameWidth:function(e,t){return t&&this.isBorderBox()?0:this.getPadding(e)+this.getBorderWidth(e)},addClsOnOver:function(e,t,n){var i=this,r=i.dom,o=Ext.isFunction(t);return i.hover(function(){o&&!1===t.call(n||i,i)||Ext.fly(r,c).addCls(e)},function(){Ext.fly(r,c).removeCls(e)}),i},addClsOnFocus:function(e,t,n){var i=this,r=i.dom,o=Ext.isFunction(t);return i.on("focus",function(){if(o&&!1===t.call(n||i,i))return!1;Ext.fly(r,c).addCls(e)}),i.on("blur",function(){Ext.fly(r,c).removeCls(e)}),i},addClsOnClick:function(e,t,n){var i=this,r=i.dom,o=Ext.isFunction(t);return i.on("mousedown",function(){if(o&&!1===t.call(n||i,i))return!1;Ext.fly(r,c).addCls(e);var a=Ext.getDoc(),s=function(){Ext.fly(r,c).removeCls(e),a.removeListener("mouseup",s)};a.on("mouseup",s)}),i},getStyleSize:function(){var e,t,n,i=this,r=this.dom;return E.test(r.nodeName)?{width:s.getViewWidth(),height:s.getViewHeight()}:((e=i.getStyle([h,f],!0)).width&&"auto"!=e.width&&(t=parseFloat(e.width),i.isBorderBox()&&(t-=i.getFrameWidth("lr"))),e.height&&"auto"!=e.height&&(n=parseFloat(e.height),i.isBorderBox()&&(n-=i.getFrameWidth("tb"))),{width:t||i.getWidth(!0),height:n||i.getHeight(!0)})},statics:{selectableCls:Ext.baseCSSPrefix+"selectable",unselectableCls:Ext.baseCSSPrefix+"unselectable"},selectable:function(){var e=this;return e.dom.unselectable="",e.removeCls(s.unselectableCls),e.addCls(s.selectableCls),e},unselectable:function(){var e=this;return Ext.isOpera&&(e.dom.unselectable="on"),e.removeCls(s.selectableCls),e.addCls(s.unselectableCls),e},setVertical:function(e,t){var n=this,i=s.prototype;n.vertical=!0,t&&n.addCls(n.verticalCls=t),n.setWidth=i.setHeight,n.setHeight=i.setWidth,Ext.isIE9m||(n.getWidth=i.getHeight,n.getHeight=i.getWidth),n.styleHooks=270===e?s.prototype.verticalStyleHooks270:s.prototype.verticalStyleHooks90},setHorizontal:function(){var e=this,t=e.verticalCls;delete e.vertical,t&&(delete e.verticalCls,e.removeCls(t)),delete e.setWidth,delete e.setHeight,Ext.isIE9m||(delete e.getWidth,delete e.getHeight),delete e.styleHooks}}),s.prototype.styleHooks=e=Ext.dom.AbstractElement.prototype.styleHooks,s.prototype.verticalStyleHooks90=t=Ext.Object.chain(s.prototype.styleHooks),s.prototype.verticalStyleHooks270=n=Ext.Object.chain(s.prototype.styleHooks),t.width={name:"height"},t.height={name:"width"},t["margin-top"]={name:"marginLeft"},t["margin-right"]={name:"marginTop"},t["margin-bottom"]={name:"marginRight"},t["margin-left"]={name:"marginBottom"},t["padding-top"]={name:"paddingLeft"},t["padding-right"]={name:"paddingTop"},t["padding-bottom"]={name:"paddingRight"},t["padding-left"]={name:"paddingBottom"},t["border-top"]={name:"borderLeft"},t["border-right"]={name:"borderTop"},t["border-bottom"]={name:"borderRight"},t["border-left"]={name:"borderBottom"},n.width={name:"height"},n.height={name:"width"},n["margin-top"]={name:"marginRight"},n["margin-right"]={name:"marginBottom"},n["margin-bottom"]={name:"marginLeft"},n["margin-left"]={name:"marginTop"},n["padding-top"]={name:"paddingRight"},n["padding-right"]={name:"paddingBottom"},n["padding-bottom"]={name:"paddingLeft"},n["padding-left"]={name:"paddingTop"},n["border-top"]={name:"borderRight"},n["border-right"]={name:"borderBottom"},n["border-bottom"]={name:"borderLeft"},n["border-left"]={name:"borderTop"},Ext.isIE7m&&(e.fontSize=e["font-size"]={name:"fontSize",canThrow:!0},e.fontStyle=e["font-style"]={name:"fontStyle",canThrow:!0},e.fontFamily=e["font-family"]={name:"fontFamily",canThrow:!0}),Ext.isIEQuirks||Ext.isIE&&Ext.ieVersion<=8){function v(e,t,n,i){return"none"==i[this.styleName]?"0px":i[this.name]}for(r=(i=["Top","Right","Bottom","Left"]).length;r--;)a="border"+(o=i[r])+"Width",e["border-"+o.toLowerCase()+"-width"]=e[a]={name:a,styleName:"border"+o+"Style",get:v}}Ext.getDoc().on("selectstart",function(e,t){var n=document.documentElement,i=s.selectableCls,r=s.unselectableCls,o=t&&t.tagName;if("input"!==(o=o&&o.toLowerCase())&&"textarea"!==o)for(;t&&1===t.nodeType&&t!==n;){var a=Ext.fly(t);if(a.hasCls(i))return;if(a.hasCls(r))return void e.stopEvent();t=t.parentNode}})}),Ext.onReady(function(){var e=/alpha\(opacity=(.*)\)/i,t=/^\s+|\s+$/g,n=Ext.dom.Element.prototype.styleHooks;n.opacity={name:"opacity",afterSet:function(e,t,n){n.isLayer&&n.onOpacitySet(t)}},!Ext.supports.Opacity&&Ext.isIE&&Ext.apply(n.opacity,{get:function(t){var n,i,r=t.style.filter;return r.match&&(n=r.match(e))&&(i=parseFloat(n[1]),!isNaN(i))?i?i/100:0:1},set:function(n,i){var r=n.style,o=r.filter.replace(e,"").replace(t,"");r.zoom=1,"number"==typeof i&&i>=0&&i<1?(i*=100,r.filter=o+(o.length?" ":"")+"alpha(opacity="+i+")"):r.filter=o}})}),Ext.define("Ext.util.Positionable",{_positionTopLeft:["position","top","left"],_alignRe:/^([a-z]+)-([a-z]+)(\?)?$/,afterSetPosition:Ext.emptyFn,getAnchorToXY:function(){Ext.Error.raise("getAnchorToXY is not implemented in "+this.$className)},getBorderPadding:function(){Ext.Error.raise("getBorderPadding is not implemented in "+this.$className)},getLocalX:function(){Ext.Error.raise("getLocalX is not implemented in "+this.$className)},getLocalXY:function(){Ext.Error.raise("getLocalXY is not implemented in "+this.$className)},getLocalY:function(){Ext.Error.raise("getLocalY is not implemented in "+this.$className)},getX:function(){Ext.Error.raise("getX is not implemented in "+this.$className)},getXY:function(){Ext.Error.raise("getXY is not implemented in "+this.$className)},getY:function(){Ext.Error.raise("getY is not implemented in "+this.$className)},setLocalX:function(){Ext.Error.raise("setLocalX is not implemented in "+this.$className)},setLocalXY:function(){Ext.Error.raise("setLocalXY is not implemented in "+this.$className)},setLocalY:function(){Ext.Error.raise("setLocalY is not implemented in "+this.$className)},setX:function(){Ext.Error.raise("setX is not implemented in "+this.$className)},setXY:function(){Ext.Error.raise("setXY is not implemented in "+this.$className)},setY:function(){Ext.Error.raise("setY is not implemented in "+this.$className)},adjustForConstraints:function(e,t){var n=this.getConstrainVector(t,e);return n&&(e[0]+=n[0],e[1]+=n[1]),e},alignTo:function(e,t,n,i){var r=this,o=r.el;return r.setXY(r.getAlignToXY(e,t,n),!(!o.anim||!i)&&o.anim(i))},anchorTo:function(e,t,n,i,r,o){var a=this,s=!Ext.isEmpty(r),l=function(){a.alignTo(e,t,n,i),Ext.callback(o,a)},d=a.getAnchor();return a.removeAnchor(),Ext.apply(d,{fn:l,scroll:s}),Ext.EventManager.onWindowResize(l,null),s&&Ext.EventManager.on(window,"scroll",l,null,{buffer:isNaN(r)?50:r}),l(),a},calculateAnchorXY:function(e,t,n,i){var r,o,a,s=this,l=s.el,d=document,c=l.dom==d.body||l.dom==d,u=Math.round;switch(e=(e||"tl").toLowerCase(),o=(i=i||{}).width||c?Ext.Element.getViewWidth():s.getWidth(),a=i.height||c?Ext.Element.getViewHeight():s.getHeight(),e){case"tl":r=[0,0];break;case"bl":r=[0,a];break;case"tr":r=[o,0];break;case"c":r=[u(.5*o),u(.5*a)];break;case"t":r=[u(.5*o),0];break;case"l":r=[0,u(.5*a)];break;case"r":r=[o,u(.5*a)];break;case"b":r=[u(.5*o),a];break;case"tc":r=[u(.5*o),0];break;case"bc":r=[u(.5*o),a];break;case"br":r=[o,a]}return[r[0]+t,r[1]+n]},convertPositionSpec:function(e){return e},getAlignToXY:function(e,t,n){var i,r,o,a,s,l,d,c,u,h,f,p,g,m,x,y,E,v=this,b=Ext.Element.getViewWidth()-10,C=Ext.Element.getViewHeight()-10,w=document,S=w.documentElement,I=w.body,M=S.scrollLeft||I.scrollLeft||0,P=S.scrollTop||I.scrollTop||0;return(e=Ext.get(e.el||e))&&e.dom||Ext.Error.raise({sourceClass:"Ext.util.Positionable",sourceMethod:"getAlignToXY",msg:"Attempted to align an element that doesn't exist"}),n=n||[0,0],t=(t&&"?"!=t?/-/.test(t)||""===t?t||"tl-bl":"tl-"+t:"tl-bl?").toLowerCase(),(i=(t=v.convertPositionSpec(t)).match(v._alignRe))||Ext.Error.raise({sourceClass:"Ext.util.Positionable",sourceMethod:"getAlignToXY",el:e,position:t,offset:n,msg:'Attemmpted to align an element with an invalid position: "'+t+'"'}),h=i[1],f=i[2],u=!!i[3],r=v.getAnchorXY(h,!0),y=(o=v.getAnchorToXY(e,f,!1))[0]-r[0]+n[0],E=o[1]-r[1]+n[1],u&&(a=v.getWidth(),s=v.getHeight(),l=e.getRegion(),p=h.charAt(0),g=h.charAt(h.length-1),m=f.charAt(0),x=f.charAt(f.length-1),d="t"==p&&"b"==m||"b"==p&&"t"==m,c="r"==g&&"l"==x||"l"==g&&"r"==x,y+a>b+M&&(y=c?l.left-a:b+M-a),y<M&&(y=c?l.right:M),E+s>C+P&&(E=d?l.top-s:C+P-s),E<P&&(E=d?l.bottom:P)),[y,E]},getAnchor:function(){var e,t=this.el,n=(t.$cache||t.getCache()).data;if(t.dom)return(e=n._anchor)||(e=n._anchor={}),e},getAnchorXY:function(e,t,n){var i=this,r=i.getXY(),o=i.el,a=document,s=o.dom==a.body||o.dom==a,l=o.getScroll(),d=s?l.left:t?0:r[0],c=s?l.top:t?0:r[1];return i.calculateAnchorXY(e,d,c,n)},getBox:function(e,t){var n,i,r,o=this,a=t?o.getLocalXY():o.getXY(),s=a[0],l=a[1],d=o.getWidth(),c=o.getHeight();return e&&(s+=i=(n=o.getBorderPadding()).beforeX,l+=r=n.beforeY,d-=i+n.afterX,c-=r+n.afterY),{x:s,left:s,0:s,y:l,top:l,1:l,width:d,height:c,right:s+d,bottom:l+c}},calculateConstrainedPosition:function(e,t,n,i){var r,o,a,s,l=this,d=l.floatParent,c=d?d.getTargetEl():null,u=!1;return n&&d?(o=c.getXY(),a=c.getBorderPadding(),o[0]+=a.beforeX,o[1]+=a.beforeY,t&&(s=[t[0]+o[0],t[1]+o[1]])):s=t,e=e||l.constrainTo||c||l.container||l.el.parent(),(r=(l.constrainHeader?l.header.el:l.el).getConstrainVector(e,s,i))&&((u=t||l.getPosition(n))[0]+=r[0],u[1]+=r[1]),u},getConstrainVector:function(e,t,n){var i=this.getRegion(),r=[0,0],o=this.shadow&&this.constrainShadow&&!this.shadowDisabled?this.shadow.getShadowSize():void 0,a=!1;return e instanceof Ext.util.Region||(e=Ext.get(e.el||e).getViewRegion()),t&&i.translateBy(t[0]-i.x,t[1]-i.y),n&&(i.right=i.left+n[0],i.bottom=i.top+n[1]),o&&e.adjust(o[0],-o[1],-o[2],o[3]),i.right>e.right&&(a=!0,r[0]=e.right-i.right),i.left+r[0]<e.left&&(a=!0,r[0]=e.left-i.left),i.bottom>e.bottom&&(a=!0,r[1]=e.bottom-i.bottom),i.top+r[1]<e.top&&(a=!0,r[1]=e.top-i.top),!!a&&r},getOffsetsTo:function(e){var t=this.getXY(),n=Ext.fly(e.el||e,"_internal").getXY();return[t[0]-n[0],t[1]-n[1]]},getRegion:function(){var e=this.getBox();return new Ext.util.Region(e.top,e.right,e.bottom,e.left)},getViewRegion:function(){var e,t,n,i,r,o,a,s=this,l=s.el;return"BODY"===l.dom.nodeName?(r=(t=l.getScroll()).left,i=t.top,o=Ext.dom.AbstractElement.getViewportWidth(),a=Ext.dom.AbstractElement.getViewportHeight()):(e=s.getBorderPadding(),r=(n=s.getXY())[0]+e.beforeX,i=n[1]+e.beforeY,o=s.getWidth(!0),a=s.getHeight(!0)),new Ext.util.Region(i,r+o,i+a,r)},move:function(e,t,n){var i=this.getXY(),r=i[0],o=i[1],a=[r-t,o],s=[r+t,o],l=[r,o-t],d=[r,o+t],c={l:a,left:a,r:s,right:s,t:l,top:l,up:l,b:d,bottom:d,down:d};e=e.toLowerCase(),this.setXY([c[e][0],c[e][1]],n)},removeAnchor:function(){var e=this.getAnchor();return e&&e.fn&&(Ext.EventManager.removeResizeListener(e.fn),e.scroll&&Ext.EventManager.un(window,"scroll",e.fn),delete e.fn),this},setBox:function(e,t){var n=this,i=n.el,r=e.x,o=e.y,a=e.width,s=e.height,l=n.constrain&&n.calculateConstrainedPosition(null,[r,o],!1,[a,s]);return l&&(r=l[0],o=l[1]),t&&i.anim?n.animate(Ext.applyIf({to:{x:r,y:o,width:i.adjustWidth(a),height:i.adjustHeight(s)},listeners:{afteranimate:Ext.Function.bind(n.afterSetPosition,n,[r,o])}},t)):(n.setSize(a,s),n.setXY([r,o]),n.afterSetPosition(r,o)),n},setRegion:function(e,t){return this.setBox({x:e.left,y:e.top,width:e.right-e.left,height:e.bottom-e.top},t)},translatePoints:function(e,t){var n=this.translateXY(e,t);return{left:n.x,top:n.y}},translateXY:function(e,t){var n=this,i=n.el,r=i.getStyle(n._positionTopLeft),o="relative"==r.position,a=parseFloat(r.left),s=parseFloat(r.top),l=n.getXY();return Ext.isArray(e)&&(t=e[1],e=e[0]),isNaN(a)&&(a=o?0:i.dom.offsetLeft),isNaN(s)&&(s=o?0:i.dom.offsetTop),{x:a="number"==typeof e?e-l[0]+a:void 0,y:s="number"==typeof t?t-l[1]+s:void 0}}}),Ext.define("Ext.dom.Element",function(e){var t,n=document,i="display",r="none",o=Ext.baseCSSPrefix+"masked",a=Ext.baseCSSPrefix+"masked-relative",s=Ext.baseCSSPrefix+"mask-msg",l=/^body/i,d=Ext.isStrict?{select:1}:{input:1,select:1,textarea:1},c=function(e){var t,n,i=[],r=-1;for(t=0;n=e[t];t++)(n.scrollTop>0||n.scrollLeft>0)&&(i[++r]=n);return i};return{extend:Ext.dom.AbstractElement,alternateClassName:["Ext.Element","Ext.core.Element"],tableTagRe:/^(?:tr|td|table|tbody)$/i,mixins:[Ext.util.Positionable],addUnits:function(){return e.addUnits.apply(e,arguments)},focus:function(e,t){var n=this;t=t||n.dom;try{Number(e)?Ext.defer(n.focus,e,n,[null,t]):t.focus()}catch(e){}return n},blur:function(){var e=this,t=e.dom;if(t!==document.body){try{t.blur()}catch(e){}return e}return e.focus(void 0,t)},isBorderBox:function(){var e=Ext.isBorderBox;return e&&Ext.isIE7m&&(e=!((this.dom.tagName||"").toLowerCase()in d)),e},hover:function(e,t,n,i){var r=this;return r.on("mouseenter",e,n||r.dom,i),r.on("mouseleave",t,n||r.dom,i),r},getAttributeNS:function(e,t){return this.getAttribute(t,e)},getAttribute:!Ext.isIE||Ext.isIE9p&&n.documentMode>=9?function(e,t){var n=this.dom;return t?n.getAttributeNS(t,e)||n.getAttribute(t+":"+e):n.getAttribute(e)||n[e]||null}:function(e,t){var n,i=this.dom;return t?"undefined"!=(n=typeof i[t+":"+e])&&"unknown"!=n&&i[t+":"+e]||null:("for"===e&&(e="htmlFor"),i[e]||null)},cacheScrollValues:function(){var e,t,n,i=[];for(Ext.DomQuery.pseudos.isScrolled||(Ext.DomQuery.pseudos.isScrolled=c),e=this.query(":isScrolled"),n=0;n<e.length;n++)t=e[n],i[n]=[t.scrollLeft,t.scrollTop];return function(){for(n=0;n<e.length;n++)(t=e[n]).scrollLeft=i[n][0],t.scrollTop=i[n][1]}},autoBoxAdjust:!0,isVisible:function(n){var o=this.dom,a=o.ownerDocument.documentElement;for(t||(t=new e.Fly);o!==a;){if(!o||11===o.nodeType||t.attach(o).isStyle("visibility","hidden")||t.isStyle(i,r))return!1;if(!n)break;o=o.parentNode}return!0},isDisplayed:function(){return!this.isStyle(i,r)},enableDisplayMode:function(t){var n=this;return n.setVisibilityMode(e.DISPLAY),Ext.isEmpty(t)||((n.$cache||n.getCache()).data.originalDisplay=t),n},mask:function(e,t,i){var r,d,c=this,u=c.dom,h=u.style.setExpression,f=(c.$cache||c.getCache()).data,p=f.maskShimEl,g=f.maskEl,m=f.maskMsg;if(l.test(u.tagName)&&"static"==c.getStyle("position")||c.addCls(a),g&&g.remove(),m&&m.remove(),p&&p.remove(),Ext.isIE6&&(p=Ext.DomHelper.append(u,{tag:"iframe",cls:Ext.baseCSSPrefix+"shim "+Ext.baseCSSPrefix+"mask-shim"},!0),f.maskShimEl=p,p.setDisplayed(!0)),Ext.DomHelper.append(u,[{cls:Ext.baseCSSPrefix+"mask",style:"top:0;left:0;"},{cls:t?s+" "+t:s,cn:{tag:"div",cls:Ext.baseCSSPrefix+"mask-msg-inner",cn:{tag:"div",cls:Ext.baseCSSPrefix+"mask-msg-text",html:e||""}}}]),m=Ext.get(u.lastChild),g=Ext.get(m.dom.previousSibling),f.maskMsg=m,f.maskEl=g,c.addCls(o),g.setDisplayed(!0),"string"==typeof e?(m.setDisplayed(!0),m.center(c)):m.setDisplayed(!1),!Ext.supports.IncludePaddingInWidthCalculation&&h)try{g.dom.style.setExpression("width",'this.parentNode.clientWidth + "px"'),r='this.parentNode.clientWidth + "px"',p&&p.dom.style.setExpression("width",r),g.dom.style.setExpression("width",r)}catch(e){}if(!Ext.supports.IncludePaddingInHeightCalculation&&h)try{d="this.parentNode."+(u==n.body?"scrollHeight":"offsetHeight")+' + "px"',p&&p.dom.style.setExpression("height",d),g.dom.style.setExpression("height",d)}catch(e){}else!Ext.isIE9m||Ext.isIE7&&Ext.isStrict||"auto"!=c.getStyle("height")||(p&&p.setSize(void 0,i||c.getHeight()),g.setSize(void 0,i||c.getHeight()));return g},unmask:function(){var e,t=this,n=(t.$cache||t.getCache()).data,i=n.maskEl,r=n.maskShimEl,s=n.maskMsg;i&&((e=i.dom.style).clearExpression&&(e.clearExpression("width"),e.clearExpression("height")),i&&(i.remove(),delete n.maskEl),s&&(s.remove(),delete n.maskMsg),t.removeCls([o,a]),r&&((e=r.dom.style).clearExpression&&(e.clearExpression("width"),e.clearExpression("height")),r.remove(),delete n.maskShimEl))},isMasked:function(){var e=this,t=(e.$cache||e.getCache()).data,n=t.maskEl,i=t.maskMsg,r=!1;return n&&n.isVisible()&&(i&&i.center(e),r=!0),r},createShim:function(){var e,t=n.createElement("iframe");return t.frameBorder="0",t.className=Ext.baseCSSPrefix+"shim",t.src=Ext.SSL_SECURE_URL,(e=Ext.get(this.dom.parentNode.insertBefore(t,this.dom))).autoBoxAdjust=!1,e},addKeyListener:function(e,t,n){var i;return i="object"!=typeof e||Ext.isArray(e)?{target:this,key:e,fn:t,scope:n}:{target:this,key:e.key,shift:e.shift,ctrl:e.ctrl,alt:e.alt,fn:t,scope:n},new Ext.util.KeyMap(i)},addKeyMap:function(e){return new Ext.util.KeyMap(Ext.apply({target:this},e))},on:function(e,t,n,i){return Ext.EventManager.on(this,e,t,n||this,i),this},un:function(e,t,n){return Ext.EventManager.un(this,e,t,n||this),this},removeAllListeners:function(){return Ext.EventManager.removeAll(this),this},purgeAllListeners:function(){return Ext.EventManager.purgeElement(this),this},select:function(t){return e.select(t,!1,this.dom)}}},function(){var e,t=document,n=Ext.cache,i=this,r=Ext.dom.AbstractElement,o=/^a|button|embed|iframe|input|object|select|textarea$/i,a=/\S/,s=/(?:<script([^>]*)?>)((\n|\r|.)*?)(?:<\/script>)/gi,l=/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/gi,d=/\ssrc=([\'\"])(.*?)\1/i,c=/\stype=([\'\"])(.*?)\1/i,u=!Ext.isIE8m;i.boxMarkup='<div class="{0}-tl"><div class="{0}-tr"><div class="{0}-tc"></div></div></div><div class="{0}-ml"><div class="{0}-mr"><div class="{0}-mc"></div></div></div><div class="{0}-bl"><div class="{0}-br"><div class="{0}-bc"></div></div></div>',i.collectorThreadId=setInterval(function(){if(Ext.enableGarbageCollector){var e,t,r,o;for(e in n)n.hasOwnProperty(e)&&((r=n[e]).skipGarbageCollection||((t=r.dom)||Ext.Error.raise("Missing DOM node in element garbage collection: "+e),t&&(t.getElementById||t.navigator)&&Ext.Error.raise("Unexpected document or window element in element garbage collection"),t.parentNode&&(t.offsetParent||Ext.getElementById(e))||(t&&Ext.enableListenerCollection&&Ext.EventManager.removeAll(t),delete n[e])));if(Ext.isIE){for(e in o={},n)n.hasOwnProperty(e)&&(o[e]=n[e]);n=Ext.cache=o}}else clearInterval(i.collectorThreadId)},3e4),i.addMethods({monitorMouseLeave:function(e,t,n){var i,r=this,o={mouseleave:function(o){i=setTimeout(Ext.Function.bind(t,n||r,[o]),e)},mouseenter:function(){clearTimeout(i)},freezeEvent:!0};return r.on(o),o},swallowEvent:function(e,t){var n,i,r=function(e){e.stopPropagation(),t&&e.preventDefault()};if(Ext.isArray(e)){for(i=e.length,n=0;n<i;n++)this.on(e[n],r);return this}return this.on(e,r),this},relayEvent:function(e,t){this.on(e,function(n){t.fireEvent(e,n)})},clean:function(t){var n,i=this,r=i.dom,o=(i.$cache||i.getCache()).data,s=r.firstChild,l=-1;if(o.isCleaned&&!0!==t)return i;for(;s;)n=s.nextSibling,3==s.nodeType?a.test(s.nodeValue)?n&&3==n.nodeType&&(s.appendData(Ext.String.trim(n.data)),r.removeChild(n),n=s.nextSibling,s.nodeIndex=++l):r.removeChild(s):(e.attach(s).clean(),s.nodeIndex=++l),s=n;return o.isCleaned=!0,i},load:function(e){return this.getLoader().load(e),this},getLoader:function(){var e=(this.$cache||this.getCache()).data,t=e.loader;return t||(e.loader=t=new Ext.ElementLoader({target:this})),t},syncContent:function(t){var n,i,r,o,a,s,l,d=(t=Ext.getDom(t)).childNodes,c=d.length,u=this.dom,h=u.childNodes,f=h.length;if(u.mergeAttributes)u.mergeAttributes(t,!0),u.src=t.src;else for(s=(a=t.attributes).length,n=0;n<s;n++)"id"!==(l=a[n].name)&&u.setAttribute(l,a[n].value);if(c===f)for(n=0;n<c;n++){if(r=d[n],i=h[n],(o=r.nodeType)!==i.nodeType||1===o&&r.tagName!==i.tagName)return void(u.innerHTML=t.innerHTML);3===o?i.data=r.data:(r.id&&i.id!==r.id&&(i.id=r.id),i.style.cssText=r.style.cssText,i.className=r.className,e.attach(i).syncContent(r))}else u.innerHTML=t.innerHTML},update:function(e,n,i){var r,o,a,u=this;return u.dom?(e=e||"",o=u.dom,!0!==n?(o.innerHTML=e,Ext.callback(i,u),u):(r=Ext.id(),e+='<span id="'+r+'"></span>',a=setInterval(function(){var n,o,l,h,f,p,g;if(!(p=t.getElementById(r)))return!1;for(clearInterval(a),Ext.removeNode(p),n=Ext.getHead().dom;o=s.exec(e);)(h=!!(l=o[1])&&l.match(d))&&h[2]?((g=t.createElement("script")).src=h[2],(f=l.match(c))&&f[2]&&(g.type=f[2]),n.appendChild(g)):o[2]&&o[2].length>0&&(window.execScript?window.execScript(o[2]):window.eval(o[2]));Ext.callback(i,u)},20),o.innerHTML=e.replace(l,""),u)):u},removeAllListeners:function(){return this.removeAnchor(),Ext.EventManager.removeAll(this.dom),this},createProxy:function(e,t,n){e="object"==typeof e?e:{tag:"div",cls:e};var r=t?Ext.DomHelper.append(t,e,!0):Ext.DomHelper.insertBefore(this.dom,e,!0);return r.setVisibilityMode(i.DISPLAY),r.hide(),n&&this.setBox&&this.getBox&&r.setBox(this.getBox()),r},needsTabIndex:function(){if(this.dom)return"a"===this.dom.nodeName&&!this.dom.href||!o.test(this.dom.nodeName)},isFocusable:function(e){var t,n=this.dom,i=n.getAttributeNode("tabIndex"),r=n.nodeName,a=!1;return i&&i.specified&&(t=i.value),n&&!n.disabled&&(-1==t?a=Ext.FocusManager&&Ext.FocusManager.enabled&&e:o.test(r)?("a"!==r||n.href)&&(a=!0):a=null!=t&&t>=0,a=a&&this.isVisible(!0)),a}}),Ext.isIE&&(i.prototype.getById=function(e,r){var o,a,s=this.dom;return s&&(a=u&&t.getElementById(e)||s.all[e])?r?a:(o=n[e])&&o.el?Ext.updateCacheEntry(o,a).el:new i(a):r?Ext.getDom(e):i.get(e)}),i.createAlias({addListener:"on",removeListener:"un",clearListeners:"removeAllListeners",focusable:"isFocusable"}),i.Fly=r.Fly=new Ext.Class({extend:i,isFly:!0,constructor:function(e){this.dom=e,this.el=this},attach:r.Fly.prototype.attach}),e=new i.Fly,Ext.isIE?Ext.getElementById=function(e){var n,i=t.getElementById(e);return!i&&(n=r.detachedBodyEl)&&(i=n.dom.all[e]),i}:t.querySelector||(Ext.getDetachedBody=Ext.getBody,Ext.getElementById=function(e){return t.getElementById(e)})}),Ext.define("Ext.dom.CompositeElementLite",{alternateClassName:"Ext.CompositeElementLite",statics:{importElementMethods:function(){var e,t=Ext.dom.Element.prototype,n=this.prototype;for(e in t)"function"==typeof t[e]&&function(e){n[e]=n[e]||function(){return this.invoke(e,arguments)}}.call(n,e)}},constructor:function(e,t){this.elements=[],this.add(e,t),this.el=new Ext.dom.AbstractElement.Fly},isComposite:!0,getElement:function(e){return this.el.attach(e)},transformElement:function(e){return Ext.getDom(e)},getCount:function(){return this.elements.length},add:function(e,t){var n,i,r=this.elements;if(!e)return this;for("string"==typeof e?e=Ext.dom.Element.selectorFunction(e,t):e.isComposite?e=e.elements:Ext.isIterable(e)||(e=[e]),n=0,i=e.length;n<i;++n)r.push(this.transformElement(e[n]));return this},invoke:function(e,t){var n,i,r=this.elements,o=r.length;for(e=Ext.dom.Element.prototype[e],i=0;i<o;i++)(n=r[i])&&e.apply(this.getElement(n),t);return this},item:function(e){var t=this.elements[e],n=null;return t&&(n=this.getElement(t)),n},slice:function(){return this.elements.slice.apply(this.elements,arguments)},addListener:function(e,t,n,i){var r,o,a=this.elements,s=a.length;for(r=0;r<s;r++)(o=a[r])&&Ext.EventManager.on(o,e,t,n||o,i);return this},each:function(e,t){var n,i,r=this,o=r.elements,a=o.length;for(n=0;n<a&&(!(i=o[n])||(i=this.getElement(i),!1!==e.call(t||i,i,r,n)));n++);return r},fill:function(e){var t=this;return t.elements=[],t.add(e),t},insert:function(e,t){Ext.Array.insert(this.elements,e,t)},filter:function(e){for(var t,n=this,i=n.elements,r=i.length,o=[],a=0,s="function"==typeof e;a<r;a++)!1,(t=i[a])&&(t=n.getElement(t),(s?!1!==e.call(t,t,n,a):t.is(e))&&o.push(n.transformElement(t)));return n.elements=o,n},indexOf:function(e){return Ext.Array.indexOf(this.elements,this.transformElement(e))},replaceElement:function(e,t,n){var i,r=isNaN(e)?this.indexOf(e):e;return r>-1&&(t=Ext.getDom(t),n&&((i=this.elements[r]).parentNode.insertBefore(t,i),Ext.removeNode(i)),Ext.Array.splice(this.elements,r,1,t)),this},clear:function(e){var t=this.elements,n=t.length-1;if(e)for(;n>=0;n--)Ext.removeNode(t[n]);this.elements=[]},addElements:function(e,t){if(!e)return this;"string"==typeof e&&(e=Ext.dom.Element.selectorFunction(e,t));var n,i=this.elements,r=e.length;for(n=0;n<r;n++)i.push(Ext.get(e[n]));return this},first:function(){return this.item(0)},last:function(){return this.item(this.getCount()-1)},contains:function(e){return-1!=this.indexOf(e)},removeElement:function(e,t){e=[].concat(e);var n,i,r,o=this,a=o.elements,s=e.length;for(r=0;r<s;r++)(i=a[n=e[r]]||a[n=o.indexOf(n)])&&(t&&(i.dom?i.remove():Ext.removeNode(i)),Ext.Array.erase(a,n,1));return o}},function(){this.importElementMethods(),this.prototype.on=this.prototype.addListener,Ext.DomQuery&&(Ext.dom.Element.selectorFunction=Ext.DomQuery.select),Ext.dom.Element.select=function(e,t){var n;if("string"==typeof e)n=Ext.dom.Element.selectorFunction(e,t);else{if(void 0===e.length)throw new Error("[Ext.select] Invalid selector specified: "+e);n=e}return new Ext.CompositeElementLite(n)},Ext.select=function(){return Ext.dom.Element.select.apply(Ext.dom.Element,arguments)}}),Ext.define("Ext.dom.CompositeElement",{alternateClassName:"Ext.CompositeElement",extend:Ext.dom.CompositeElementLite,getElement:function(e){return e},transformElement:function(e){return Ext.get(e)}},function(){Ext.dom.Element.select=function(e,t,n){var i;if("string"==typeof e)i=Ext.dom.Element.selectorFunction(e,n);else{if(void 0===e.length)throw new Error("[Ext.select] Invalid selector specified: "+e);i=e}return!0===t?new Ext.CompositeElement(i):new Ext.CompositeElementLite(i)}}),Ext.select=Ext.Element.select,Ext.define("Ext.util.HashMap",{mixins:{observable:Ext.util.Observable},constructor:function(e){var t=this,n=(e=e||{}).keyFn;t.initialConfig=e,t.addEvents("add","clear","remove","replace"),t.mixins.observable.constructor.call(t,e),t.clear(!0),n&&(t.getKey=n)},getCount:function(){return this.length},getData:function(e,t){return void 0===t&&(t=e,e=this.getKey(t)),[e,t]},getKey:function(e){return e.id},add:function(e,t){var n=this;return 1===arguments.length&&(t=e,e=n.getKey(t)),n.containsKey(e)?n.replace(e,t):(n.map[e]=t,++n.length,n.hasListeners.add&&n.fireEvent("add",n,e,t),t)},replace:function(e,t){var n,i=this,r=i.map;return 1===arguments.length&&(t=e,e=i.getKey(t)),i.containsKey(e)||i.add(e,t),n=r[e],r[e]=t,i.hasListeners.replace&&i.fireEvent("replace",i,e,t,n),t},remove:function(e){var t=this.findKey(e);return void 0!==t&&this.removeAtKey(t)},removeAtKey:function(e){var t,n=this;return!!n.containsKey(e)&&(t=n.map[e],delete n.map[e],--n.length,n.hasListeners.remove&&n.fireEvent("remove",n,e,t),!0)},get:function(e){return this.map[e]},clear:function(e){var t=this;return t.map={},t.length=0,!0!==e&&t.hasListeners.clear&&t.fireEvent("clear",t),t},containsKey:function(e){return void 0!==this.map[e]},contains:function(e){return this.containsKey(this.findKey(e))},getKeys:function(){return this.getArray(!0)},getValues:function(){return this.getArray(!1)},getArray:function(e){var t,n=[],i=this.map;for(t in i)i.hasOwnProperty(t)&&n.push(e?t:i[t]);return n},each:function(e,t){var n,i=Ext.apply({},this.map),r=this.length;for(n in t=t||this,i)if(i.hasOwnProperty(n)&&!1===e.call(t,n,i[n],r))break;return this},clone:function(){var e,t=new this.self(this.initialConfig),n=this.map;for(e in t.suspendEvents(),n)n.hasOwnProperty(e)&&t.add(e,n[e]);return t.resumeEvents(),t},findKey:function(e){var t,n=this.map;for(t in n)if(n.hasOwnProperty(t)&&n[t]===e)return t}}),Ext.define("Ext.AbstractManager",{typeName:"type",constructor:function(e){Ext.apply(this,e||{}),this.all=new Ext.util.HashMap,this.types={}},get:function(e){return this.all.get(e)},register:function(e){var t=this.all,n=t.getKey(e);t.containsKey(n)&&Ext.Error.raise('Registering duplicate id "'+n+'" with this manager'),this.all.add(e)},unregister:function(e){this.all.remove(e)},registerType:function(e,t){this.types[e]=t,t[this.typeName]=e},isRegistered:function(e){return void 0!==this.types[e]},create:function(e,t){var n=e[this.typeName]||e.type||t,i=this.types[n];return void 0===i&&Ext.Error.raise("The '"+n+"' type has not been registered with this manager"),new i(e)},onAvailable:function(e,t,n){var i,r,o=this.all;o.containsKey(e)?(i=o.get(e),t.call(n||i,i)):(r=function(i,a,s){a==e&&(t.call(n||s,s),o.un("add",r))},o.on("add",r))},each:function(e,t){this.all.each(e,t||this)},getCount:function(){return this.all.getCount()}}),Ext.define("Ext.ComponentManager",{extend:Ext.AbstractManager,alternateClassName:"Ext.ComponentMgr",singleton:!0,typeName:"xtype",create:function(e,t){return"string"==typeof e?Ext.widget(e):e.isComponent?e:Ext.widget(e.xtype||t,e)},registerType:function(e,t){this.types[e]=t,t[this.typeName]=e,t.prototype[this.typeName]=e}},function(){Ext.getCmp=function(e){return Ext.ComponentManager.get(e)}}),Ext.define("Ext.ComponentQuery",{singleton:!0},function(){var e=this,t=Ext.dom.Query.operators,n=/(\d*)n\+?(\d*)/,i=/\D/,r=["var r = [],","i = 0,","it = items,","l = it.length,","c;","for (; i < l; i++) {","c = it[i];","if (c.{0}) {","r.push(c);","}","}","return r;"].join(""),o=function(e,t){return t.method.apply(this,[e].concat(t.args))},a=function(e,t){for(var n,i=[],r=0,o=e.length,a=">"!==t;r<o;r++)(n=e[r]).getRefItems&&(i=i.concat(n.getRefItems(a)));return i},s=function(e){for(var t,n=[],i=0,r=e.length;i<r;i++)for(t=e[i];t=t.getRefOwner();)n.push(t);return n},l=function(e,t,n){if("*"===t)return e.slice();for(var i,r=[],o=0,a=e.length;o<a;o++)(i=e[o]).isXType(t,n)&&r.push(i);return r},d=function(e,t){for(var n,i=[],r=0,o=e.length;r<o;r++)(n=e[r]).hasCls(t)&&i.push(n);return i},c=function(e,t){for(var n,i=[],r=0,o=e.length;r<o;r++)(n=e[r]).getItemId()===t&&i.push(n);return i},u=/^(\s?([>\^])\s?|\s|$)/,h=/^(#)?([\w\-]+|\*)(?:\((true|false)\))?/,f=[{re:/^\.([\w\-]+)(?:\((true|false)\))?/,method:l},{re:/^(?:\[((?:@|\?)?[\w\-\$]*[^\^\$\*~%!])\s?(?:(=|.=)\s?['"]?(.*?)["']?)?\])/,method:function(e,n,i,r){var o,a,s,l,d,c,u=[],h=0,f=e.length;for("@"===n.charAt(0)&&(o=!0,n=n.substr(1)),"?"===n.charAt(0)&&(o=!0,a=!0,n=n.substr(1));h<f;h++)if(s=e[h],!o||s.hasOwnProperty(n))if(l=s[n],a)u.push(s);else if("~="===i){if(l)for(Ext.isArray(l)||(l=l.split(" ")),d=0,c=l.length;d<c;d++)if(t[i](Ext.coerce(l[d],r),r)){u.push(s);break}}else(r?t[i](Ext.coerce(l,r),r):s[n])&&u.push(s);return u}},{re:/^#([\w\-]+)/,method:c},{re:/^\:([\w\-]+)(?:\(((?:\{[^\}]+\})|(?:(?!\{)[^\s>\/]*?(?!\})))\))?/,method:function(t,n,i){return e.pseudos[n](t,i)}},{re:/^(?:\{([^\}]+)\})/,method:r}];e.Query=Ext.extend(Object,{constructor:function(e){e=e||{},Ext.apply(this,e)},execute:function(e){var t,n,i=this.operations,r=0,l=i.length;for(e?Ext.isIterable(e)?n=e:e.isMixedCollection&&(n=e.items):n=Ext.ComponentManager.all.getArray();r<l;r++)if(n="^"===(t=i[r]).mode?s(n||[e]):t.mode?a(n||[e],t.mode):o(n||a([e]),t),r===l-1)return n;return[]},is:function(e){var t,n,i=this.operations,r=Ext.isArray(e)?e:[e],a=r.length,s=i[i.length-1];if((r=o(r,s)).length===a){if(i.length>1)for(n=0,t=r.length;n<t;n++)if(-1===Ext.Array.indexOf(this.execute(),r[n]))return!1;return!0}return!1}}),Ext.apply(this,{cache:{},pseudos:{not:function(e,t){for(var n,i=Ext.ComponentQuery,r=0,o=e.length,a=[],s=-1;r<o;++r)n=e[r],i.is(n,t)||(a[++s]=n);return a},first:function(e){var t=[];return e.length>0&&t.push(e[0]),t},last:function(e){var t=e.length,n=[];return t>0&&n.push(e[t-1]),n},focusable:function(e){for(var t,n=e.length,i=[],r=0;r<n;r++)(t=e[r]).isFocusable()&&i.push(t);return i},"nth-child":function(e,t){var r,o,a,s=[],l=n.exec(("even"==t?"2n":"odd"==t&&"2n+1")||!i.test(t)&&"n+"+t||t),d=(l[1]||1)-0,c=l[2]-0;for(r=0;o=e[r];r++)a=r+1,1==d?0!=c&&a!=c||s.push(o):(a+c)%d==0&&s.push(o);return s}},query:function(e,t){for(var n,i,r,o=e.split(","),a=o.length,s=0,l=[],d=[],c={};s<a;s++)e=Ext.String.trim(o[s]),n=this.cache[e]||(this.cache[e]=this.parse(e)),l=l.concat(n.execute(t));if(a>1){for(i=l.length,s=0;s<i;s++)c[(r=l[s]).id]||(d.push(r),c[r.id]=!0);l=d}return l},is:function(e,t){if(!t)return!0;for(var n=t.split(","),i=n.length,r=0;r<i;r++)if(t=Ext.String.trim(n[r]),(this.cache[t]||(this.cache[t]=this.parse(t))).is(e))return!0;return!1},parse:function(t){for(var n,i,r,o,a,s,p,g,m=[],x=f.length;t&&n!==t;){for(n=t,(i=t.match(h))&&("#"===(r=i[1])?m.push({method:c,args:[Ext.String.trim(i[2])]}):"."===r?m.push({method:d,args:[Ext.String.trim(i[2])]}):m.push({method:l,args:[Ext.String.trim(i[2]),Boolean(i[3])]}),t=t.replace(i[0],""));!(o=t.match(u));)for(s=0;t&&s<x;s++){if(p=f[s],a=t.match(p.re),g=p.method,a){m.push({method:Ext.isString(p.method)?Ext.functionFactory("items",Ext.String.format.apply(Ext.String,[g].concat(a.slice(1)))):p.method,args:a.slice(1)}),t=t.replace(a[0],"");break}s===x-1&&Ext.Error.raise('Invalid ComponentQuery selector: "'+arguments[0]+'"')}o[1]&&(m.push({mode:o[2]||o[1]}),t=t.replace(o[0],""))}return new e.Query({operations:m})}})}),Ext.define("Ext.util.ProtoElement",function(){var e=Ext.String.splitWords,t=Ext.Array.toMap;return{isProtoEl:!0,clsProp:"cls",styleProp:"style",removedProp:"removed",styleIsText:!1,constructor:function(n){var i=this;Ext.apply(i,n),i.classList=e(i.cls),i.classMap=t(i.classList),delete i.cls,Ext.isFunction(i.style)?(i.styleFn=i.style,delete i.style):"string"==typeof i.style?i.style=Ext.Element.parseStyles(i.style):i.style&&(i.style=Ext.apply({},i.style))},flush:function(){this.flushClassList=[],this.removedClasses={},delete this.style,delete this.unselectableAttr},addCls:function(t){for(var n,i=this,r="string"==typeof t?e(t):t,o=r.length,a=i.classList,s=i.classMap,l=i.flushClassList,d=0;d<o;++d)s[n=r[d]]||(s[n]=!0,a.push(n),l&&(l.push(n),delete i.removedClasses[n]));return i},hasCls:function(e){return e in this.classMap},removeCls:function(n){var i,r,o=this,a=o.classList,s=o.classList=[],l=t(e(n)),d=a.length,c=o.classMap,u=o.removedClasses;for(i=0;i<d;++i)l[r=a[i]]?(u&&c[r]&&(u[r]=!0,Ext.Array.remove(o.flushClassList,r)),delete c[r]):s.push(r);return o},setStyle:function(e,t){var n=this,i=n.style||(n.style={});return"string"==typeof e?1===arguments.length?n.setStyle(Ext.Element.parseStyles(e)):i[e]=t:Ext.apply(i,e),n},unselectable:function(){this.addCls(Ext.dom.Element.unselectableCls),Ext.isOpera&&(this.unselectableAttr=!0)},writeTo:function(e){var t,n=this,i=n.flushClassList||n.classList,r=n.removedClasses;return n.styleFn?(t=Ext.apply({},n.styleFn()),Ext.apply(t,n.style)):t=n.style,e[n.clsProp]=i.join(" "),t&&(e[n.styleProp]=n.styleIsText?Ext.DomHelper.generateStyles(t):t),r&&(r=Ext.Object.getKeys(r)).length&&(e[n.removedProp]=r.join(" ")),n.unselectableAttr&&(e.unselectable="on"),e}}}()),Ext.define("Ext.PluginManager",{extend:Ext.AbstractManager,alternateClassName:"Ext.PluginMgr",singleton:!0,typeName:"ptype",create:function(e,t,n){var i;return e.init?i=e:(n?(e=Ext.apply({},e)).cmp=n:n=e.cmp,e.xclass?i=Ext.create(e):"function"==typeof(i=Ext.ClassManager.getByAlias("plugin."+(e.ptype||t)))&&(i=new i(e))),i&&n&&i.setCmp&&!i.setCmpCalled&&(i.setCmp(n),i.setCmpCalled=!0),i},findByType:function(e,t){var n,i,r=[],o=this.types;for(n in o)o.hasOwnProperty(n)&&(i=o[n]).type==e&&(!t||!0===t&&i.isDefault)&&r.push(i);return r}},function(){Ext.preg=function(){return Ext.PluginManager.registerType.apply(Ext.PluginManager,arguments)}}),Ext.define("Ext.util.Filter",{id:null,anyMatch:!1,exactMatch:!1,caseSensitive:!1,disabled:!1,operator:null,statics:{createFilterFn:function(e){return e&&e.length?function(t){var n,i,r=!0,o=e.length;for(n=0;r&&n<o;n++)(i=e[n]).disabled||(r=r&&i.filterFn.call(i.scope||i,t));return r}:function(){return!0}}},operatorFns:{"<":function(e){return Ext.coerce(this.getRoot(e)[this.property],this.value)<this.value},"<=":function(e){return Ext.coerce(this.getRoot(e)[this.property],this.value)<=this.value},"=":function(e){return Ext.coerce(this.getRoot(e)[this.property],this.value)==this.value},">=":function(e){return Ext.coerce(this.getRoot(e)[this.property],this.value)>=this.value},">":function(e){return Ext.coerce(this.getRoot(e)[this.property],this.value)>this.value},"!=":function(e){return Ext.coerce(this.getRoot(e)[this.property],this.value)!=this.value}},constructor:function(e){var t=this;t.initialConfig=e,Ext.apply(t,e),t.filter=t.filter||t.filterFn,void 0===t.filter&&t.setValue(e.value)},setValue:function(e){var t=this;t.value=e,void 0===t.property||void 0===t.value||(t.filter=t.createFilterFn()),t.filterFn=t.filter},setFilterFn:function(e){this.filterFn=this.filter=e},createFilterFn:function(){var e=this,t=e.createValueMatcher(),n=e.property;return e.operator?e.operatorFns[e.operator]:function(i){var r=e.getRoot(i)[n];return null===t?null===r:t.test(r)}},getRoot:function(e){var t=this.root;return void 0===t?e:e[t]},createValueMatcher:function(){var e=this,t=e.value,n=e.anyMatch,i=e.exactMatch,r=e.caseSensitive,o=Ext.String.escapeRegex;return null===t?t:(t.exec||(t=String(t),!0===n?t=o(t):(t="^"+o(t),!0===i&&(t+="$")),t=new RegExp(t,r?"":"i")),t)},serialize:function(){var e=Ext.apply({},this.initialConfig);return e.value=this.value,e}},function(){this.prototype.operatorFns["=="]=this.prototype.operatorFns["="]}),Ext.define("Ext.util.AbstractMixedCollection",{mixins:{observable:Ext.util.Observable},isMixedCollection:!0,generation:0,indexGeneration:0,constructor:function(e,t){var n=this;1===arguments.length&&Ext.isObject(e)?(n.initialConfig=e,Ext.apply(n,e)):(n.allowFunctions=!0===e,t&&(n.getKey=t),n.initialConfig={allowFunctions:n.allowFunctions,getKey:n.getKey}),n.items=[],n.map={},n.keys=[],n.indexMap={},n.length=0,n.mixins.observable.constructor.call(n)},allowFunctions:!1,add:function(e,t){return this.insert(this.length,e,t)},getKey:function(e){return e.id},replace:function(e,t){var n,i,r=this;return 1==arguments.length&&(t=arguments[0],e=r.getKey(t)),n=r.map[e],null==e||void 0===n?r.add(e,t):(r.generation++,i=r.indexOfKey(e),r.items[i]=t,r.map[e]=t,r.hasListeners.replace&&r.fireEvent("replace",e,n,t),t)},updateKey:function(e,t){var n,i=this,r=i.map,o=i.indexMap,a=i.indexOfKey(e);a>-1&&(n=r[e],delete r[e],delete o[e],r[t]=n,o[t]=a,i.keys[a]=t,i.generation++)},addAll:function(e){var t,n=this;if(arguments.length>1||Ext.isArray(e))n.insert(n.length,arguments.length>1?arguments:e);else for(t in e)e.hasOwnProperty(t)&&(n.allowFunctions||"function"!=typeof e[t])&&n.add(t,e[t])},each:function(e,t){for(var n,i=Ext.Array.push([],this.items),r=0,o=i.length;r<o&&(n=i[r],!1!==e.call(t||n,n,r,o));r++);},eachKey:function(e,t){for(var n=this.keys,i=this.items,r=0,o=n.length;r<o;r++)e.call(t||window,n[r],i[r],r,o)},findBy:function(e,t){for(var n=this.keys,i=this.items,r=0,o=i.length;r<o;r++)if(e.call(t||window,i[r],n[r]))return i[r];return null},find:function(){return Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.util.MixedCollection: find has been deprecated. Use findBy instead."),this.findBy.apply(this,arguments)},insert:function(e,t,n){return Ext.isIterable(t)?this.doInsert(e,t,n):(n?this.doInsert(e,[t],[n]):this.doInsert(e,[t]))[0]},doInsert:function(e,t,n){var i,r,o,a,s=this,l=t.length,d=s.hasListeners.add;if(null!=n)s.useLinearSearch=!0;else for(n=t,t=new Array(l),o=0;o<l;o++)t[o]=this.getKey(n[o]);for(s.suspendEvents(),o=0;o<l;o++)-1!==(r=s.indexOfKey(t[o]))&&(r<e&&e--,s.removeAt(r));for(s.resumeEvents(),a=e===s.length&&s.indexGeneration===s.generation,Ext.Array.insert(s.items,e,n),Ext.Array.insert(s.keys,e,t),s.length+=l,s.generation++,a&&(s.indexGeneration=s.generation),o=0;o<l;o++,e++)null!=(i=t[o])&&(s.map[i]=n[o],a&&(s.indexMap[i]=e)),d&&s.fireEvent("add",e,n[o],i);return n},remove:function(e){var t,n,i=this;return-1!==(n=!i.useLinearSearch&&(t=i.getKey(e))?i.indexOfKey(t):Ext.Array.indexOf(i.items,e))&&i.removeAt(n)},removeAll:function(e){var t,n=this;if(e||n.hasListeners.remove)if(e)for(t=e.length-1;t>=0;--t)n.remove(e[t]);else for(;n.length;)n.removeAt(0);else n.length=n.items.length=n.keys.length=0,n.map={},n.indexMap={},n.generation++,n.indexGeneration=n.generation},removeAt:function(e){var t,n,i=this;return e<i.length&&e>=0&&(i.length--,t=i.items[e],Ext.Array.erase(i.items,e,1),void 0!==(n=i.keys[e])&&delete i.map[n],Ext.Array.erase(i.keys,e,1),i.hasListeners.remove&&i.fireEvent("remove",t,n),i.generation++,t)},removeRange:function(e,t){var n,i,r,o,a,s,l=this;if(e<l.length&&e>=0){for(t||(t=1),t=(o=Math.min(e+t,l.length))-e,a=(s=o===l.length)&&l.indexGeneration===l.generation,r=e;r<o;r++)null!=(i=l.keys[r])&&(delete l.map[i],a&&delete l.indexMap[i]);return n=l.items[r-1],l.length-=t,l.generation++,a&&(l.indexGeneration=l.generation),s?l.items.length=l.keys.length=l.length:(l.items.splice(e,t),l.keys.splice(e,t)),n}return!1},removeAtKey:function(e){var t,n=this,i=n.keys;if(null!=e)return n.removeAt(n.indexOfKey(e));for(t=i.length-1;t>=0;t--)null==i[t]&&n.removeAt(t)},getCount:function(){return this.length},indexOf:function(e){var t,n=this;return null!=e?!n.useLinearSearch&&(t=n.getKey(e))?this.indexOfKey(t):Ext.Array.indexOf(n.items,e):-1},indexOfKey:function(e){return null==this.map[e]?-1:(this.indexGeneration!==this.generation&&this.rebuildIndexMap(),this.indexMap[e])},rebuildIndexMap:function(){var e,t=this,n=t.indexMap={},i=this.keys,r=i.length;for(e=0;e<r;e++)n[i[e]]=e;t.indexGeneration=t.generation},get:function(e){var t=this,n=t.map[e],i=void 0!==n?n:"number"==typeof e?t.items[e]:void 0;return"function"!=typeof i||t.allowFunctions?i:null},getAt:function(e){return this.items[e]},getByKey:function(e){return this.map[e]},contains:function(e){var t;return null!=e&&(!this.useLinearSearch&&(t=this.getKey(e))?null!=this.map[t]:-1!==Ext.Array.indexOf(this.items,e))},containsKey:function(e){return null!=this.map[e]},clear:function(){var e=this;e.length=0,e.items=[],e.keys=[],e.map={},e.indexMap={},e.generation++,e.indexGeneration=e.generation,e.hasListeners.clear&&e.fireEvent("clear")},first:function(){return this.items[0]},last:function(){return this.items[this.length-1]},sum:function(e,t,n,i){var r,o=this.extractValues(e,t),a=o.length,s=0;for(i=i||0===i?i:a-1,r=n=n||0;r<=i;r++)s+=o[r];return s},collect:function(e,t,n){var i,r,o,a=this.extractValues(e,t),s=a.length,l={},d=[];for(o=0;o<s;o++)i=a[o],r=String(i),!n&&Ext.isEmpty(i)||l[r]||(l[r]=!0,d.push(i));return d},extractValues:function(e,t){var n=this.items;return t&&(n=Ext.Array.pluck(n,t)),Ext.Array.pluck(n,e)},hasRange:function(e,t){return t<this.length},getRange:function(e,t){var n,i=this,r=i.items,o=[];if(r.length<1)return o;if((e=e||0)<=(t=Math.min(null==t?i.length-1:t,i.length-1)))return r.slice(e,t+1);for(n=e;n>=t;n--)o[o.length]=r[n];return o},filter:function(e,t,n,i){var r=[];return Ext.isString(e)?r.push(new Ext.util.Filter({property:e,value:t,anyMatch:n,caseSensitive:i})):(Ext.isArray(e)||e instanceof Ext.util.Filter)&&(r=r.concat(e)),this.filterBy(Ext.util.Filter.createFilterFn(r))},filterBy:function(e,t){var n,i=this,r=new i.self(i.initialConfig),o=i.keys,a=i.items,s=a.length;for(r.getKey=i.getKey,n=0;n<s;n++)e.call(t||i,a[n],o[n])&&r.add(o[n],a[n]);return r},findIndex:function(e,t,n,i,r){return Ext.isEmpty(t,!1)?-1:(t=this.createValueMatcher(t,i,r),this.findIndexBy(function(n){return n&&t.test(n[e])},null,n))},findIndexBy:function(e,t,n){for(var i=this,r=i.keys,o=i.items,a=n||0,s=o.length;a<s;a++)if(e.call(t||i,o[a],r[a]))return a;return-1},createValueMatcher:function(e,t,n,i){if(!e.exec){var r=Ext.String.escapeRegex;e=String(e),!0===t?e=r(e):(e="^"+r(e),!0===i&&(e+="$")),e=new RegExp(e,n?"":"i")}return e},clone:function(){var e=this,t=new this.self(e.initialConfig);return t.add(e.keys,e.items),t}}),Ext.define("Ext.util.Sorter",{direction:"ASC",constructor:function(e){var t=this;Ext.apply(t,e),void 0===t.property&&void 0===t.sorterFn&&Ext.Error.raise("A Sorter requires either a property or a sorter function"),t.updateSortFunction()},createSortFunction:function(e){var t=this,n="DESC"==(t.direction||"ASC").toUpperCase()?-1:1;return function(i,r){return n*e.call(t,i,r)}},defaultSorterFn:function(e,t){var n=this,i=n.transform,r=n.getRoot(e)[n.property],o=n.getRoot(t)[n.property];return i&&(r=i(r),o=i(o)),r>o?1:r<o?-1:0},getRoot:function(e){return void 0===this.root?e:e[this.root]},setDirection:function(e){this.direction=e?e.toUpperCase():e,this.updateSortFunction()},toggle:function(){var e=this;e.direction=Ext.String.toggle(e.direction,"ASC","DESC"),e.updateSortFunction()},updateSortFunction:function(e){var t=this;e=e||t.sorterFn||t.defaultSorterFn,t.sort=t.createSortFunction(e)},serialize:function(){return{root:this.root,property:this.property,direction:this.direction}}}),Ext.define("Ext.util.Sortable",{isSortable:!0,defaultSortDirection:"ASC",statics:{createComparator:function(e){return e&&e.length?function(t,n){for(var i=e[0].sort(t,n),r=e.length,o=1;o<r;o++)i=i||e[o].sort.call(this,t,n);return i}:function(){return 0}}},initSortable:function(){var e=this,t=e.sorters;e.sorters=new Ext.util.AbstractMixedCollection(!1,function(e){return e.id||e.property}),t&&e.sorters.addAll(e.decodeSorters(t))},sort:function(e,t,n,i){var r,o,a=this;return Ext.isArray(e)?(i=n,n=t,o=e):Ext.isObject(e)?(i=n,n=t,o=[e]):Ext.isString(e)&&((r=a.sorters.get(e))?void 0===t?r.toggle():r.setDirection(t):o=[r={property:e,direction:t}]),o&&o.length&&(o=a.decodeSorters(o),Ext.isString(n)?"prepend"===n?a.sorters.insert(0,o):a.sorters.addAll(o):(a.sorters.clear(),a.sorters.addAll(o))),!1!==i&&(a.fireEvent("beforesort",a,o),a.onBeforeSort(o),(e=a.sorters.items).length&&a.doSort(a.generateComparator())),e},generateComparator:function(){var e=this.sorters.getRange();return e.length?this.createComparator(e):this.emptyComparator},emptyComparator:function(){return 0},onBeforeSort:Ext.emptyFn,decodeSorters:function(e){Ext.isArray(e)||(e=void 0===e?[]:[e]);var t,n,i,r=e.length,o=Ext.util.Sorter,a=this.model?this.model.prototype.fields:null;for(i=0;i<r;i++)(n=e[i])instanceof o||(Ext.isString(n)&&(n={property:n}),Ext.applyIf(n,{root:this.sortRoot,direction:"ASC"}),n.fn&&(n.sorterFn=n.fn),"function"==typeof n&&(n={sorterFn:n}),a&&!n.transform&&(t=a.get(n.property),n.transform=t&&t.sortType!==Ext.identityFn?t.sortType:void 0),e[i]=new Ext.util.Sorter(n));return e},getSorters:function(){return this.sorters.items},getFirstSorter:function(){for(var e,t=this.sorters.items,n=t.length,i=0;i<n;++i)if(!(e=t[i]).isGrouper)return e;return null}},function(){this.prototype.createComparator=this.createComparator}),Ext.define("Ext.util.MixedCollection",{extend:Ext.util.AbstractMixedCollection,mixins:{sortable:Ext.util.Sortable},constructor:function(){var e=this;e.callParent(arguments),e.addEvents("sort"),e.mixins.sortable.initSortable.call(e)},doSort:function(e){this.sortBy(e)},_sort:function(e,t,n){var i,r,o,a=this,s="DESC"==String(t).toUpperCase()?-1:1,l=[],d=a.keys,c=a.items;for(n=n||function(e,t){return e-t},i=0,r=c.length;i<r;i++)l[l.length]={key:d[i],value:c[i],index:i};for(Ext.Array.sort(c,function(t,i){return n(t[e],i[e])*s||(t.index<i.index?-1:1)}),i=0,r=l.length;i<r;i++)o=l[i],c[i]=o.value,d[i]=o.key,a.indexMap[o.key]=i;a.generation++,a.indexGeneration=a.generation,a.fireEvent("sort",a)},sortBy:function(e){var t,n,i,r=this,o=r.items,a=r.keys,s=o.length;for(i=0;i<s;i++)o[i].$extCollectionIndex=i;for(Ext.Array.sort(o,function(t,n){return e(t,n)||(t.$extCollectionIndex<n.$extCollectionIndex?-1:1)}),i=0;i<s;i++)t=o[i],n=r.getKey(t),a[i]=n,r.indexMap[n]=i,delete o.$extCollectionIndex;r.generation++,r.indexGeneration=r.generation,r.fireEvent("sort",r,o,a)},findInsertionIndex:function(e,t){var n,i,r=this.items,o=0,a=r.length-1;for(t||(t=this.generateComparator());o<=a;)(i=t(e,r[n=o+a>>1]))>=0?o=n+1:i<0&&(a=n-1);return o},reorder:function(e){var t,n=this,i=n.items,r=0,o=i.length,a=[],s=[];for(t in n.suspendEvents(),e)a[e[t]]=i[t];for(r=0;r<o;r++)null==e[r]&&s.push(i[r]);for(r=0;r<o;r++)null==a[r]&&(a[r]=s.shift());n.clear(),n.addAll(a),n.resumeEvents(),n.fireEvent("sort",n)},sortByKey:function(e,t){this._sort("key",e,t||function(e,t){var n=String(e).toUpperCase(),i=String(t).toUpperCase();return n>i?1:n<i?-1:0})}}),Ext.define("Ext.fx.target.Target",{isAnimTarget:!0,constructor:function(e){this.target=e,this.id=this.getId()},getId:function(){return this.target.id}}),Ext.define("Ext.fx.target.Element",{extend:Ext.fx.target.Target,type:"element",getElVal:function(e,t,n){return null==n&&(n="x"===t?e.getX():"y"===t?e.getY():"scrollTop"===t?e.getScroll().top:"scrollLeft"===t?e.getScroll().left:"height"===t?e.getHeight():"width"===t?e.getWidth():e.getStyle(t)),n},getAttr:function(e,t){var n=this.target;return[[n,this.getElVal(n,e,t)]]},setAttr:function(e){this.target;var t,n,i,r,o,a,s=e.length;for(r=0;r<s;r++)for(n in t=e[r].attrs)if(t.hasOwnProperty(n))for(a=t[n].length,o=0;o<a;o++)i=t[n][o],this.setElVal(i[0],n,i[1])},setElVal:function(e,t,n){"x"===t?e.setX(n):"y"===t?e.setY(n):"scrollTop"===t?e.scrollTo("top",n):"scrollLeft"===t?e.scrollTo("left",n):"width"===t?e.setWidth(n):"height"===t?e.setHeight(n):e.setStyle(t,n)}}),Ext.define("Ext.fx.target.ElementCSS",{extend:Ext.fx.target.Element,setAttr:function(e,t){var n,i,r,o,a,s,l,d,c,u={attrs:[],duration:[],easing:[]},h=e.length;for(l=0;l<h;l++)for(r in a=(i=e[l]).duration,o=i.easing,i=i.attrs)-1==Ext.Array.indexOf(u.attrs,r)&&(u.attrs.push(r.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()})),u.duration.push(a+"ms"),u.easing.push(o));for(n=u.attrs.join(","),a=u.duration.join(","),o=u.easing.join(", "),l=0;l<h;l++)for(r in i=e[l].attrs)for(c=i[r].length,d=0;d<c;d++)(s=i[r][d])[0].setStyle(Ext.supports.CSS3Prefix+"TransitionProperty",t?"":n),s[0].setStyle(Ext.supports.CSS3Prefix+"TransitionDuration",t?"":a),s[0].setStyle(Ext.supports.CSS3Prefix+"TransitionTimingFunction",t?"":o),s[0].setStyle(r,s[1]),t?s=s[0].dom.offsetWidth:s[0].on(Ext.supports.CSS3TransitionEnd,function(){this.setStyle(Ext.supports.CSS3Prefix+"TransitionProperty",null),this.setStyle(Ext.supports.CSS3Prefix+"TransitionDuration",null),this.setStyle(Ext.supports.CSS3Prefix+"TransitionTimingFunction",null)},s[0],{single:!0})}}),Ext.define("Ext.fx.target.CompositeElement",{extend:Ext.fx.target.Element,isComposite:!0,constructor:function(e){e.id=e.id||Ext.id(null,"ext-composite-"),this.callParent([e])},getAttr:function(e,t){var n,i,r=[],o=this.target,a=o.elements,s=a.length;for(n=0;n<s;n++)(i=a[n])&&(i=o.getElement(i),r.push([i,this.getElVal(i,e,t)]));return r},setAttr:function(e){var t,n,i,r,o,a,s,l=this.target,d=e.length,c=l.elements,u=c.length;for(o=0;o<d;o++)for(r in i=e[o].attrs)if(i.hasOwnProperty(r))for(s=i[r].length,a=0;a<s;a++)for(t=i[r][a][1],n=0;n<u;++n)el=c[n],el&&(el=l.getElement(el),this.setElVal(el,r,t))}}),Ext.define("Ext.fx.target.CompositeElementCSS",{extend:Ext.fx.target.CompositeElement,setAttr:function(){return Ext.fx.target.ElementCSS.prototype.setAttr.apply(this,arguments)}}),Ext.define("Ext.fx.target.Sprite",{extend:Ext.fx.target.Target,type:"draw",getFromPrim:function(e,t){var n;switch(t){case"rotate":case"rotation":return{x:(n=e.attr.rotation).x||0,y:n.y||0,degrees:n.degrees||0};case"scale":case"scaling":return{x:(n=e.attr.scaling).x||1,y:n.y||1,cx:n.cx||0,cy:n.cy||0};case"translate":case"translation":return{x:(n=e.attr.translation).x||0,y:n.y||0};default:return e.attr[t]}},getAttr:function(e,t){return[[this.target,null!=t?t:this.getFromPrim(this.target,e)]]},setAttr:function(e){var t,n,i,r,o,a,s,l,d,c,u,h,f=e.length,p=[];for(l=0;l<f;l++)for(n in t=e[l].attrs)for(h=(i=t[n]).length,d=0;d<h;d++)o=i[d][0],r=i[d][1],"translate"===n||"translation"===n?s={x:r.x,y:r.y}:"rotate"===n||"rotation"===n?(c=r.x,isNaN(c)&&(c=null),u=r.y,isNaN(u)&&(u=null),s={degrees:r.degrees,x:c,y:u}):"scale"===n||"scaling"===n?(c=r.x,isNaN(c)&&(c=null),u=r.y,isNaN(u)&&(u=null),s={x:c,y:u,cx:r.cx,cy:r.cy}):s="width"===n||"height"===n||"x"===n||"y"===n?parseFloat(r):r,-1==(a=Ext.Array.indexOf(p,o))&&(p.push([o,{}]),a=p.length-1),p[a][1][n]=s;for(f=p.length,l=0;l<f;l++)p[l][0].setAttributes(p[l][1]);this.target.redraw()}}),Ext.define("Ext.fx.target.CompositeSprite",{extend:Ext.fx.target.Sprite,getAttr:function(e,t){var n,i,r=[],o=[].concat(this.target.items),a=o.length;for(n=0;n<a;n++)i=o[n],r.push([i,null!=t?t:this.getFromPrim(i,e)]);return r}}),Ext.define("Ext.fx.target.Component",{extend:Ext.fx.target.Target,type:"component",getPropMethod:{top:function(){return this.getPosition(!0)[1]},left:function(){return this.getPosition(!0)[0]},x:function(){return this.getPosition()[0]},y:function(){return this.getPosition()[1]},height:function(){return this.getHeight()},width:function(){return this.getWidth()},opacity:function(){return this.el.getStyle("opacity")}},setMethods:{top:"setPosition",left:"setPosition",x:"setPagePosition",y:"setPagePosition",height:"setSize",width:"setSize",opacity:"setOpacity"},getAttr:function(e,t){return[[this.target,void 0!==t?t:this.getPropMethod[e].call(this.target)]]},setAttr:function(e,t,n){var i,r,o,a,s,l,d,c,u,h,f,p=this,g=e.length,m={};for(a=0;a<g;a++){for(r in i=e[a].attrs)for(l=i[r].length,s=0;s<l;s++)o=i[r][s],(f=m[p.setMethods[r]]||(m[p.setMethods[r]]={})).target=o[0],f[r]=o[1];m.setPosition&&(d=void 0===(o=m.setPosition).left?void 0:parseFloat(o.left),c=void 0===o.top?void 0:parseFloat(o.top),o.target.setPosition(d,c)),m.setPagePosition&&(o=m.setPagePosition).target.setPagePosition(o.x,o.y),m.setSize&&(u=void 0===(o=m.setSize).width?o.target.getWidth():parseFloat(o.width),h=void 0===o.height?o.target.getHeight():parseFloat(o.height),o.target.el.setSize(u,h),(n||p.dynamic)&&Ext.globalEvents.on({idle:Ext.Function.bind(o.target.setSize,o.target,[u,h]),single:!0})),m.setOpacity&&(o=m.setOpacity).target.el.setStyle("opacity",o.opacity)}}}),Ext.define("Ext.fx.Queue",{constructor:function(){this.targets=new Ext.util.HashMap,this.fxQueue={}},getFxDefaults:function(e){var t=this.targets.get(e);return t?t.fxDefaults:{}},setFxDefaults:function(e,t){var n=this.targets.get(e);n&&(n.fxDefaults=Ext.apply(n.fxDefaults||{},t))},stopAnimation:function(e){for(var t=this.getFxQueue(e),n=t.length;n;)t[n-1].end(),n--},getActiveAnimation:function(e){var t=this.getFxQueue(e);return!(!t||!t.length)&&t[0]},hasFxBlock:function(e){var t=this.getFxQueue(e);return t&&t[0]&&t[0].block},getFxQueue:function(e){if(!e)return!1;var t=this,n=t.fxQueue[e],i=t.targets.get(e);return!!i&&(n||(t.fxQueue[e]=[],"element"!=i.type&&i.target.on("destroy",function(){t.fxQueue[e]=[]})),t.fxQueue[e])},queueFx:function(e){var t,n,i=e.target;i&&((n=(t=this.getFxQueue(i.getId())).length)?e.concurrent?e.paused=!1:t[n-1].on("afteranimate",function(){e.paused=!1}):e.paused=!1,e.on("afteranimate",function(){if(Ext.Array.remove(t,e),e.remove&&"element"==i.type){var n=Ext.get(i.id);n&&n.remove()}},this),t.push(e))}}),Ext.define("Ext.fx.Manager",{singleton:!0,mixins:{queue:Ext.fx.Queue},constructor:function(){var e=this;e.items=new Ext.util.MixedCollection,e.mixins.queue.constructor.call(e),e.taskRunner=new Ext.util.TaskRunner},interval:16,forceJS:!0,createTarget:function(e){var t,n=this,i=!n.forceJS&&Ext.supports.Transitions;if(n.useCSS3=i,e){if(e.tagName||Ext.isString(e)||e.isFly)e=Ext.get(e),t=new Ext.fx.target["Element"+(i?"CSS":"")](e);else if(e.dom)t=new Ext.fx.target["Element"+(i?"CSS":"")](e);else if(e.isComposite)t=new Ext.fx.target["CompositeElement"+(i?"CSS":"")](e);else if(e.isSprite)t=new Ext.fx.target.Sprite(e);else if(e.isCompositeSprite)t=new Ext.fx.target.CompositeSprite(e);else{if(!e.isComponent)return e.isAnimTarget?e:null;t=new Ext.fx.target.Component(e)}return n.targets.add(t),t}return null},addAnim:function(e){var t=this,n=t.items,i=t.task;n.add(e.id,e),!i&&n.length&&(i=t.task={run:t.runner,interval:t.interval,scope:t},t.taskRunner.start(i))},removeAnim:function(e){var t=this,n=t.items,i=t.task;n.removeAtKey(e.id),i&&!n.length&&(t.taskRunner.stop(i),delete t.task)},runner:function(){var e,t=this,n=t.items.getRange(),i=0,r=n.length;for(t.targetArr={},t.timestamp=new Date;i<r;i++)(e=n[i]).isReady()&&t.startAnim(e);for(i=0;i<r;i++)(e=n[i]).isRunning()?t.runAnim(e):t.useCSS3;t.applyPendingAttrs()},startAnim:function(e){e.start(this.timestamp)},runAnim:function(e){if(e){var t,n,i=this,r=i.useCSS3&&"element"==e.target.type,o=i.timestamp-e.startTime,a=o>=e.duration;t=this.collectTargetData(e,o,r,a),r&&(e.target.setAttr(t.anims[e.id].attributes,!0),i.collectTargetData(e,e.duration,r,a),e.paused=!0,t=e.target.target,e.target.isComposite&&(t=e.target.target.last()),(n={})[Ext.supports.CSS3TransitionEnd]=e.lastFrame,n.scope=e,n.single=!0,t.on(n))}},collectTargetData:function(e,t,n,i){var r=e.target.getId(),o=this.targetArr[r];return o||(o=this.targetArr[r]={id:r,el:e.target,anims:{}}),o.anims[e.id]={id:e.id,anim:e,elapsed:t,isLastFrame:i,attributes:[{duration:e.duration,easing:n&&e.reverse?e.easingFn.reverse().toCSS3():e.easing,attrs:e.runAnim(t)}]},o},applyPendingAttrs:function(){var e,t,n,i,r,o=this.targetArr;for(t in o)if(o.hasOwnProperty(t))for(r in(e=o[t]).anims)e.anims.hasOwnProperty(r)&&(i=(n=e.anims[r]).anim,n.attributes&&i.isRunning()&&(e.el.setAttr(n.attributes,!1,n.isLastFrame),n.isLastFrame&&i.lastFrame()))}}),Ext.define("Ext.fx.Animator",{mixins:{observable:Ext.util.Observable},isAnimator:!0,duration:250,delay:0,delayStart:0,dynamic:!1,easing:"ease",running:!1,paused:!1,damper:1,iterations:1,currentIteration:0,keyframeStep:0,animKeyFramesRE:/^(from|to|\d+%?)$/,constructor:function(e){var t=this;e=Ext.apply(t,e||{}),t.config=e,t.id=Ext.id(null,"ext-animator-"),t.addEvents("beforeanimate","keyframe","afteranimate"),t.mixins.observable.constructor.call(t,e),t.timeline=[],t.createTimeline(t.keyframes),t.target&&(t.applyAnimator(t.target),Ext.fx.Manager.addAnim(t))},sorter:function(e,t){return e.pct-t.pct},createTimeline:function(e){var t,n,i,r,o,a,s=this,l=[],d=s.to||{},c=s.duration;for(o in e)e.hasOwnProperty(o)&&s.animKeyFramesRE.test(o)&&(a={attrs:Ext.apply(e[o],d)},"from"==o?o=0:"to"==o&&(o=100),a.pct=parseInt(o,10),l.push(a));for(Ext.Array.sort(l,s.sorter),r=l.length,i=0;i<r;i++)t=l[i-1]?c*(l[i-1].pct/100):0,n=c*(l[i].pct/100),s.timeline.push({duration:n-t,attrs:l[i].attrs})},applyAnimator:function(e){var t,n,i,r,o,a=this,s=[],l=a.timeline,d=l.length;if(!1!==a.fireEvent("beforeanimate",a)){for(o=0;o<d;o++)n=(r=(t=l[o]).attrs).easing||a.easing,i=r.damper||a.damper,delete r.easing,delete r.damper,t=new Ext.fx.Anim({target:e,easing:n,damper:i,duration:t.duration,paused:!0,to:r}),s.push(t);for(a.animations=s,a.target=t.target,o=0;o<d-1;o++)(t=s[o]).nextAnim=s[o+1],t.on("afteranimate",function(){this.nextAnim.paused=!1}),t.on("afteranimate",function(){this.fireEvent("keyframe",this,++this.keyframeStep)},a);s[d-1].on("afteranimate",function(){this.lastFrame()},a)}},start:function(e){var t=this,n=t.delay,i=t.delayStart;if(n){if(!i)return void(t.delayStart=e);if(e-i<n)return;e=new Date(i.getTime()+n)}!1!==t.fireEvent("beforeanimate",t)&&(t.startTime=e,t.running=!0,t.animations[t.keyframeStep].paused=!1)},lastFrame:function(){var e=this,t=e.iterations,n=e.currentIteration;++n<t?(e.startTime=new Date,e.currentIteration=n,e.keyframeStep=0,e.applyAnimator(e.target),e.animations[e.keyframeStep].paused=!1):(e.currentIteration=0,e.end())},end:function(){var e=this;e.fireEvent("afteranimate",e,e.startTime,new Date-e.startTime)},isReady:function(){return!1===this.paused&&!1===this.running&&this.iterations>0},isRunning:function(){return!1}}),Ext.define("Ext.fx.CubicBezier",{singleton:!0,cubicBezierAtTime:function(e,t,n,i,r,o){var a,s=3*t,l=3*(i-t)-s,d=1-s-l,c=3*n,u=3*(r-n)-c,h=1-c-u;function f(e){return((d*e+l)*e+s)*e}return a=function(e,t){var n,i,r,o,a,c;for(r=e,c=0;c<8;c++){if(o=f(r)-e,Math.abs(o)<t)return r;if(a=(3*d*r+2*l)*r+s,Math.abs(a)<1e-6)break;r-=o/a}if(i=1,(r=e)<(n=0))return n;if(r>i)return i;for(;n<i;){if(o=f(r),Math.abs(o-e)<t)return r;e>o?n=r:i=r,r=(i-n)/2+n}return r}(e,1/(200*o)),((h*a+u)*a+c)*a},cubicBezier:function(e,t,n,i){var r=function(r){return Ext.fx.CubicBezier.cubicBezierAtTime(r,e,t,n,i,1)};return r.toCSS3=function(){return"cubic-bezier("+[e,t,n,i].join(",")+")"},r.reverse=function(){return Ext.fx.CubicBezier.cubicBezier(1-n,1-i,1-e,1-t)},r}}),Ext.require("Ext.fx.CubicBezier",function(){var e=Math,t=e.PI,n=e.pow,i=e.sin,r=e.sqrt,o=e.abs,a=1.70158;Ext.define("Ext.fx.Easing",{singleton:!0,linear:Ext.identityFn,ease:function(e){var t=.07813-e/2,i=r(.0066+t*t),a=i-t,s=-i-t,l=n(o(a),1/3)*(a<0?-1:1)+n(o(s),1/3)*(s<0?-1:1)+.25;return 3*n(1-l,2)*l*.1+3*(1-l)*l*l+l*l*l},easeIn:function(e){return n(e,1.7)},easeOut:function(e){return n(e,.48)},easeInOut:function(e){var t=.48-e/1.04,i=r(.1734+t*t),a=i-t,s=-i-t,l=n(o(a),1/3)*(a<0?-1:1)+n(o(s),1/3)*(s<0?-1:1)+.5;return 3*(1-l)*l*l+l*l*l},backIn:function(e){return e*e*((a+1)*e-a)},backOut:function(e){return(e-=1)*e*((a+1)*e+a)+1},elasticIn:function(e){if(0===e||1===e)return e;return n(2,-10*e)*i(2*(e-.075)*t/.3)+1},elasticOut:function(e){return 1-Ext.fx.Easing.elasticIn(1-e)},bounceIn:function(e){return 1-Ext.fx.Easing.bounceOut(1-e)},bounceOut:function(e){var t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375}},function(){var e=Ext.fx.Easing.self,t=e.prototype;e.implement({"back-in":t.backIn,"back-out":t.backOut,"ease-in":t.easeIn,"ease-out":t.easeOut,"elastic-in":t.elasticIn,"elastic-out":t.elasticOut,"bounce-in":t.bounceIn,"bounce-out":t.bounceOut,"ease-in-out":t.easeInOut})})}),Ext.define("Ext.draw.Color",{colorToHexRe:/(.*?)rgb\((\d+),\s*(\d+),\s*(\d+)\)/,rgbRe:/\s*rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)\s*/,hexRe:/\s*#([0-9a-fA-F][0-9a-fA-F]?)([0-9a-fA-F][0-9a-fA-F]?)([0-9a-fA-F][0-9a-fA-F]?)\s*/,lightnessFactor:.2,constructor:function(e,t,n){var i=this,r=Ext.Number.constrain;i.r=r(e,0,255),i.g=r(t,0,255),i.b=r(n,0,255)},getRed:function(){return this.r},getGreen:function(){return this.g},getBlue:function(){return this.b},getRGB:function(){var e=this;return[e.r,e.g,e.b]},getHSL:function(){var e,t=this,n=t.r/255,i=t.g/255,r=t.b/255,o=Math.max(n,i,r),a=Math.min(n,i,r),s=o-a,l=0,d=.5*(o+a);return a!=o&&(l=d<.5?s/(o+a):s/(2-o-a),(e=n==o?60*(i-r)/s:i==o?120+60*(r-n)/s:240+60*(n-i)/s)<0&&(e+=360),e>=360&&(e-=360)),[e,l,d]},getLighter:function(e){var t=this.getHSL();return e=e||this.lightnessFactor,t[2]=Ext.Number.constrain(t[2]+e,0,1),this.fromHSL(t[0],t[1],t[2])},getDarker:function(e){return e=e||this.lightnessFactor,this.getLighter(-e)},toString:function(){var e=this,t=Math.round,n=t(e.r).toString(16),i=t(e.g).toString(16),r=t(e.b).toString(16);return["#",n=1==n.length?"0"+n:n,i=1==i.length?"0"+i:i,r=1==r.length?"0"+r:r].join("")},toHex:function(e){if(Ext.isArray(e)&&(e=e[0]),!Ext.isString(e))return"";if("#"===e.substr(0,1))return e;var t,n,i,r=this.colorToHexRe.exec(e);return Ext.isArray(r)?(t=parseInt(r[2],10),n=parseInt(r[3],10),i=parseInt(r[4],10)|n<<8|t<<16,r[1]+"#"+("000000"+i.toString(16)).slice(-6)):e},fromString:function(e){var t,n,i,r,o=parseInt;return 4!=e.length&&7!=e.length||"#"!==e.substr(0,1)?(t=e.match(this.rgbRe))&&(n=t[1],i=t[2],r=t[3]):(t=e.match(this.hexRe))&&(n=o(t[1],16)>>0,i=o(t[2],16)>>0,r=o(t[3],16)>>0,4==e.length&&(n+=16*n,i+=16*i,r+=16*r)),void 0===n?void 0:new Ext.draw.Color(n,i,r)},getGrayscale:function(){return.3*this.r+.59*this.g+.11*this.b},fromHSL:function(e,t,n){var i,r,o,a=[],s=Math.abs,l=Math.floor;if(0==t||null==e)a=[n,n,n];else{switch(e/=60,r=(i=t*(1-s(2*n-1)))*(1-s(e-2*l(e/2)-1)),o=n-i/2,l(e)){case 0:a=[i,r,0];break;case 1:a=[r,i,0];break;case 2:a=[0,i,r];break;case 3:a=[0,r,i];break;case 4:a=[r,0,i];break;case 5:a=[i,0,r]}a=[a[0]+o,a[1]+o,a[2]+o]}return new Ext.draw.Color(255*a[0],255*a[1],255*a[2])}},function(){var e=this.prototype;this.addStatics({fromHSL:function(){return e.fromHSL.apply(e,arguments)},fromString:function(){return e.fromString.apply(e,arguments)},toHex:function(){return e.toHex.apply(e,arguments)}})}),Ext.define("Ext.draw.Draw",{singleton:!0,pathToStringRE:/,?([achlmqrstvxz]),?/gi,pathCommandRE:/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/gi,pathValuesRE:/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/gi,stopsRE:/^(\d+%?)$/,radian:Math.PI/180,availableAnimAttrs:{along:"along",blur:null,"clip-rect":"csv",cx:null,cy:null,fill:"color","fill-opacity":null,"font-size":null,height:null,opacity:null,path:"path",r:null,rotation:"csv",rx:null,ry:null,scale:"csv",stroke:"color","stroke-opacity":null,"stroke-width":null,translation:"csv",width:null,x:null,y:null},is:function(e,t){return"object"==(t=String(t).toLowerCase())&&e===Object(e)||"undefined"==t&&typeof e==t||"null"==t&&null===e||"array"==t&&Array.isArray&&Array.isArray(e)||Object.prototype.toString.call(e).toLowerCase().slice(8,-1)==t},ellipsePath:function(e){var t=e.attr;return Ext.String.format("M{0},{1}A{2},{3},0,1,1,{0},{4}A{2},{3},0,1,1,{0},{1}z",t.x,t.y-t.ry,t.rx,t.ry,t.y+t.ry)},rectPath:function(e){var t=e.attr;return t.radius?Ext.String.format("M{0},{1}l{2},0a{3},{3},0,0,1,{3},{3}l0,{5}a{3},{3},0,0,1,{4},{3}l{6},0a{3},{3},0,0,1,{4},{4}l0,{7}a{3},{3},0,0,1,{3},{4}z",t.x+t.radius,t.y,t.width-2*t.radius,t.radius,-t.radius,t.height-2*t.radius,2*t.radius-t.width,2*t.radius-t.height):Ext.String.format("M{0},{1}L{2},{1},{2},{3},{0},{3}z",t.x,t.y,t.width+t.x,t.height+t.y)},path2string:function(){return this.join(",").replace(Ext.draw.Draw.pathToStringRE,"$1")},pathToString:function(e){return e.join(",").replace(Ext.draw.Draw.pathToStringRE,"$1")},parsePathString:function(e){if(!e)return null;var t={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},n=[],i=this;return i.is(e,"array")&&i.is(e[0],"array")&&(n=i.pathClone(e)),n.length||String(e).replace(i.pathCommandRE,function(e,r,o){var a=[],s=r.toLowerCase();for(o.replace(i.pathValuesRE,function(e,t){t&&a.push(+t)}),"m"==s&&a.length>2&&(n.push([r].concat(Ext.Array.splice(a,0,2))),s="l",r="m"==r?"l":"L");a.length>=t[s]&&(n.push([r].concat(Ext.Array.splice(a,0,t[s]))),t[s]););}),n.toString=i.path2string,n},mapPath:function(e,t){if(!t)return e;var n,i,r,o,a,s,l;for(r=0,o=(e=this.path2curve(e)).length;r<o;r++)for(a=1,s=(l=e[r]).length;a<s-1;a+=2)n=t.x(l[a],l[a+1]),i=t.y(l[a],l[a+1]),l[a]=n,l[a+1]=i;return e},pathClone:function(e){var t,n,i,r,o=[];for(this.is(e,"array")&&this.is(e&&e[0],"array")||(e=this.parsePathString(e)),i=0,r=e.length;i<r;i++)for(o[i]=[],t=0,n=e[i].length;t<n;t++)o[i][t]=e[i][t];return o.toString=this.path2string,o},pathToAbsolute:function(e){this.is(e,"array")&&this.is(e&&e[0],"array")||(e=this.parsePathString(e));var t,n,i,r,o=[],a=0,s=0,l=0,d=0,c=0,u=e.length;for(u&&"M"==e[0][0]&&(l=a=+e[0][1],d=s=+e[0][2],c++,o[0]=["M",a,s]);c<u;c++){if(t=o[c]=[],(n=e[c])[0]!=n[0].toUpperCase())switch(t[0]=n[0].toUpperCase(),t[0]){case"A":t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=+(n[6]+a),t[7]=+(n[7]+s);break;case"V":t[1]=+n[1]+s;break;case"H":t[1]=+n[1]+a;break;case"M":l=+n[1]+a,d=+n[2]+s;default:for(i=1,r=n.length;i<r;i++)t[i]=+n[i]+(i%2?a:s)}else for(i=0,r=n.length;i<r;i++)o[c][i]=n[i];switch(t[0]){case"Z":a=l,s=d;break;case"H":a=t[1];break;case"V":s=t[1];break;case"M":l=(n=o[c])[(r=n.length)-2],d=n[r-1];default:a=(n=o[c])[(r=n.length)-2],s=n[r-1]}}return o.toString=this.path2string,o},pathToRelative:function(e){this.is(e,"array")&&this.is(e&&e[0],"array")||(e=this.parsePathString(e));var t,n,i,r,o,a,s,l,d,c=[],u=0,h=0,f=0,p=0,g=0;for("M"==e[0][0]&&(f=u=e[0][1],p=h=e[0][2],g++,c.push(["M",u,h])),i=g,s=e.length;i<s;i++){if(t=c[i]=[],(n=e[i])[0]!=n[0].toLowerCase())switch(t[0]=n[0].toLowerCase(),t[0]){case"a":t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=+(n[6]-u).toFixed(3),t[7]=+(n[7]-h).toFixed(3);break;case"v":t[1]=+(n[1]-h).toFixed(3);break;case"m":f=n[1],p=n[2];default:for(r=1,l=n.length;r<l;r++)t[r]=+(n[r]-(r%2?u:h)).toFixed(3)}else for(t=c[i]=[],"m"==n[0]&&(f=n[1]+u,p=n[2]+h),o=0,d=n.length;o<d;o++)c[i][o]=n[o];switch(a=c[i].length,c[i][0]){case"z":u=f,h=p;break;case"h":u+=+c[i][a-1];break;case"v":h+=+c[i][a-1];break;default:u+=+c[i][a-2],h+=+c[i][a-1]}}return c.toString=this.path2string,c},path2curve:function(e){var t,n,i,r,o=this.pathToAbsolute(e),a=o.length,s={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};for(t=0;t<a;t++){if(o[t]=this.command2curve(o[t],s),o[t].length>7){for(o[t].shift(),r=o[t];r.length;)Ext.Array.splice(o,t++,0,["C"].concat(Ext.Array.splice(r,0,6)));Ext.Array.erase(o,t,1),a=o.length,t--}i=(n=o[t]).length,s.x=n[i-2],s.y=n[i-1],s.bx=parseFloat(n[i-4])||s.x,s.by=parseFloat(n[i-3])||s.y}return o},interpolatePaths:function(e,t){var n,i,r,o,a,s,l=this,d=l.pathToAbsolute(e),c=l.pathToAbsolute(t),u={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},h={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},f=function(e,t){if(e[t].length>7){e[t].shift();for(var n=e[t];n.length;)Ext.Array.splice(e,t++,0,["C"].concat(Ext.Array.splice(n,0,6)));Ext.Array.erase(e,t,1),i=Math.max(d.length,c.length||0)}},p=function(e,t,n,r,o){e&&t&&"M"==e[o][0]&&"M"!=t[o][0]&&(Ext.Array.splice(t,o,0,["M",r.x,r.y]),n.bx=0,n.by=0,n.x=e[o][1],n.y=e[o][2],i=Math.max(d.length,c.length||0))};for(n=0,i=Math.max(d.length,c.length||0);n<i;n++)d[n]=l.command2curve(d[n],u),f(d,n),c[n]=l.command2curve(c[n],h),f(c,n),p(d,c,u,h,n),p(c,d,h,u,n),r=d[n],o=c[n],a=r.length,s=o.length,u.x=r[a-2],u.y=r[a-1],u.bx=parseFloat(r[a-4])||u.x,u.by=parseFloat(r[a-3])||u.y,h.bx=parseFloat(o[s-4])||h.x,h.by=parseFloat(o[s-3])||h.y,h.x=o[s-2],h.y=o[s-1];return[d,c]},command2curve:function(e,t){var n=this;if(!e)return["C",t.x,t.y,t.x,t.y,t.x,t.y];switch("T"!=e[0]&&"Q"!=e[0]&&(t.qx=t.qy=null),e[0]){case"M":t.X=e[1],t.Y=e[2];break;case"A":e=["C"].concat(n.arc2curve.apply(n,[t.x,t.y].concat(e.slice(1))));break;case"S":e=["C",t.x+(t.x-(t.bx||t.x)),t.y+(t.y-(t.by||t.y))].concat(e.slice(1));break;case"T":t.qx=t.x+(t.x-(t.qx||t.x)),t.qy=t.y+(t.y-(t.qy||t.y)),e=["C"].concat(n.quadratic2curve(t.x,t.y,t.qx,t.qy,e[1],e[2]));break;case"Q":t.qx=e[1],t.qy=e[2],e=["C"].concat(n.quadratic2curve(t.x,t.y,e[1],e[2],e[3],e[4]));break;case"L":e=["C"].concat(t.x,t.y,e[1],e[2],e[1],e[2]);break;case"H":e=["C"].concat(t.x,t.y,e[1],t.y,e[1],t.y);break;case"V":e=["C"].concat(t.x,t.y,t.x,e[1],t.x,e[1]);break;case"Z":e=["C"].concat(t.x,t.y,t.X,t.Y,t.X,t.Y)}return e},quadratic2curve:function(e,t,n,i,r,o){var a=1/3,s=2/3;return[a*e+s*n,a*t+s*i,a*r+s*n,a*o+s*i,r,o]},rotate:function(e,t,n){var i=Math.cos(n),r=Math.sin(n);return{x:e*i-t*r,y:e*r+t*i}},arc2curve:function(e,t,n,i,r,o,a,s,l,d){var c,u,h,f,p,g,m,x,y,E,v,b,C,w,S,I,M,P,T,k,D,A,F,L,O,R,N,B,H,z=this,W=Math.PI,U=120*W/180,X=z.radian*(+r||0),j=[],_=Math,Y=_.cos,V=_.sin,q=_.sqrt,$=_.abs,G=_.asin;if(d?(E=d[0],v=d[1],x=d[2],y=d[3]):(e=(c=z.rotate(e,t,-X)).x,t=c.y,(f=(u=(e-(s=(c=z.rotate(s,l,-X)).x))/2)*u/(n*n)+(h=(t-(l=c.y))/2)*h/(i*i))>1&&(n*=f=q(f),i*=f),x=(m=(o==a?-1:1)*q($(((p=n*n)*(g=i*i)-p*h*h-g*u*u)/(p*h*h+g*u*u))))*n*h/i+(e+s)/2,E=G(((t-(y=m*-i*u/n+(t+l)/2))/i).toFixed(7)),v=G(((l-y)/i).toFixed(7)),(E=e<x?W-E:E)<0&&(E=2*W+E),(v=s<x?W-v:v)<0&&(v=2*W+v),a&&E>v&&(E-=2*W),!a&&v>E&&(v-=2*W)),$(b=v-E)>U&&(N=v,B=s,H=l,s=x+n*Y(v=E+U*(a&&v>E?1:-1)),l=y+i*V(v),j=z.arc2curve(s,l,n,i,r,0,a,B,H,[v,N,x,y])),b=v-E,C=Y(E),w=V(E),S=Y(v),I=V(v),A=[s+(P=4/3*n*(M=_.tan(b/4)))*I,l-(T=4/3*i*M)*S],F=[s,l],(D=[e+P*w,t-T*C])[0]=2*(k=[e,t])[0]-D[0],D[1]=2*k[1]-D[1],d)return[D,A,F].concat(j);for(L=[],R=(j=[D,A,F].concat(j).join().split(",")).length,O=0;O<R;O++)L[O]=O%2?z.rotate(j[O-1],j[O],X).y:z.rotate(j[O],j[O+1],X).x;return L},rotateAndTranslatePath:function(e){var t,n,i,r,o,a=e.rotation.degrees,s=e.rotation.x,l=e.rotation.y,d=e.translation.x,c=e.translation.y,u=[];if(!a&&!d&&!c)return this.pathToAbsolute(e.attr.path);for(d=d||0,c=c||0,n=(t=this.pathToAbsolute(e.attr.path)).length;n--;)if("A"==(i=u[n]=t[n].slice())[0])r=this.rotatePoint(i[6],i[7],a,s,l),i[6]=r.x+d,i[7]=r.y+c;else for(o=1;null!=i[o+1];)r=this.rotatePoint(i[o],i[o+1],a,s,l),i[o]=r.x+d,i[o+1]=r.y+c,o+=2;return u},rotatePoint:function(e,t,n,i,r){if(!n)return{x:e,y:t};e-=i=i||0,t-=r=r||0,n*=this.radian;var o=Math.cos(n),a=Math.sin(n);return{x:e*o-t*a+i,y:e*a+t*o+r}},pathDimensions:function(e){if(!(e&&e+""))return{x:0,y:0,width:0,height:0};for(var t,n,i,r,o,a,s=0,l=0,d=[],c=[],u=0,h=(e=this.path2curve(e)).length;u<h;u++)"M"==(t=e[u])[0]?(s=t[1],l=t[2],d.push(s),c.push(l)):(a=this.curveDim(s,l,t[1],t[2],t[3],t[4],t[5],t[6]),d=d.concat(a.min.x,a.max.x),c=c.concat(a.min.y,a.max.y),s=t[5],l=t[6]);return n=Math.min.apply(0,d),i=Math.min.apply(0,c),r=Math.max.apply(0,d),o=Math.max.apply(0,c),{x:Math.round(n),y:Math.round(i),path:e,width:Math.round(r-n),height:Math.round(o-i)}},intersectInside:function(e,t,n){return(n[0]-t[0])*(e[1]-t[1])>(n[1]-t[1])*(e[0]-t[0])},intersectIntersection:function(e,t,n,i){var r=[],o=n[0]-i[0],a=n[1]-i[1],s=e[0]-t[0],l=e[1]-t[1],d=n[0]*i[1]-n[1]*i[0],c=e[0]*t[1]-e[1]*t[0],u=1/(o*l-a*s);return r[0]=(d*s-c*o)*u,r[1]=(d*l-c*a)*u,r},intersect:function(e,t){for(var n,i,r,o,a,s,l=this,d=0,c=t.length,u=t[c-1],h=e;d<c;++d){for(n=t[d],a=h,h=[],i=a[a.length-1],s=0,o=a.length;s<o;s++)r=a[s],l.intersectInside(r,u,n)?(l.intersectInside(i,u,n)||h.push(l.intersectIntersection(i,r,u,n)),h.push(r)):l.intersectInside(i,u,n)&&h.push(l.intersectIntersection(i,r,u,n)),i=r;u=n}return h},bezier:function(e,t,n,i,r){if(0===r)return e;if(1===r)return i;var o=1-r,a=r/o;return o*o*o*(e+a*(3*t+a*(3*n+i*a)))},bezierDim:function(e,t,n,i){var r,o,a,s,l,d,c,u,h,f=[];for(e+3*n==i+3*t?(r=e-t,(r/=2*(e-t-t+n))<1&&r>0&&f.push(r)):(l=(o=e-3*t+3*n-i)+o,0===(s=(a=2*(e-t-t+n))*a-4*o*(e-t))?(r=a/l)<1&&r>0&&f.push(r):s>0&&((r=((d=Math.sqrt(s))+a)/l)<1&&r>0&&f.push(r),(r=(a-d)/l)<1&&r>0&&f.push(r))),c=Math.min(e,i),u=Math.max(e,i),h=0;h<f.length;h++)c=Math.min(c,this.bezier(e,t,n,i,f[h])),u=Math.max(u,this.bezier(e,t,n,i,f[h]));return[c,u]},curveDim:function(e,t,n,i,r,o,a,s){var l=this.bezierDim(e,n,r,a),d=this.bezierDim(t,i,o,s);return{min:{x:l[0],y:d[0]},max:{x:l[1],y:d[1]}}},getAnchors:function(e,t,n,i,r,o,a){a=a||4;var s,l,d,c,u,h,f,p,g,m=Math,x=m.PI,y=x/2,E=m.abs,v=m.sin,b=m.cos,C=m.atan;return s=(n-e)/a,l=(r-n)/a,i>=t&&i>=o||i<=t&&i<=o?d=c=y:(d=C((n-e)/E(i-t)),t<i&&(d=x-d),c=C((r-n)/E(i-o)),o<i&&(c=x-c)),(g=y-(d+c)%(2*x)/2)>y&&(g-=x),c+=g,u=n-s*v(d+=g),h=i+s*b(d),f=n+l*v(c),p=i+l*b(c),(i>t&&h<t||i<t&&h>t)&&(u+=E(t-h)*(u-n)/(h-i),h=t),(i>o&&p<o||i<o&&p>o)&&(f-=E(o-p)*(f-n)/(p-i),p=o),{x1:u,y1:h,x2:f,y2:p}},smooth:function(e,t){for(var n,i,r,o,a,s,l,d,c,u=this.path2curve(e),h=[u[0]],f=u[0][1],p=u[0][2],g=1,m=u.length,x=1,y=f,E=p;g<m;g++)if(o=(r=u[g]).length,s=(a=u[g-1]).length,d=(l=u[g+1])&&l.length,"M"!=r[0])r[o-2]!=y||r[o-1]!=E||l&&"M"!=l[0]?i=l&&"M"!=l[0]?this.getAnchors(a[s-2],a[s-1],r[o-2],r[o-1],l[d-2],l[d-1],t):{x1:r[o-2],y1:r[o-1]}:(c=h[x].length,i=this.getAnchors(a[s-2],a[s-1],y,E,h[x][c-2],h[x][c-1],t),h[x][1]=i.x2,h[x][2]=i.y2),h.push(["C",f,p,i.x1,i.y1,r[o-2],r[o-1]]),f=i.x2,p=i.y2;else{for(y=r[1],E=r[2],n=g+1;"C"!=u[n][0];)n++;h.push(["M",y,E]),x=h.length,f=y,p=E}return h},findDotAtSegment:function(e,t,n,i,r,o,a,s,l){var d=1-l;return{x:Math.pow(d,3)*e+3*Math.pow(d,2)*l*n+3*d*l*l*r+Math.pow(l,3)*a,y:Math.pow(d,3)*t+3*Math.pow(d,2)*l*i+3*d*l*l*o+Math.pow(l,3)*s}},snapEnds:function(e,t,n,i){if(Ext.isDate(e))return this.snapEndsByDate(e,t,n);var r,o,a,s,l,d,c=(t-e)/n,u=Math.floor(Math.log(c)/Math.LN10)+1,h=Math.pow(10,u),f=Math.round(c%h*Math.pow(10,2-u)),p=[[0,15],[10,1],[20,4],[25,2],[50,9],[100,15]],g=0,m=1e9,x=p.length;if(e==(o=Math.floor(e/h)*h)&&o>0&&(o=Math.floor((e-h/10)/h)*h),i){for(l=0;l<x;l++)(s=(a=p[l][0])-f<0?1e6:(a-f)/p[l][1])<m&&(d=a,m=s);if(c=Math.floor(c*Math.pow(10,-u))*Math.pow(10,u)+d*Math.pow(10,u-2),e<0&&t>=0){for(r=0;r>e;)r-=c,g++;for(e=+r.toFixed(10),r=0;r<t;)r+=c,g++;t=+r.toFixed(10)}else for(r=e=o;r<t;)r+=c,g++;t=+r.toFixed(10)}else e=o,g=n;return{from:e,to:t,power:u,step:c,steps:g}},snapEndsByDate:function(e,t,n,i){var r,o,a,s,l=!1,d=[[Ext.Date.MILLI,[1,2,5,10,20,50,100,200,250,500]],[Ext.Date.SECOND,[1,2,5,10,15,30]],[Ext.Date.MINUTE,[1,2,5,10,15,30]],[Ext.Date.HOUR,[1,2,3,4,6,12]],[Ext.Date.DAY,[1,2,7,14]],[Ext.Date.MONTH,[1,2,3,6]]],c=d.length,u=!1;for(s=0;s<c;s++)if(r=d[s],!u)for(o=0;o<r[1].length;o++)if(t<Ext.Date.add(e,r[0],r[1][o]*n)){l=[r[0],r[1][o]],u=!0;break}return l||(a=this.snapEnds(e.getFullYear(),t.getFullYear()+1,n,i),l=[Date.YEAR,Math.round(a.step)]),this.snapEndsByDateAndStep(e,t,l,i)},snapEndsByDateAndStep:function(e,t,n,i){var r,o,a,s,l,d,c,u,h=[e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()],f=n[0],p=n[1];if(i)o=e;else switch(f){case Ext.Date.MILLI:o=new Date(h[0],h[1],h[2],h[3],h[4],h[5],Math.floor(h[6]/p)*p);break;case Ext.Date.SECOND:o=new Date(h[0],h[1],h[2],h[3],h[4],Math.floor(h[5]/p)*p,0);break;case Ext.Date.MINUTE:o=new Date(h[0],h[1],h[2],h[3],Math.floor(h[4]/p)*p,0,0);break;case Ext.Date.HOUR:o=new Date(h[0],h[1],h[2],Math.floor(h[3]/p)*p,0,0,0);break;case Ext.Date.DAY:o=new Date(h[0],h[1],Math.floor((h[2]-1)/p)*p+1,0,0,0,0);break;case Ext.Date.MONTH:o=new Date(h[0],Math.floor(h[1]/p)*p,1,0,0,0,0);break;default:o=new Date(Math.floor(h[0]/p)*p,0,1,0,0,0,0)}for(r=(u=f===Ext.Date.MONTH&&(.5==p||p==1/3||.25==p))?[]:0,a=new Date(o);a<t;)if(u){switch(l=(s=new Date(a)).getFullYear(),d=s.getMonth(),c=s.getDate(),p){case.5:c>=15?(c=1,++d>11&&l++):c=15;break;case 1/3:c>=20?(c=1,++d>11&&l++):c=c>=10?20:10;break;case.25:c>=22?(c=1,++d>11&&l++):c=c>=15?22:c>=8?15:8}a.setYear(l),a.setMonth(d),a.setDate(c),r.push(new Date(a))}else a=Ext.Date.add(a,f,p),r++;return i&&(a=t),u?{from:+o,to:+a,steps:r}:{from:+o,to:+a,step:(a-o)/r,steps:r}},sorter:function(e,t){return e.offset-t.offset},rad:function(e){return e%360*Math.PI/180},degrees:function(e){return 180*e/Math.PI%360},withinBox:function(e,t,n){return e>=(n=n||{}).x&&e<=n.x+n.width&&t>=n.y&&t<=n.y+n.height},parseGradient:function(e){var t,n,i,r,o=this,a=e.type||"linear",s=e.angle||0,l=o.radian,d=e.stops,c=[];for(t in"linear"==a&&(n=[0,0,Math.cos(s*l),Math.sin(s*l)],i=1/(Math.max(Math.abs(n[2]),Math.abs(n[3]))||1),n[2]*=i,n[3]*=i,n[2]<0&&(n[0]=-n[2],n[2]=0),n[3]<0&&(n[1]=-n[3],n[3]=0)),d)d.hasOwnProperty(t)&&o.stopsRE.test(t)&&(r={offset:parseInt(t,10),color:Ext.draw.Color.toHex(d[t].color)||"#ffffff",opacity:d[t].opacity||1},c.push(r));return Ext.Array.sort(c,o.sorter),"linear"==a?{id:e.id,type:a,vector:n,stops:c}:{id:e.id,type:a,centerX:e.centerX,centerY:e.centerY,focalX:e.focalX,focalY:e.focalY,radius:e.radius,vector:n,stops:c}}}),Ext.define("Ext.fx.PropertyHandler",{statics:{defaultHandler:{pixelDefaultsRE:/width|height|top$|bottom$|left$|right$/i,unitRE:/^(-?\d*\.?\d*){1}(em|ex|px|in|cm|mm|pt|pc|%)*$/,scrollRE:/^scroll/i,computeDelta:function(e,t,n,i,r){n="number"==typeof n?n:1;var o,a=this.unitRE,s=a.exec(e);return s&&(e=s[1],o=s[2],this.scrollRE.test(r)||o||!this.pixelDefaultsRE.test(r)||(o="px")),e=+e||0,(s=a.exec(t))&&(t=s[1],o=s[2]||o),{from:e,delta:((t=+t||0)-(null!=i?i:e))*n,units:o}},get:function(e,t,n,i,r){var o,a,s,l,d,c=e.length,u=[];for(o=0;o<c;o++)if(i&&(a=i[o][1].from),Ext.isArray(e[o][1])&&Ext.isArray(t)){for(s=[],l=0,d=e[o][1].length;l<d;l++)s.push(this.computeDelta(e[o][1][l],t[l],n,a,r));u.push([e[o][0],s])}else u.push([e[o][0],this.computeDelta(e[o][1],t,n,a,r)]);return u},set:function(e,t){var n,i,r,o,a,s=e.length,l=[];for(n=0;n<s;n++)if(i=e[n][1],Ext.isArray(i)){for(r=[],a=0,o=i.length;a<o;a++)r.push(i[a].from+i[a].delta*t+(i[a].units||0));l.push([e[n][0],r])}else l.push([e[n][0],i.from+i.delta*t+(i.units||0)]);return l}},stringHandler:{computeDelta:function(e,t,n,i,r){return{from:e,delta:t}},get:function(e,t,n,i,r){var o,a=e.length,s=[];for(o=0;o<a;o++)s.push([e[o][0],this.computeDelta(e[o][1],t,n,void 0,r)]);return s},set:function(e,t){var n,i,r=e.length,o=[];for(n=0;n<r;n++)i=e[n][1],o.push([e[n][0],i.delta]);return o}},color:{rgbRE:/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,hexRE:/^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i,hex3RE:/^#?([0-9A-F]{1})([0-9A-F]{1})([0-9A-F]{1})$/i,parseColor:function(e,t){t="number"==typeof t?t:1;var n,i,r,o=!1,a=[this.hexRE,this.rgbRE,this.hex3RE],s=a.length;for(r=0;r<s;r++)if(i=r%2==0?16:10,(n=a[r].exec(e))&&4===n.length){2===r&&(n[1]+=n[1],n[2]+=n[2],n[3]+=n[3]),o={red:parseInt(n[1],i),green:parseInt(n[2],i),blue:parseInt(n[3],i)};break}return o||e},computeDelta:function(e,t,n,i){e=this.parseColor(e);var r=i||e,o=typeof r,a=typeof(t=this.parseColor(t,n));return"string"==o||"undefined"==o||"string"==a||"undefined"==a?t||r:{from:e,delta:{red:Math.round((t.red-r.red)*n),green:Math.round((t.green-r.green)*n),blue:Math.round((t.blue-r.blue)*n)}}},get:function(e,t,n,i){var r,o,a=e.length,s=[];for(r=0;r<a;r++)i&&(o=i[r][1].from),s.push([e[r][0],this.computeDelta(e[r][1],t,n,o)]);return s},set:function(e,t){var n,i,r,o,a,s=e.length,l=[];for(n=0;n<s;n++)if(i=e[n][1]){if(o=i.from,a=i.delta,void 0===(i="object"==typeof(i="object"==typeof i&&"red"in i?"rgb("+i.red+", "+i.green+", "+i.blue+")":i)&&i.length?i[0]:i))return[];r="string"==typeof i?i:"rgb("+[(o.red+Math.round(a.red*t))%256,(o.green+Math.round(a.green*t))%256,(o.blue+Math.round(a.blue*t))%256].join(",")+")",l.push([e[n][0],r])}return l}},object:{interpolate:function(e,t){t="number"==typeof t?t:1;var n,i={};for(n in e)i[n]=parseFloat(e[n])*t;return i},computeDelta:function(e,t,n,i){e=this.interpolate(e),t=this.interpolate(t,n);var r,o=i||e,a={};for(r in t)a[r]=t[r]-o[r];return{from:e,delta:a}},get:function(e,t,n,i){var r,o,a=e.length,s=[];for(r=0;r<a;r++)i&&(o=i[r][1].from),s.push([e[r][0],this.computeDelta(e[r][1],t,n,o)]);return s},set:function(e,t){var n,i,r,o,a,s=e.length,l=[],d={};for(n=0;n<s;n++){for(a in i=(o=e[n][1]).from,r=o.delta,i)d[a]=i[a]+r[a]*t;l.push([e[n][0],d])}return l}},path:{computeDelta:function(e,t,n,i){return{from:e=+e||0,delta:((t=+t||0)-(null!=i?i:e))*(n="number"==typeof n?n:1)}},forcePath:function(e){return Ext.isArray(e)||Ext.isArray(e[0])||(e=Ext.draw.Draw.parsePathString(e)),e},get:function(e,t,n,i){var r,o,a,s,l,d,c,u,h,f=this.forcePath(t),p=[],g=e.length;for(a=0;a<g;a++){for(h=this.forcePath(e[a][1]),h=(s=Ext.draw.Draw.interpolatePaths(h,f))[0],f=s[1],r=h.length,u=[],d=0;d<r;d++){for(s=[h[d][0]],o=h[d].length,c=1;c<o;c++)l=i&&i[0][1][d][c].from,s.push(this.computeDelta(h[d][c],f[d][c],n,l));u.push(s)}p.push([e[a][0],u])}return p},set:function(e,t){var n,i,r,o,a,s,l,d,c=e.length,u=[];for(n=0;n<c;n++){for(o=[],l=(s=e[n][1]).length,i=0;i<l;i++){for(a=[s[i][0]],d=s[i].length,r=1;r<d;r++)a.push(s[i][r].from+s[i][r].delta*t);o.push(a.join(","))}u.push([e[n][0],o.join(",")])}return u}}}},function(){for(var e=["outlineColor","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","fill","stroke"],t=e.length,n=0;n<t;n++)this[e[n]]=this.color;for(t=(e=["cursor"]).length,n=0;n<t;n++)this[e[n]]=this.stringHandler}),Ext.define("Ext.fx.Anim",{mixins:{observable:Ext.util.Observable},isAnimation:!0,duration:250,delay:0,delayStart:0,dynamic:!1,easing:"ease",damper:1,bezierRE:/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,reverse:!1,running:!1,paused:!1,iterations:1,alternate:!1,currentIteration:0,startTime:0,frameCount:0,constructor:function(e){var t,n=this;if((e=e||{}).keyframes)return new Ext.fx.Animator(e);Ext.apply(n,e),void 0===n.from&&(n.from={}),n.propHandlers={},n.config=e,n.target=Ext.fx.Manager.createTarget(n.target),n.easingFn=Ext.fx.Easing[n.easing],n.target.dynamic=n.dynamic,n.easingFn||(n.easingFn=String(n.easing).match(n.bezierRE),n.easingFn&&5==n.easingFn.length&&(t=n.easingFn,n.easingFn=Ext.fx.CubicBezier.cubicBezier(+t[1],+t[2],+t[3],+t[4]))),n.id=Ext.id(null,"ext-anim-"),n.addEvents("beforeanimate","afteranimate","lastframe"),n.mixins.observable.constructor.call(n),Ext.fx.Manager.addAnim(n)},setAttr:function(e,t){return Ext.fx.Manager.items.get(this.id).setAttr(this.target,e,t)},initAttrs:function(){var e,t,n,i,r=this,o=r.from,a=r.to,s=r.initialFrom||{},l={};for(i in a)a.hasOwnProperty(i)&&(e=r.target.getAttr(i,o[i]),t=a[i],n=Ext.fx.PropertyHandler[i]?r.propHandlers[i]=Ext.fx.PropertyHandler[i]:Ext.isObject(t)?r.propHandlers[i]=Ext.fx.PropertyHandler.object:r.propHandlers[i]=Ext.fx.PropertyHandler.defaultHandler,l[i]=n.get(e,t,r.damper,s[i],i));r.currentAttrs=l},start:function(e){var t=this,n=t.delay,i=t.delayStart;if(n){if(!i)return void(t.delayStart=e);if(e-i<n)return;e=new Date(i.getTime()+n)}!1!==t.fireEvent("beforeanimate",t)&&(t.startTime=e,t.paused||t.currentAttrs||t.initAttrs(),t.running=!0,t.frameCount=0)},runAnim:function(e){var t,n,i,r,o=this,a=o.currentAttrs,s=o.duration,l=o.easingFn,d=o.propHandlers,c={};for(i in e>=s&&(e=s,r=!0),o.reverse&&(e=s-e),a)a.hasOwnProperty(i)&&(n=a[i],t=r?1:l(e/s),c[i]=d[i].set(n,t));return o.frameCount++,c},lastFrame:function(){var e=this,t=e.iterations,n=e.currentIteration;++n<t?(e.alternate&&(e.reverse=!e.reverse),e.startTime=new Date,e.currentIteration=n,e.paused=!1):(e.currentIteration=0,e.end(),e.fireEvent("lastframe",e,e.startTime))},endWasCalled:0,end:function(){if(!this.endWasCalled++){var e=this;e.startTime=0,e.paused=!1,e.running=!1,Ext.fx.Manager.removeAnim(e),e.fireEvent("afteranimate",e,e.startTime),Ext.callback(e.callback,e.scope,[e,e.startTime])}},isReady:function(){return!1===this.paused&&!1===this.running&&this.iterations>0},isRunning:function(){return!1===this.paused&&!0===this.running&&!0!==this.isAnimator}}),Ext.enableFx=!0,Ext.define("Ext.util.Animate",{isAnimate:!0,animate:function(e){var t=this;return Ext.fx.Manager.hasFxBlock(t.id)?t:(Ext.fx.Manager.queueFx(new Ext.fx.Anim(t.anim(e))),this)},anim:function(e){if(!Ext.isObject(e))return!!e&&{};var t=this;return e.stopAnimation&&t.stopAnimation(),Ext.applyIf(e,Ext.fx.Manager.getFxDefaults(t.id)),Ext.apply({target:t,paused:!0},e)},stopFx:Ext.Function.alias(Ext.util.Animate,"stopAnimation"),stopAnimation:function(){return Ext.fx.Manager.stopAnimation(this.id),this},syncFx:function(){return Ext.fx.Manager.setFxDefaults(this.id,{concurrent:!0}),this},sequenceFx:function(){return Ext.fx.Manager.setFxDefaults(this.id,{concurrent:!1}),this},hasActiveFx:Ext.Function.alias(Ext.util.Animate,"getActiveAnimation"),getActiveAnimation:function(){return Ext.fx.Manager.getActiveAnimation(this.id)}},function(){Ext.applyIf(Ext.Element.prototype,this.prototype),Ext.CompositeElementLite.importElementMethods()}),Ext.define("Ext.util.ElementContainer",{childEls:[],constructor:function(){var e,t=this;t.hasOwnProperty("childEls")&&(e=t.childEls,delete t.childEls,t.addChildEls.apply(t,e))},destroy:function(){var e,t,n,i=this,r=i.getChildEls();for(n=r.length;n--;)"string"!=typeof(t=r[n])&&(t=t.name),(e=i[t])&&(i[t]=null,e.remove())},addChildEls:function(){var e=this,t=arguments;e.hasOwnProperty("childEls")?e.childEls.push.apply(e.childEls,t):e.childEls=e.getChildEls().concat(Array.prototype.slice.call(t)),e.prune(e.childEls,!1)},applyChildEls:function(e,t){var n,i,r,o,a,s=this,l=s.getChildEls();for(n=(t||s.id)+"-",r=l.length;r--;)"string"==typeof(i=l[r])?a=e.getById(n+i):(a=(o=i.select)?Ext.select(o,!0,e.dom):(o=i.selectNode)?Ext.get(Ext.DomQuery.selectNode(o,e.dom)):e.getById(i.id||n+i.itemId),i=i.name),s[i]=a},getChildEls:function(){var e,t=this;return t.hasOwnProperty("childEls")?t.childEls:(e=t.self).$childEls||t.getClassChildEls(e)},getClassChildEls:function(e){var t,n,i,r,o,a,s,l,d,c,u,h=this,f=e.$childEls;if(!f){for(s in(c=e.superclass)?(l=[(c=c.self).$childEls||h.getClassChildEls(c)],u=c.prototype.mixins||{}):(l=[],u={}),a=(d=e.prototype).mixins)a.hasOwnProperty(s)&&!u.hasOwnProperty(s)&&(o=a[s].self,l.push(o.$childEls||h.getClassChildEls(o)));for(l.push(d.hasOwnProperty("childEls")&&d.childEls),n=0,i=l.length;n<i;++n)(t=l[n])&&t.length&&(f?(r||(r=!0,f=f.slice(0)),f.push.apply(f,t)):f=t);e.$childEls=f=f?h.prune(f,!r):[]}return f},prune:function(e,t){for(var n,i=e.length,r={};i--;)"string"!=typeof(n=e[i])&&(n=n.name),r[n]?(t&&(t=!1,e=e.slice(0)),Ext.Array.erase(e,i,1)):r[n]=1;return e},removeChildEls:function(e){var t,n,i,r=this.getChildEls(),o=this.childEls=[];for(n=0,t=r.length;n<t;++n)e(i=r[n])||o.push(i)}}),Ext.define("Ext.util.Renderable",{frameCls:Ext.baseCSSPrefix+"frame",frameIdRegex:/[\-]frame\d+[TMB][LCR]$/,frameElNames:["TL","TC","TR","ML","MC","MR","BL","BC","BR"],frameTpl:["{%this.renderDockedItems(out,values,0);%}",'<tpl if="top">','<tpl if="left"><div id="{fgid}TL" class="{frameCls}-tl {baseCls}-tl {baseCls}-{ui}-tl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tl</tpl>{frameElCls}" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}TR" class="{frameCls}-tr {baseCls}-tr {baseCls}-{ui}-tr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tr</tpl>{frameElCls}" role="presentation"></tpl>','<div id="{fgid}TC" class="{frameCls}-tc {baseCls}-tc {baseCls}-{ui}-tc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tc</tpl>{frameElCls}" role="presentation"></div>','<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>',"</tpl>",'<tpl if="left"><div id="{fgid}ML" class="{frameCls}-ml {baseCls}-ml {baseCls}-{ui}-ml<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-ml</tpl>{frameElCls}" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}MR" class="{frameCls}-mr {baseCls}-mr {baseCls}-{ui}-mr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mr</tpl>{frameElCls}" role="presentation"></tpl>','<div id="{fgid}MC" class="{frameCls}-mc {baseCls}-mc {baseCls}-{ui}-mc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mc</tpl>{frameElCls}" role="presentation">',"{%this.applyRenderTpl(out, values)%}","</div>",'<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>','<tpl if="bottom">','<tpl if="left"><div id="{fgid}BL" class="{frameCls}-bl {baseCls}-bl {baseCls}-{ui}-bl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bl</tpl>{frameElCls}" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}BR" class="{frameCls}-br {baseCls}-br {baseCls}-{ui}-br<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-br</tpl>{frameElCls}" role="presentation"></tpl>','<div id="{fgid}BC" class="{frameCls}-bc {baseCls}-bc {baseCls}-{ui}-bc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bc</tpl>{frameElCls}" role="presentation"></div>','<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>',"</tpl>","{%this.renderDockedItems(out,values,1);%}"],frameTableTpl:["{%this.renderDockedItems(out,values,0);%}",'<table class="',Ext.baseCSSPrefix,"table-plain",'" cellpadding="0"><tbody>','<tpl if="top">',"<tr>",'<tpl if="left"><td id="{fgid}TL" class="{frameCls}-tl {baseCls}-tl {baseCls}-{ui}-tl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tl</tpl>{frameElCls}" role="presentation"></td></tpl>','<td id="{fgid}TC" class="{frameCls}-tc {baseCls}-tc {baseCls}-{ui}-tc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tc</tpl>{frameElCls}" role="presentation"></td>','<tpl if="right"><td id="{fgid}TR" class="{frameCls}-tr {baseCls}-tr {baseCls}-{ui}-tr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tr</tpl>{frameElCls}" role="presentation"></td></tpl>',"</tr>","</tpl>","<tr>",'<tpl if="left"><td id="{fgid}ML" class="{frameCls}-ml {baseCls}-ml {baseCls}-{ui}-ml<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-ml</tpl>{frameElCls}" role="presentation"></td></tpl>','<td id="{fgid}MC" class="{frameCls}-mc {baseCls}-mc {baseCls}-{ui}-mc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mc</tpl>{frameElCls}" role="presentation">',"{%this.applyRenderTpl(out, values)%}","</td>",'<tpl if="right"><td id="{fgid}MR" class="{frameCls}-mr {baseCls}-mr {baseCls}-{ui}-mr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mr</tpl>{frameElCls}" role="presentation"></td></tpl>',"</tr>",'<tpl if="bottom">',"<tr>",'<tpl if="left"><td id="{fgid}BL" class="{frameCls}-bl {baseCls}-bl {baseCls}-{ui}-bl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bl</tpl>{frameElCls}" role="presentation"></td></tpl>','<td id="{fgid}BC" class="{frameCls}-bc {baseCls}-bc {baseCls}-{ui}-bc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bc</tpl>{frameElCls}" role="presentation"></td>','<tpl if="right"><td id="{fgid}BR" class="{frameCls}-br {baseCls}-br {baseCls}-{ui}-br<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-br</tpl>{frameElCls}" role="presentation"></td></tpl>',"</tr>","</tpl>","</tbody></table>","{%this.renderDockedItems(out,values,1);%}"],afterRender:function(){var e,t,n,i,r=this,o={},a=r.protoEl,s=r.el;r.finishRenderChildren(),r.contentEl&&(n=(t=Ext.baseCSSPrefix)+"hide-",(i=Ext.get(r.contentEl)).removeCls([t+"hidden",n+"display",n+"offsets",n+"nosize"]),r.getContentTarget().appendChild(i.dom)),a.writeTo(o),(e=o.removed)&&s.removeCls(e),(e=o.cls).length&&s.addCls(e),e=o.style,o.style&&s.setStyle(e),r.protoEl=null,r.ownerCt||r.updateLayout()},afterFirstLayout:function(e,t){var n,i,r,o,a=this,s=a.x,l=a.y;a.ownerLayout||(n=Ext.isDefined(s),i=Ext.isDefined(l)),!a.floating||n&&i||(a.floatParent?(r=a.floatParent.getTargetEl().getViewRegion(),o=a.el.getAlignToXY(a.floatParent.getTargetEl(),"c-c"),r.x=o[0]-r.x,r.y=o[1]-r.y):(o=a.el.getAlignToXY(a.container,"c-c"),r=a.container.translateXY(o[0],o[1])),s=n?s:r.x,l=i?l:r.y,n=i=!0),(n||i)&&a.setPosition(s,l),a.onBoxReady(e,t)},applyRenderSelectors:function(){var e,t=this,n=t.renderSelectors,i=t.el,r=i.dom;if(t.applyChildEls(i),n)for(e in n)n.hasOwnProperty(e)&&n[e]&&(t[e]=Ext.get(Ext.DomQuery.selectNode(n[e],r)))},beforeRender:function(){var e=this,t=(e.getTargetEl(),e.getOverflowEl()),n=e.getComponentLayout(),i=e.getOverflowStyle();e.frame=e.frame||e.alwaysFramed,n.initialized||n.initLayout(),t&&(t.setStyle(i),e.overflowStyleSet=!0),e.setUI(e.ui),e.disabled&&e.disable(!0)},doApplyRenderTpl:function(e,t){var n=t.$comp;n.rendered||n.initRenderTpl().applyOut(t.renderData,e)},doAutoRender:function(){var e=this;e.rendered||(e.floating?e.render(document.body):e.render(Ext.isBoolean(e.autoRender)?Ext.getBody():e.autoRender))},doRenderContent:function(e,t){var n=t.$comp;n.html&&(Ext.DomHelper.generateMarkup(n.html,e),delete n.html),n.tpl&&(n.tpl.isTemplate||(n.tpl=new Ext.XTemplate(n.tpl)),n.data&&(n.tpl.applyOut(n.data,e),delete n.data))},doRenderFramingDockedItems:function(e,t,n){var i=t.$comp;!i.rendered&&i.doRenderDockedItems&&(t.renderData.$skipDockedItems=!0,i.doRenderDockedItems.call(this,e,t,n))},finishRender:function(e){var t,n,i,r=this;!r.el||r.$pid?(i=r.container?r.container.getById(r.id,!0):Ext.getDom(r.id),r.el?(delete r.$pid,r.el.dom||r.wrapPrimaryEl(r.el),i.parentNode.insertBefore(r.el.dom,i),Ext.removeNode(i)):r.wrapPrimaryEl(i)):r.rendering||(t=r.initRenderTpl())&&(n=r.initRenderData(),t.insertFirst(r.getTargetEl(),n)),r.container||(r.container=Ext.get(r.el.dom.parentNode)),r.ctCls&&r.container.addCls(r.ctCls),r.onRender(r.container,e),r.overflowStyleSet||r.getOverflowEl().setStyle(r.getOverflowStyle()),r.el.setVisibilityMode(Ext.Element[r.hideMode.toUpperCase()]),r.overCls&&r.el.hover(r.addOverCls,r.removeOverCls,r),r.hasListeners.render&&r.fireEvent("render",r),r.afterRender(),r.hasListeners.afterrender&&r.fireEvent("afterrender",r),r.initEvents(),r.hidden&&r.el.hide()},finishRenderChildren:function(){this.getComponentLayout().finishRender()},getElConfig:function(){var e,t,n,i,r,o,a=this,s=a.autoEl,l=a.getFrameInfo(),d={tag:"div",tpl:l?a.initFramingTpl(l.table):a.initRenderTpl()},c=a.protoEl;if(a.initStyles(c),l&&c.setStyle("background-image","none"),c.writeTo(d),c.flush(),Ext.isString(s)?d.tag=s:Ext.apply(d,s),d.id=a.id,d.tpl)if(l){for(n=(t=a.frameElNames).length,d.tplData=o=a.getFrameRenderData(),o.renderData=a.initRenderData(),r=o.fgid,e=0;e<n;e++)i=t[e],a.addChildEls({name:"frame"+i,id:r+i});a.addChildEls({name:"frameBody",id:r+"MC"})}else d.tplData=a.initRenderData();return d},initFramingTpl:function(e){var t=this.getFrameTpl(e);return t&&!t.applyRenderTpl&&this.setupFramingTpl(t),t},setupFramingTpl:function(e){e.applyRenderTpl=this.doApplyRenderTpl,e.renderDockedItems=this.doRenderFramingDockedItems},getInsertPosition:function(e){return void 0!==e&&(e=Ext.isNumber(e)?this.container.dom.childNodes[e]:Ext.getDom(e)),e},getRenderTree:function(){var e=this;return e.hasListeners.beforerender&&!1===e.fireEvent("beforerender",e)?null:(e.beforeRender(),e.rendering=!0,e.el?{tag:"div",id:e.$pid=Ext.id()}:e.getElConfig())},initContainer:function(e){var t=this;return!e&&t.el&&(e=t.el.dom.parentNode,t.allowDomMove=!1),t.container=e.dom?e:Ext.get(e),t.container},initRenderData:function(){var e=this;return Ext.apply({$comp:e,id:e.id,ui:e.ui,uiCls:e.uiCls,baseCls:e.baseCls,componentCls:e.componentCls,frame:e.frame,childElCls:""},e.renderData)},initRenderTpl:function(){var e=this.getTpl("renderTpl");return e&&!e.renderContent&&this.setupRenderTpl(e),e},onRender:function(e,t){var n,i,r=this,o=r.x,a=r.y,s=null,l=r.el;r.applyRenderSelectors(),r.rendering=null,r.rendered=!0,null!=o&&(s={x:o}),null!=a&&((s=s||{}).y=a),!r.getFrameInfo()&&Ext.isBorderBox&&(n=r.width,i=r.height,"number"==typeof n&&((s=s||{}).width=n),"number"==typeof i&&((s=s||{}).height=i)),r.lastBox=l.lastBox=s},render:function(e,t){var n,i,r,o=this,a=o.el&&(o.el=Ext.get(o.el));Ext.suspendLayouts(),e=o.initContainer(e),r=o.getInsertPosition(t),a?o.hasListeners.beforerender&&!1===o.fireEvent("beforerender",o)?n=!0:(o.beforeRender(),o.initStyles(a),!1!==o.allowDomMove&&(r?e.dom.insertBefore(a.dom,r):e.dom.appendChild(a.dom))):(i=o.getRenderTree(),o.ownerLayout&&o.ownerLayout.transformItemRenderTree&&(i=o.ownerLayout.transformItemRenderTree(i)),i&&(a=r?Ext.DomHelper.insertBefore(r,i):Ext.DomHelper.append(e,i),o.wrapPrimaryEl(a))),a&&!n&&o.finishRender(t),Ext.resumeLayouts(!e.isDetachedBody)},ensureAttachedToBody:function(e){for(var t,n=this;n.ownerCt;)n=n.ownerCt;n.container.isDetachedBody&&(n.container=t=Ext.getBody(),t.appendChild(n.el.dom),e&&n.updateLayout(),"number"!=typeof n.x&&"number"!=typeof n.y||n.setPosition(n.x,n.y))},setupRenderTpl:function(e){e.renderBody=e.renderContent=this.doRenderContent},wrapPrimaryEl:function(e){this.el=Ext.get(e,!0)},initFrame:function(){if(!Ext.supports.CSS3BorderRadius&&this.frame){var e,t,n,i,r,o=this,a=o.getFrameInfo(),s=o.frameElNames,l=s.length;if(a)for(e=o.getFrameTpl(a.table),t=(i=o.getFrameRenderData()).fgid,e.insertFirst(o.el,i),o.frameBody=o.el.down("."+o.frameCls+"-mc"),o.removeChildEls(function(e){return e.id&&o.frameIdRegex.test(e.id)}),n=0;n<l;n++)r=s[n],o["frame"+r]=o.el.getById(t+r)}},getFrameRenderData:function(){var e=this,t=e.frameSize,n=(e.frameGenId||0)+1;return e.frameGenId=n,{$comp:e,fgid:e.id+"-frame"+n,ui:e.ui,uiCls:e.uiCls,frameCls:e.frameCls,baseCls:e.baseCls,top:!!t.top,left:!!t.left,right:!!t.right,bottom:!!t.bottom,frameElCls:""}},updateFrame:function(){if(!Ext.supports.CSS3BorderRadius&&this.frame){var e,t=this,n=t.frameSize&&t.frameSize.table,i=t.frameTL,r=t.frameBL,o=t.frameML,a=t.frameMC;t.initFrame(),a?t.frame&&(e=t.frameMC.dom.className,a.insertAfter(t.frameMC),t.frameMC.remove(),t.frameBody=t.frameMC=a,a.dom.className=e,n?t.el.query("> table")[1].remove():(i&&i.remove(),r&&r.remove(),o&&o.remove())):t.frame&&t.applyRenderSelectors()}},getFrameInfo:function(){if(Ext.supports.CSS3BorderRadius||!this.frame)return!1;var e,t,n,i,r,o,a,s,l,d,c,u,h,f,p,g,m,x,y=this,E=y.frameInfoCache,v=y.el||y.protoEl,b=v.dom?v.dom.className:v.classList.join(" "),C=E[b],w=Math.max;return null==C&&((e=(t=Ext.fly(y.getStyleProxy(b),"frame-style-el").getStyle("background-image")).indexOf("about:blank#"))<0?C=!1:(t=t.substring(e+12).split("-"),p=parseInt(t[1],10),g=parseInt(t[2],10),m=parseInt(t[3],10),x=parseInt(t[4],10),a=parseInt(t[5],10),s=parseInt(t[6],10),l=parseInt(t[7],10),d=parseInt(t[8],10),c=parseInt(t[9],10),u=parseInt(t[10],10),h=parseInt(t[11],10),f=parseInt(t[12],10),n=w(a,w(p,g)),i=w(s,w(g,m)),r=w(l,w(x,m)),o=w(d,w(p,x)),C={table:"t"===t[0].charAt(0),vertical:"v"===t[0].charAt(1),top:n,right:i,bottom:r,left:o,width:o+i,height:n+r,maxWidth:w(n,i,r,o),border:{top:a,right:s,bottom:l,left:d,width:d+s,height:a+l},padding:{top:c,right:u,bottom:h,left:f,width:f+u,height:c+h},radius:{tl:p,tr:g,br:m,bl:x}}),!0!==y.frame||C||Ext.log.error("You have set frame: true explicity on this component ("+y.getXType()+") and it does not have any framing defined in the CSS template. In this case IE cannot figure out what sizes to use and thus framing on this component will be disabled."),E[b]=C),y.frame=!!C,y.frameSize=C,C},getStyleProxy:function(e){var t=this.styleProxyEl||(Ext.AbstractComponent.prototype.styleProxyEl=Ext.getBody().createChild({style:{position:"absolute",top:"-10000px"}},null,!0));return t.className=e,t},getFrameTpl:function(e){return this.getTpl(e?"frameTableTpl":"frameTpl")},frameInfoCache:{}}),Ext.define("Ext.state.Provider",{mixins:{observable:Ext.util.Observable},prefix:"ext-",constructor:function(e){e=e||{};var t=this;Ext.apply(t,e),t.addEvents("statechange"),t.state={},t.mixins.observable.constructor.call(t)},get:function(e,t){return void 0===this.state[e]?t:this.state[e]},clear:function(e){var t=this;delete t.state[e],t.fireEvent("statechange",t,e,null)},set:function(e,t){var n=this;n.state[e]=t,n.fireEvent("statechange",n,e,t)},decodeValue:function(e){var t,n,i,r,o,a,s=/^(a|n|d|b|s|o|e)\:(.*)$/.exec(unescape(e));if(s&&s[1])switch(n=s[1],e=s[2],n){case"e":return null;case"n":return parseFloat(e);case"d":return new Date(Date.parse(e));case"b":return"1"==e;case"a":if(t=[],""!=e)for(o=(r=e.split("^")).length,a=0;a<o;a++)e=r[a],t.push(this.decodeValue(e));return t;case"o":if(t={},""!=e)for(o=(r=e.split("^")).length,a=0;a<o;a++)t[(i=(e=r[a]).split("="))[0]]=this.decodeValue(i[1]);return t;default:return e}},encodeValue:function(e){var t,n,i,r="",o=0;if(null==e)return"e:1";if("number"==typeof e)t="n:"+e;else if("boolean"==typeof e)t="b:"+(e?"1":"0");else if(Ext.isDate(e))t="d:"+e.toGMTString();else if(Ext.isArray(e)){for(n=e.length;o<n;o++)r+=this.encodeValue(e[o]),o!=n-1&&(r+="^");t="a:"+r}else if("object"==typeof e){for(i in e)"function"!=typeof e[i]&&void 0!==e[i]&&(r+=i+"="+this.encodeValue(e[i])+"^");t="o:"+r.substring(0,r.length-1)}else t="s:"+e;return escape(t)}}),Ext.define("Ext.state.Manager",{singleton:!0,constructor:function(){this.provider=new Ext.state.Provider},setProvider:function(e){this.provider=e},get:function(e,t){return this.provider.get(e,t)},set:function(e,t){this.provider.set(e,t)},clear:function(e){this.provider.clear(e)},getProvider:function(){return this.provider}}),Ext.define("Ext.state.Stateful",{mixins:{observable:Ext.util.Observable},stateful:!1,saveDelay:100,constructor:function(e){var t=this;void 0!==(e=e||{}).stateful&&(t.stateful=e.stateful),void 0!==e.saveDelay&&(t.saveDelay=e.saveDelay),t.stateId=t.stateId||e.stateId,t.stateEvents||(t.stateEvents=[]),e.stateEvents&&t.stateEvents.concat(e.stateEvents),this.addEvents("beforestaterestore","staterestore","beforestatesave","statesave"),t.mixins.observable.constructor.call(t),!1!==t.stateful&&(t.addStateEvents(t.stateEvents),t.initState())},addStateEvents:function(e){var t,n,i,r=this;if(r.stateful&&r.getStateId())for("string"==typeof e&&(e=Array.prototype.slice.call(arguments,0)),i=r.stateEventsByName||(r.stateEventsByName={}),t=e.length;t--;)i[n=e[t]]||(i[n]=1,r.on(n,r.onStateChange,r))},onStateChange:function(){var e,t,n=this,i=n.saveDelay;n.stateful&&(i?(n.stateTask||(t=(e=Ext.state.Stateful).runner||(e.runner=new Ext.util.TaskRunner),n.stateTask=t.newTask({run:n.saveState,scope:n,interval:i,repeat:1})),n.stateTask.start()):n.saveState())},saveState:function(){var e,t=this,n=t.stateful&&t.getStateId(),i=t.hasListeners;n&&(e=t.getState()||{},i.beforestatesave&&!1===t.fireEvent("beforestatesave",t,e)||(Ext.state.Manager.set(n,e),i.statesave&&t.fireEvent("statesave",t,e)))},getState:function(){return null},applyState:function(e){e&&Ext.apply(this,e)},getStateId:function(){var e=this;return e.stateId||(e.autoGenId?null:e.id)},initState:function(){var e,t=this,n=t.stateful&&t.getStateId(),i=t.hasListeners;n&&(e=Ext.state.Manager.get(n))&&(e=Ext.apply({},e),i.beforestaterestore&&!1===t.fireEvent("beforestaterestore",t,e)||(t.applyState(e),i.staterestore&&t.fireEvent("staterestore",t,e)))},savePropToState:function(e,t,n){var i=this,r=i[e],o=i.initialConfig;return!(!i.hasOwnProperty(e)||o&&o[e]===r)&&(t&&(t[n||e]=r),!0)},savePropsToState:function(e,t){var n,i;if("string"==typeof e)this.savePropToState(e,t);else for(n=0,i=e.length;n<i;++n)this.savePropToState(e[n],t);return t},destroy:function(){var e=this,t=e.stateTask;t&&(t.destroy(),e.stateTask=null),e.clearListeners()}}),Ext.define("Ext.AbstractComponent",{mixins:{positionable:Ext.util.Positionable,observable:Ext.util.Observable,animate:Ext.util.Animate,elementCt:Ext.util.ElementContainer,renderable:Ext.util.Renderable,state:Ext.state.Stateful},statics:{AUTO_ID:1e3,pendingLayouts:null,layoutSuspendCount:0,cancelLayout:function(e,t){var n=this.runningLayoutContext||this.pendingLayouts;n&&n.cancelComponent(e,!1,t)},flushLayouts:function(){var e=this,t=e.pendingLayouts;t&&t.invalidQueue.length&&(e.pendingLayouts=null,e.runningLayoutContext=t,Ext.override(t,{runComplete:function(){e.runningLayoutContext=null;var t=this.callParent();return Ext.globalEvents.hasListeners.afterlayout&&Ext.globalEvents.fireEvent("afterlayout"),t}}),t.run())},resumeLayouts:function(e){this.layoutSuspendCount&&!--this.layoutSuspendCount&&(e&&this.flushLayouts(),Ext.globalEvents.hasListeners.resumelayouts&&Ext.globalEvents.fireEvent("resumelayouts"))},suspendLayouts:function(){++this.layoutSuspendCount},updateLayout:function(e,t){var n=this,i=n.runningLayoutContext;i?i.queueInvalidate(e):((n.pendingLayouts||(n.pendingLayouts=new Ext.layout.Context)).queueInvalidate(e),t||n.layoutSuspendCount||e.isLayoutSuspended()||n.flushLayouts())}},isComponent:!0,getAutoId:function(){return this.autoGenId=!0,++Ext.AbstractComponent.AUTO_ID},deferLayouts:!1,autoGenId:!1,renderTpl:"{%this.renderContent(out,values)%}",frameSize:null,tplWriteMode:"overwrite",baseCls:Ext.baseCSSPrefix+"component",disabledCls:Ext.baseCSSPrefix+"item-disabled",ui:"default",uiCls:[],hidden:!1,disabled:!1,draggable:!1,floating:!1,hideMode:"display",autoShow:!1,autoRender:!1,allowDomMove:!0,rendered:!1,componentLayoutCounter:0,shrinkWrap:2,weight:0,maskOnDisable:!0,_isLayoutRoot:!1,contentPaddingProperty:"padding",horizontalPosProp:"left",constructor:function(e){var t,n,i,r=this;if(e?(Ext.apply(r,e),(i=r.xhooks)&&(delete r.xhooks,Ext.override(r,i))):e={},r.initialConfig=e,r.mixins.elementCt.constructor.call(r),r.addEvents("beforeactivate","activate","beforedeactivate","deactivate","added","disable","enable","beforeshow","show","beforehide","hide","removed","beforerender","render","afterrender","boxready","beforedestroy","destroy","resize","move","focus","blur"),r.getId(),r.setupProtoEl(),r.cls&&(r.initialCls=r.cls,r.protoEl.addCls(r.cls)),r.style&&(r.initialStyle=r.style,r.protoEl.setStyle(r.style)),r.renderData=r.renderData||{},r.renderSelectors=r.renderSelectors||{},r.plugins&&(r.plugins=r.constructPlugins()),r.hasListeners||(r.hasListeners=new r.HasListeners),r.initComponent(),Ext.ComponentManager.register(r),r.mixins.observable.constructor.call(r),r.mixins.state.constructor.call(r,e),this.addStateEvents("resize"),r.plugins)for(t=0,n=r.plugins.length;t<n;t++)r.plugins[t]=r.initPlugin(r.plugins[t]);r.loader=r.getLoader(),r.renderTo&&r.render(r.renderTo),r.autoShow&&!r.isContained&&r.show(),Ext.isDefined(r.disabledClass)&&(Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.Component: disabledClass has been deprecated. Please use disabledCls."),r.disabledCls=r.disabledClass,delete r.disabledClass)},initComponent:function(){this.plugins=this.constructPlugins(),this.setSize(this.width,this.height)},getState:function(){var e=this,t=null,n=e.getSizeModel();return n.width.configured&&(t=e.addPropertyToState(t,"width")),n.height.configured&&(t=e.addPropertyToState(t,"height")),t},addPropertyToState:function(e,t,n){var i=this,r=arguments.length;return(3==r||i.hasOwnProperty(t))&&(r<3&&(n=i[t]),n!==i.initialConfig[t]&&((e||(e={}))[t]=n)),e},show:Ext.emptyFn,animate:function(e){var t,n,i,r,o,a,s,l,d,c,u,h,f,p,g,m,x=this;return o=(e=e||{}).to||{},Ext.fx.Manager.hasFxBlock(x.id)?x:((t=Ext.isDefined(o.width))&&(r=Ext.Number.constrain(o.width,x.minWidth,x.maxWidth)),(n=Ext.isDefined(o.height))&&(i=Ext.Number.constrain(o.height,x.minHeight,x.maxHeight)),e.dynamic||!t&&!n||(d=l=(e.from?e.from.width:void 0)||x.getWidth(),u=c=(e.from?e.from.height:void 0)||x.getHeight(),h=!1,n&&i>c&&(u=i,h=!0),t&&r>l&&(d=r,h=!0),(n||t)&&"hidden"!==(m=x.el.getStyle("overtflow"))&&x.el.setStyle("overflow","hidden"),h&&(a=!Ext.isNumber(x.width),s=!Ext.isNumber(x.height),x.setSize(d,u),x.el.setSize(l,c),a&&delete x.width,s&&delete x.height),t&&(o.width=r),n&&(o.height=i)),f=x.constrain,p=x.constrainHeader,(f||p)&&(x.constrain=x.constrainHeader=!1,g=e.callback,e.callback=function(){x.constrain=f,x.constrainHeader=p,g&&g.call(e.scope||x,arguments),"hidden"!==m&&x.el.setStyle("overflow",m)}),x.mixins.animate.animate.apply(x,arguments))},onHide:function(){this.ownerLayout&&this.updateLayout({isRoot:!1})},onShow:function(){this.updateLayout({isRoot:!1})},constructPlugin:function(e){return e="string"==typeof e?Ext.PluginManager.create({},e,this):Ext.PluginManager.create(e,null,this)},constructPlugins:function(){var e,t,n,i=this,r=i.plugins;if(r)for(e=[],Ext.isArray(r)||(r=[r]),t=0,n=r.length;t<n;t++)e[t]=i.constructPlugin(r[t]);return i.pluginsInitialized=!0,e},initPlugin:function(e){return e.init(this),e},addPlugin:function(e){var t=this;return e=t.constructPlugin(e),t.plugins?t.plugins.push(e):t.plugins=[e],t.pluginsInitialized&&t.initPlugin(e),e},removePlugin:function(e){Ext.Array.remove(this.plugins,e),e.destroy()},findPlugin:function(e){if(this.plugins)return Ext.Array.findBy(this.plugins,function(t){if(t.ptype===e)return!0})},beforeLayout:Ext.emptyFn,updateAria:Ext.emptyFn,registerFloatingItem:function(e){var t=this;t.floatingDescendants||(t.floatingDescendants=new Ext.ZIndexManager(t)),t.floatingDescendants.register(e)},unregisterFloatingItem:function(e){this.floatingDescendants&&this.floatingDescendants.unregister(e)},layoutSuspendCount:0,suspendLayouts:function(){var e=this;e.rendered&&1==++e.layoutSuspendCount&&(e.suspendLayout=!0)},resumeLayouts:function(e){var t=this;t.rendered&&(--t.layoutSuspendCount||(t.suspendLayout=!1,e&&!t.isLayoutSuspended()&&t.updateLayout(e)))},setupProtoEl:function(){var e=this.initCls();this.protoEl=new Ext.util.ProtoElement({cls:e.join(" ")})},initCls:function(){var e=this,t=[e.baseCls,e.getComponentLayout().targetCls];return Ext.isDefined(e.cmpCls)&&(Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.Component: cmpCls has been deprecated. Please use componentCls."),e.componentCls=e.cmpCls,delete e.cmpCls),e.componentCls?t.push(e.componentCls):e.componentCls=e.baseCls,t},setUI:function(e){var t,n=this,i=n.uiCls,r=n.activeUI;e!==r&&(r?((t=n.removeClsWithUI(i,!0)).length&&n.removeCls(t),n.removeUIFromElement()):n.uiCls=[],n.ui=e,n.activeUI=e,n.addUIToElement(),(t=n.addClsWithUI(i,!0)).length&&n.addCls(t),n.rendered&&n.updateLayout())},addClsWithUI:function(e,t){var n,i,r=this,o=[],a=0,s=r.uiCls=Ext.Array.clone(r.uiCls),l=r.activeUI;for("string"==typeof e&&(e=e.indexOf(" ")<0?[e]:Ext.String.splitWords(e)),n=e.length;a<n;a++)(i=e[a])&&!r.hasUICls(i)&&(s.push(i),l&&(o=o.concat(r.addUIClsToElement(i))));return!0!==t&&l&&r.addCls(o),o},removeClsWithUI:function(e,t){var n,i,r=this,o=[],a=0,s=Ext.Array,l=s.remove,d=r.uiCls=s.clone(r.uiCls),c=r.activeUI;for("string"==typeof e&&(e=e.indexOf(" ")<0?[e]:Ext.String.splitWords(e)),n=e.length,a=0;a<n;a++)(i=e[a])&&r.hasUICls(i)&&(l(d,i),c&&(o=o.concat(r.removeUIClsFromElement(i))));return!0!==t&&c&&r.removeCls(o),o},hasUICls:function(e){var t=this.uiCls||[];return Ext.Array.contains(t,e)},frameElementsArray:["tl","tc","tr","ml","mc","mr","bl","bc","br"],addUIClsToElement:function(e){var t,n,i,r,o,a=this,s=a.baseCls+"-"+a.ui+"-"+e,l=[Ext.baseCSSPrefix+e,a.baseCls+"-"+e,s];if(a.rendered&&a.frame&&!Ext.supports.CSS3BorderRadius)for(n=(t=a.frameElementsArray).length,i=0;i<n;i++)(r=a["frame"+(o=t[i]).toUpperCase()])&&r.addCls(s+"-"+o);return l},removeUIClsFromElement:function(e){var t,n,i,r,o,a=this,s=a.baseCls+"-"+a.ui+"-"+e,l=[Ext.baseCSSPrefix+e,a.baseCls+"-"+e,s];if(a.rendered&&a.frame&&!Ext.supports.CSS3BorderRadius)for(n=(t=a.frameElementsArray).length,i=0;i<n;i++)(r=a["frame"+(o=t[i]).toUpperCase()])&&r.addCls(s+"-"+o);return l},addUIToElement:function(){var e,t,n,i,r,o=this,a=o.baseCls+"-"+o.ui;if(o.addCls(a),o.rendered&&o.frame&&!Ext.supports.CSS3BorderRadius)for(t=(e=o.frameElementsArray).length,n=0;n<t;n++)(i=o["frame"+(r=e[n]).toUpperCase()])&&i.addCls(a+"-"+r)},removeUIFromElement:function(){var e,t,n,i,r,o=this,a=o.baseCls+"-"+o.ui;if(o.removeCls(a),o.rendered&&o.frame&&!Ext.supports.CSS3BorderRadius)for(t=(e=o.frameElementsArray).length,n=0;n<t;n++)(i=o["frame"+(r=e[n]).toUpperCase()])&&i.removeCls(a+"-"+r)},getTpl:function(e){return Ext.XTemplate.getTpl(this,e)},initStyles:function(e){var t,n,i=this,r=(Ext.Element,i.margin),o=i.border,a=i.cls,s=i.style,l=i.x,d=i.y;i.initPadding(e),null!=r&&e.setStyle("margin",this.unitizeBox(!0===r?5:r)),null!=o&&i.setBorder(o,e),a&&a!=i.initialCls&&(e.addCls(a),i.cls=i.initialCls=null),s&&s!=i.initialStyle&&(e.setStyle(s),i.style=i.initialStyle=null),null!=l&&e.setStyle(i.horizontalPosProp,"number"==typeof l?l+"px":l),null!=d&&e.setStyle("top","number"==typeof d?d+"px":d),i.getFrameInfo()||(t=i.width,n=i.height,null!=t&&("number"==typeof t?Ext.isBorderBox&&e.setStyle("width",t+"px"):e.setStyle("width",t)),null!=n&&("number"==typeof n?Ext.isBorderBox&&e.setStyle("height",n+"px"):e.setStyle("height",n)))},initPadding:function(e){var t=this,n=t.padding;null!=n&&(t.layout&&t.layout.managePadding&&"padding"===t.contentPaddingProperty?e.setStyle("padding",0):e.setStyle("padding",this.unitizeBox(!0===n?5:n)))},parseBox:function(e){return Ext.dom.Element.parseBox(e)},unitizeBox:function(e){return Ext.dom.Element.unitizeBox(e)},setMargin:function(e,t){var n=this;n.rendered?(e||0===e?(!0===e&&(e=5),e=this.unitizeBox(e)):e="",n.getTargetEl().setStyle("margin",e),t||n.updateLayout()):n.margin=e},initEvents:function(){var e,t,n,i,r,o=this,a=o.afterRenderEvents;if(a)for(n in a)if((t=o[n])&&t.on)for(i=0,r=(e=a[n]).length;i<r;++i)o.mon(t,e[i]);o.addFocusListener()},addFocusListener:function(){var e,t=this,n=t.getFocusEl();if(n){if(n.isComponent)return n.addFocusListener();e=n.needsTabIndex(),t.focusListenerAdded||e&&!Ext.FocusManager.enabled||(e&&(n.dom.tabIndex=-1),n.on({focus:t.onFocus,blur:t.onBlur,scope:t}),t.focusListenerAdded=!0)}},getFocusEl:Ext.emptyFn,isFocusable:function(){var e,t=this;if(!1!==t.focusable&&(e=t.getFocusEl())&&t.rendered&&!t.destroying&&!t.isDestroyed&&!t.disabled&&t.isVisible(!0))return e.isFocusable(!0)},beforeFocus:Ext.emptyFn,onFocus:function(e){var t=this,n=t.focusCls,i=t.getFocusEl();t.disabled||(t.beforeFocus(e),n&&i&&i.addCls(t.addClsWithUI(n,!0)),t.hasFocus||(t.hasFocus=!0,t.fireEvent("focus",t,e)))},beforeBlur:Ext.emptyFn,onBlur:function(e){var t=this,n=t.focusCls,i=t.getFocusEl();t.destroying||(t.beforeBlur(e),n&&i&&i.removeCls(t.removeClsWithUI(n,!0)),t.validateOnBlur&&t.validate(),t.hasFocus=!1,t.fireEvent("blur",t,e),t.postBlur(e))},postBlur:Ext.emptyFn,is:function(e){return Ext.ComponentQuery.is(this,e)},up:function(e){var t=this.getRefOwner();if(e)for(;t;t=t.getRefOwner())if(e.isComponent){if(t===e)return t}else if(Ext.ComponentQuery.is(t,e))return t;return t},nextSibling:function(e){var t,n,i,r,o=this.ownerCt;if(o&&(i=(t=o.items).indexOf(this)+1))if(e){for(n=t.getCount();i<n;i++)if((r=t.getAt(i)).is(e))return r}else if(i<t.getCount())return t.getAt(i);return null},previousSibling:function(e){var t,n,i,r=this.ownerCt;if(r&&-1!=(n=(t=r.items).indexOf(this)))if(e){for(--n;n>=0;n--)if((i=t.getAt(n)).is(e))return i}else if(n)return t.getAt(--n);return null},previousNode:function(e,t){var n,i,r,o,a=this,s=a.ownerCt;if(t&&a.is(e))return a;if(s){for(i=s.items.items,r=Ext.Array.indexOf(i,a)-1;r>-1;r--){if((o=i[r]).query&&(n=(n=o.query(e))[n.length-1]))return n;if(o.is(e))return o}return s.previousNode(e,!0)}return null},nextNode:function(e,t){var n,i,r,o,a,s=this,l=s.ownerCt;if(t&&s.is(e))return s;if(l){for(i=l.items.items,o=Ext.Array.indexOf(i,s)+1,r=i.length;o<r;o++){if((a=i[o]).is(e))return a;if(a.down&&(n=a.down(e)))return n}return l.nextNode(e)}return null},getId:function(){return this.id||(this.id="ext-comp-"+this.getAutoId())},getItemId:function(){return this.itemId||this.id},getEl:function(){return this.el},getTargetEl:function(){return this.frameBody||this.el},getOverflowEl:function(){return this.getTargetEl()},getOverflowStyle:function(){var e,t,n,i=this,r=null;return"boolean"==typeof i.autoScroll?(r={overflow:n=i.autoScroll?"auto":""},i.scrollFlags={overflowX:n,overflowY:n,x:!0,y:!0,both:!0}):(e=i.overflowX,t=i.overflowY,void 0!==e||void 0!==t?(r={overflowX:e=e||"",overflowY:t=t||""},i.scrollFlags={overflowX:e,overflowY:t,x:e="auto"===e||"scroll"===e,y:t="auto"===t||"scroll"===t,both:e&&t}):i.scrollFlags={overflowX:"",overflowY:"",x:!1,y:!1,both:!1}),r&&Ext.isIE7m&&(r.position="relative"),r},isXType:function(e,t){return t?this.xtype===e:this.xtypesMap[e]},getXTypes:function(){var e,t,n,i=this.self;if(!i.xtypes){for(e=[],t=this;t;)void 0!==(n=t.xtypes)&&e.unshift.apply(e,n),t=t.superclass;i.xtypeChain=e,i.xtypes=e.join("/")}return i.xtypes},update:function(e,t,n){var i,r=this,o=r.tpl&&!Ext.isString(e);o?r.data=e:r.html=Ext.isObject(e)?Ext.DomHelper.markup(e):e,r.rendered&&(i=r.isContainer?r.layout.getRenderTarget():r.getTargetEl(),o?r.tpl[r.tplWriteMode](i,e||{}):i.update(r.html,t,n),r.updateLayout())},setVisible:function(e){return this[e?"show":"hide"]()},isVisible:function(e){var t,n=this;return n.hidden||!n.rendered||n.isDestroyed?t=!0:e&&(t=n.isHierarchicallyHidden()),!t},isHierarchicallyHidden:function(){for(var e,t,n=this,i=!1;e=n.ownerCt||n.floatParent;n=e){if((t=e.getHierarchyState()).hidden){i=!0;break}if(!n.getHierarchyState().collapseImmune){i=!!t.collapsed;break}if(e.collapsed&&!n.collapseImmune){i=!0;break}}return i},onBoxReady:function(e,t){var n=this;n.disableOnBoxReady?n.onDisable():n.enableOnBoxReady&&n.onEnable(),n.resizable&&n.initResizable(n.resizable),n.draggable&&n.initDraggable(),n.hasListeners.boxready&&n.fireEvent("boxready",n,e,t)},enable:function(e){var t=this;return delete t.disableOnBoxReady,t.removeCls(t.disabledCls),t.rendered?t.onEnable():t.enableOnBoxReady=!0,t.disabled=!1,delete t.resetDisable,!0!==e&&t.fireEvent("enable",t),t},disable:function(e){var t=this;return delete t.enableOnBoxReady,t.addCls(t.disabledCls),t.rendered?t.onDisable():t.disableOnBoxReady=!0,t.disabled=!0,!0!==e&&(delete t.resetDisable,t.fireEvent("disable",t)),t},onEnable:function(){this.maskOnDisable&&(this.el.dom.disabled=!1,this.unmask())},onDisable:function(){var e=this,t=e.focusCls,n=e.getFocusEl();t&&n&&n.removeCls(e.removeClsWithUI(t,!0)),e.maskOnDisable&&(e.el.dom.disabled=!0,e.mask())},mask:function(){var e=this.lastBox,t=this.getMaskTarget(),n=[];e&&(n[2]=e.height),t.mask.apply(t,n)},unmask:function(){this.getMaskTarget().unmask()},getMaskTarget:function(){return this.el},isDisabled:function(){return this.disabled},setDisabled:function(e){return this[e?"disable":"enable"]()},isHidden:function(){return this.hidden},addCls:function(e){var t=this,n=t.rendered?t.el:t.protoEl;return n.addCls.apply(n,arguments),t},addClass:function(){return this.addCls.apply(this,arguments)},hasCls:function(e){var t=this,n=t.rendered?t.el:t.protoEl;return n.hasCls.apply(n,arguments)},removeCls:function(e){var t=this,n=t.rendered?t.el:t.protoEl;return n.removeCls.apply(n,arguments),t},removeClass:function(){return Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.Component: removeClass has been deprecated. Please use removeCls."),this.removeCls.apply(this,arguments)},addOverCls:function(){var e=this;e.disabled||e.el.addCls(e.overCls)},removeOverCls:function(){this.el.removeCls(this.overCls)},addListener:function(e,t,n,i){var r,o,a=this;if(!Ext.isString(e)||!(Ext.isObject(t)||i&&i.element))return a.mixins.observable.addListener.apply(a,arguments);if(i.element)for(o in r=t,(t={})[e]=r,e=i.element,n&&(t.scope=n),i)i.hasOwnProperty(o)&&a.eventOptionsRe.test(o)&&(t[o]=i[o]);a[e]&&a[e].on?a.mon(a[e],t):(a.afterRenderEvents=a.afterRenderEvents||{},a.afterRenderEvents[e]||(a.afterRenderEvents[e]=[]),a.afterRenderEvents[e].push(t))},removeManagedListenerItem:function(e,t,n,i,r,o){var a=this,s=t.options?t.options.element:null;if(!s)return a.mixins.observable.removeManagedListenerItem.apply(a,arguments);(s=a[s])&&s.un&&(!e&&(t.item!==n||t.ename!==i||r&&t.fn!==r||o&&t.scope!==o)||(s.un(t.ename,t.fn,t.scope),e||Ext.Array.remove(a.managedListeners,t)))},getBubbleTarget:function(){return this.ownerCt},isFloating:function(){return this.floating},isDraggable:function(){return!!this.draggable},isDroppable:function(){return!!this.droppable},onAdded:function(e,t){var n=this;n.ownerCt=e,n.hierarchyState&&(n.hierarchyState.invalid=!0,delete n.hierarchyState),n.hasListeners.added&&n.fireEvent("added",n,e,t)},onRemoved:function(e){var t=this;t.hasListeners.removed&&t.fireEvent("removed",t,t.ownerCt),delete t.ownerCt,delete t.ownerLayout},beforeDestroy:Ext.emptyFn,onResize:function(e,t,n,i){var r=this;r.floating&&r.constrain&&r.doConstrain(),r.hasListeners.resize&&r.fireEvent("resize",r,e,t,n,i)},setSize:function(e,t){var n=this;return e&&"object"==typeof e&&(t=e.height,e=e.width),"number"==typeof e?n.width=Ext.Number.constrain(e,n.minWidth,n.maxWidth):null===e&&delete n.width,"number"==typeof t?n.height=Ext.Number.constrain(t,n.minHeight,n.maxHeight):null===t&&delete n.height,n.rendered&&n.isVisible()&&n.updateLayout({isRoot:!1}),n},isLayoutRoot:function(){var e=this,t=e.ownerLayout;return!(t&&!e._isLayoutRoot&&!e.floating)||t.isItemLayoutRoot(e)},isLayoutSuspended:function(){for(var e,t=this;t;){if(t.layoutSuspendCount||t.suspendLayout)return!0;if(!(e=t.ownerLayout))break;t=e.owner}return!1},updateLayout:function(e){var t,n=this,i=n.lastBox,r=e&&e.isRoot;i&&(i.invalid=!0),!n.rendered||n.layoutSuspendCount||n.suspendLayout||(n.hidden?Ext.AbstractComponent.cancelLayout(n):"boolean"!=typeof r&&(r=n.isLayoutRoot()),!r&&n.ownerLayout&&n.ownerLayout.onContentChange(n)||n.isLayoutSuspended()||(t=e&&e.hasOwnProperty("defer")?e.defer:n.deferLayouts,Ext.AbstractComponent.updateLayout(n,t)))},getSizeModel:function(e){var t,n,i,r,o,a,s,l,d,c,u=this,h=Ext.layout.SizeModel,f=u.componentLayout.ownerContext,p=u.width,g=u.height;return f&&(c=f.widthModel,o=f.heightModel),c&&o||(i="number"==(t=typeof p),r="number"==(n=typeof g),(d=u.floating||!(a=u.ownerLayout))?(s=Ext.layout.Layout.prototype.autoSizePolicy,l=u.floating?3:u.shrinkWrap,i&&(c=h.configured),r&&(o=h.configured)):(s=a.getItemSizePolicy(u,e),l=a.isItemShrinkWrap(u)),f&&(f.ownerSizePolicy=s),l=!0===l?3:l||0,d&&l&&(p&&"string"==t&&(l&=2),g&&"string"==n&&(l&=1)),3!==l&&(e||(e=u.ownerCt&&u.ownerCt.getSizeModel()),e&&(l|=(e.width.shrinkWrap?1:0)|(e.height.shrinkWrap?2:0))),c||(c=s.setsWidth?s.readsWidth?i?h.calculatedFromConfigured:1&l?h.calculatedFromShrinkWrap:h.calculatedFromNatural:h.calculated:i?h.configured:1&l?h.shrinkWrap:h.natural),o||(o=s.setsHeight?s.readsHeight?r?h.calculatedFromConfigured:2&l?h.calculatedFromShrinkWrap:h.calculatedFromNatural:h.calculated:r?h.configured:2&l?h.shrinkWrap:h.natural)),c.pairsByHeightOrdinal[o.ordinal]},isDescendant:function(e){if(e.isContainer)for(var t=this.ownerCt;t;t=t.ownerCt)if(t===e)return!0;return!1},doComponentLayout:function(){return this.updateLayout(),this},forceComponentLayout:function(){this.updateLayout()},setComponentLayout:function(e){var t=this.componentLayout;t&&t.isLayout&&t!=e&&t.setOwner(null),this.componentLayout=e,e.setOwner(this)},getComponentLayout:function(){var e=this;return e.componentLayout&&e.componentLayout.isLayout||e.setComponentLayout(Ext.layout.Layout.create(e.componentLayout,"autocomponent")),e.componentLayout},afterComponentLayout:function(e,t,n,i){var r=this;1==++r.componentLayoutCounter&&r.afterFirstLayout(e,t),e===n&&t===i||r.onResize(e,t,n,i)},beforeComponentLayout:function(e,t){return!0},setPosition:function(e,t,n){var i=this,r=i.beforeSetPosition.apply(i,arguments);return r&&i.rendered&&(e=r.x,t=r.y,n?e===i.getLocalX()&&t===i.getLocalY()||(i.stopAnimation(),i.animate(Ext.apply({duration:1e3,listeners:{afteranimate:Ext.Function.bind(i.afterSetPosition,i,[e,t])},to:{x:e,y:t}},n))):(i.setLocalXY(e,t),i.afterSetPosition(e,t))),i},beforeSetPosition:function(e,t,n){var i,r;return e&&(Ext.isNumber(r=e[0])?(n=t,t=e[1],e=r):void 0!==(r=e.x)&&(n=t,t=e.y,e=r)),(this.constrain||this.constrainHeader)&&(i=this.calculateConstrainedPosition(null,[e,t],!0))&&(e=i[0],t=i[1]),(i={x:this.x=e,y:this.y=t,anim:n,hasX:void 0!==e,hasY:void 0!==t}).hasX||i.hasY?i:null},afterSetPosition:function(e,t){var n=this;n.onPosition(e,t),n.hasListeners.move&&n.fireEvent("move",n,e,t)},onPosition:Ext.emptyFn,setWidth:function(e){return this.setSize(e)},setHeight:function(e){return this.setSize(void 0,e)},getSize:function(){return this.el.getSize()},getWidth:function(){return this.el.getWidth()},getHeight:function(){return this.el.getHeight()},getLoader:function(){var e=this,t=e.autoLoad?Ext.isObject(e.autoLoad)?e.autoLoad:{url:e.autoLoad}:null,n=e.loader||t;return n?(n.isLoader?n.setTarget(e):e.loader=new Ext.ComponentLoader(Ext.apply({target:e,autoLoad:t},n)),e.loader):null},setDocked:function(e,t){var n=this;return n.dock=e,t&&n.ownerCt&&n.rendered&&n.ownerCt.updateLayout(),n},setBorder:function(e,t){var n=this,i=!!t;(n.rendered||i)&&(i||(t=n.el),e=e?!0===e?"1px":this.unitizeBox(e):0,t.setStyle("border-width",e),i||n.updateLayout()),n.border=e},onDestroy:function(){var e=this;e.monitorResize&&Ext.EventManager.resizeEvent&&Ext.EventManager.resizeEvent.removeListener(e.setSize,e),Ext.destroy(e.componentLayout,e.loadMask,e.floatingDescendants)},destroy:function(){var e,t,n=this,i=n.renderSelectors;if(!(n.isDestroyed||n.hasListeners.beforedestroy&&!1===n.fireEvent("beforedestroy",n))){if(n.destroying=!0,n.beforeDestroy(),n.floating?(delete n.floatParent,n.zIndexManager&&n.zIndexManager.unregister(n)):n.ownerCt&&n.ownerCt.remove&&n.ownerCt.remove(n,!1),n.stopAnimation(),n.onDestroy(),Ext.destroy(n.plugins),n.hasListeners.destroy&&n.fireEvent("destroy",n),Ext.ComponentManager.unregister(n),n.mixins.state.destroy.call(n),n.clearListeners(),n.rendered){if(n.preserveElOnDestroy||n.el.remove(),n.mixins.elementCt.destroy.call(n),i)for(e in i)i.hasOwnProperty(e)&&(t=n[e])&&(delete n[e],t.remove());delete n.el,delete n.frameBody,delete n.rendered}n.destroying=!1,n.isDestroyed=!0}},getPlugin:function(e){for(var t=0,n=this.plugins,i=n.length;t<i;t++)if(n[t].pluginId===e)return n[t]},isDescendantOf:function(e){return!!this.findParentBy(function(t){return t===e})},getHierarchyState:function(e){var t,n,i,r,o=this,a=e&&o.hierarchyStateInner||o.hierarchyState,s=o.ownerCt;return a&&!a.invalid||(t=o.getRefOwner(),s&&(r=o.ownerLayout===s.layout),o.hierarchyState=a=Ext.Object.chain(t?t.getHierarchyState(r):Ext.rootHierarchyState),o.initHierarchyState(a),(n=o.componentLayout).initHierarchyState&&n.initHierarchyState(a),o.isContainer&&(o.hierarchyStateInner=i=Ext.Object.chain(a),(n=o.layout)&&n.initHierarchyState&&n.initHierarchyState(i,a),e&&(a=i))),a},initHierarchyState:function(e){var t=this;t.collapsed&&(e.collapsed=!0),t.hidden&&(e.hidden=!0),t.collapseImmune&&(e.collapseImmune=!0)},getAnchorToXY:function(e,t,n,i){return e.getAnchorXY(t,n,i)},getBorderPadding:function(){return this.el.getBorderPadding()},getLocalX:function(){return this.el.getLocalX()},getLocalXY:function(){return this.el.getLocalXY()},getLocalY:function(){return this.el.getLocalY()},getX:function(){return this.el.getX()},getXY:function(){return this.el.getXY()},getY:function(){return this.el.getY()},setLocalX:function(e){this.el.setLocalX(e)},setLocalXY:function(e,t){this.el.setLocalXY(e,t)},setLocalY:function(e){this.el.setLocalY(e)},setX:function(e,t){this.el.setX(e,t)},setXY:function(e,t){this.el.setXY(e,t)},setY:function(e,t){this.el.setY(e,t)}},function(){var e=this;e.createAlias({on:"addListener",prev:"previousSibling",next:"nextSibling"}),Ext.resumeLayouts=function(t){e.resumeLayouts(t)},Ext.suspendLayouts=function(){e.suspendLayouts()},Ext.batchLayouts=function(t,n){e.suspendLayouts(),t.call(n),e.resumeLayouts(!0)}}),Ext.define("Ext.data.flash.BinaryXhr",{statics:{flashPluginActivated:function(){Ext.data.flash.BinaryXhr.flashPluginActive=!0,Ext.data.flash.BinaryXhr.flashPlugin=document.getElementById("ext-flash-polyfill"),Ext.globalEvents.fireEvent("flashready")},flashPluginActive:!1,flashPluginInjected:!1,connectionIndex:1,liveConnections:{},flashPlugin:null,onFlashStateChange:function(e,t,n){var i;(i=this.liveConnections[Number(e)])?i.onFlashStateChange(t,n):Ext.warn.log("onFlashStateChange for unknown connection ID: "+e)},registerConnection:function(e){var t=this.connectionIndex;return this.conectionIndex=this.connectionIndex+1,this.liveConnections[t]=e,t},injectFlashPlugin:function(){var e,t,n,i,r,o;(i=document.createElement("img")).setAttribute("src",window.location.protocol+"//www.adobe.com/images/shared/download_buttons/get_flash_player.gif"),i.setAttribute("alt","Get Adobe Flash player"),(n=document.createElement("a")).setAttribute("href","http://www.adobe.com/go/getflashplayer"),n.appendChild(i),(t=document.createElement("p")).innerHTML="To view this page ensure that Adobe Flash Player version 11.1.0 or greater is installed.",(e=document.createElement("div")).setAttribute("id","ext-flash-polyfill"),e.appendChild(t),e.appendChild(i),Ext.getBody().dom.appendChild(e),r=[Ext.Loader.getPath("Ext.data.Connection"),"../../../plugins/flash/swfobject.js"].join("/"),o="/plugins/flash/FlashPlugin.swf",o=[Ext.Loader.getPath("Ext.data.Connection"),"../../plugins/flash/FlashPlugin.swf"].join("/"),Ext.flashPluginPath&&(o=Ext.flashPluginPath),Ext.Loader.loadScript({url:r,onLoad:function(){var e={quality:"high",bgcolor:"#ffffff",allowscriptaccess:"sameDomain",allowfullscreen:"true"},t={id:"ext-flash-polyfill",name:"polyfill",align:"middle"};swfobject.embedSWF(o,"ext-flash-polyfill","0","0","11.4.0","playerProductInstall.swf",{},e,t)},onError:function(){Ext.Error.raise("Could not load flash-loader file swfobject.js from "+flashLoader)},scope:this}),Ext.globalEvents.addEvents("flashready"),Ext.data.flash.BinaryXhr.flashPluginInjected=!0}},readyState:0,status:0,statusText:"",responseBytes:null,javascriptId:null,constructor:function(e){Ext.data.flash.BinaryXhr.flashPluginInjected||Ext.data.flash.BinaryXhr.injectFlashPlugin();Ext.apply(this,e),this.requestHeaders={}},abort:function(){var e=this;4!=e.readyState?(e.aborted=!0,Ext.data.flash.BinaryXhr.flashPluginActive?(Ext.data.flash.BinaryXhr.flashPlugin.abortRequest(e.javascriptId),delete Ext.data.flash.BinaryXhr.liveConnections[e.javascriptId]):Ext.globalEvents.removeListener("flashready",e.onFlashReady,e)):Ext.warn.log("Aborting a connection that's completed its transfer: "+this.url)},getAllResponseHeaders:function(){var e=[];return Ext.Object.each(this.responseHeaders,function(t,n){e.push(t+": "+n)}),e.join("\r\n")},getResponseHeader:function(e){var t=this.responseHeaders;return t&&t[e]||null},open:function(e,t,n,i,r){var o=this;o.method=e,o.url=t,o.async=!1!==n,o.user=i,o.password=r,o.async||Ext.Error.raise("Binary posts are only supported in async mode: "+t),"POST"!=o.method&&Ext.log.warn("Binary data can only be sent as a POST request: "+t)},overrideMimeType:function(e){this.mimeType=e},send:function(e){var t=this;t.body=e,Ext.data.flash.BinaryXhr.flashPluginActive?this.onFlashReady():Ext.globalEvents.addListener("flashready",t.onFlashReady,t)},onFlashReady:function(){var e,t=this;t.javascriptId=Ext.data.flash.BinaryXhr.registerConnection(t),e={method:t.method,url:t.url,user:t.user,password:t.password,mimeType:t.mimeType,requestHeaders:t.requestHeaders,body:t.body,javascriptId:t.javascriptId},Ext.data.flash.BinaryXhr.flashPlugin.postBinary(e)},setReadyState:function(e){var t=this;t.readyState!=e&&(t.readyState=e,t.onreadystatechange())},setRequestHeader:function(e,t){this.requestHeaders[e]=t},onreadystatechange:Ext.emptyFn,parseData:function(e){var t=this;this.status=e.status||0,t.responseHeaders={},t.mimeType&&(t.responseHeaders["content-type"]=t.mimeType),"complete"==e.reason?(this.responseBytes=e.data,t.responseHeaders["content-length"]=e.data.length):"error"==e.reason||"securityError"==e.reason?(this.statusText=e.text,t.responseHeaders["content-length"]=0):Ext.Error.raise("Unkown reason code in data: "+e.reason)},onFlashStateChange:function(e,t){var n=this;4==e&&(n.parseData(t),delete Ext.data.flash.BinaryXhr.liveConnections[n.javascriptId]),n.setReadyState(e)}}),Ext.define("Ext.data.Connection",{mixins:{observable:Ext.util.Observable},statics:{requestId:0},url:null,async:!0,method:null,username:"",password:"",disableCaching:!0,withCredentials:!1,binary:!1,cors:!1,isXdr:!1,defaultXdrContentType:"text/plain",disableCachingParam:"_dc",timeout:3e4,useDefaultHeader:!0,defaultPostHeader:"application/x-www-form-urlencoded; charset=UTF-8",useDefaultXhrHeader:!0,defaultXhrHeader:"XMLHttpRequest",constructor:function(e){e=e||{},Ext.apply(this,e),this.requests={},this.mixins.observable.constructor.call(this)},request:function(e){var t,n,i,r,o,a=this,s=(e=e||{}).scope||window,l=e.username||a.username,d=e.password||a.password||"";return!1!==a.fireEvent("beforerequest",a,e)?(n=a.setOptions(e,s),a.isFormUpload(e)?(a.upload(e.form,n.url,n.data,e),null):((e.autoAbort||a.autoAbort)&&a.abort(),t=!1!==e.async&&(e.async||a.async),o=a.openRequest(e,n,t,l,d),a.isXdr||(r=a.setupHeaders(o,e,n.data,n.params)),i={id:++Ext.data.Connection.requestId,xhr:o,headers:r,options:e,async:t,binary:e.binary||a.binary,timeout:setTimeout(function(){i.timedout=!0,a.abort(i)},e.timeout||a.timeout)},a.requests[i.id]=i,a.latestId=i.id,t&&(a.isXdr||(o.onreadystatechange=Ext.Function.bind(a.onStateChange,a,[i]))),a.isXdr&&a.processXdrRequest(i,o),o.send(n.data),t?i:a.onComplete(i))):(Ext.callback(e.callback,e.scope,[e,void 0,void 0]),null)},processXdrRequest:function(e,t){var n=this;delete e.headers,e.contentType=e.options.contentType||n.defaultXdrContentType,t.onload=Ext.Function.bind(n.onStateChange,n,[e,!0]),t.onerror=t.ontimeout=Ext.Function.bind(n.onStateChange,n,[e,!1])},processXdrResponse:function(e,t){e.getAllResponseHeaders=function(){return[]},e.getResponseHeader=function(){return""},e.contentType=t.contentType||this.defaultXdrContentType},upload:function(e,t,n,i){e=Ext.getDom(e),i=i||{};var r,o,a,s,l,d,c,u,h=Ext.id(),f=document.createElement("iframe"),p=[],g="multipart/form-data",m={target:e.target,method:e.method,encoding:e.encoding,enctype:e.enctype,action:e.action},x=function(t,n){r=document.createElement("input"),Ext.fly(r).set({type:"hidden",value:n,name:t}),e.appendChild(r),p.push(r)};if(Ext.fly(f).set({id:h,name:h,cls:Ext.baseCSSPrefix+"hide-display",src:Ext.SSL_SECURE_URL}),document.body.appendChild(f),document.frames&&(document.frames[h].name=h),Ext.fly(e).set({target:h,method:"POST",enctype:g,encoding:g,action:t||m.action}),n)for(s in o=Ext.Object.fromQueryString(n)||{})if(o.hasOwnProperty(s))if(a=o[s],Ext.isArray(a))for(l=a.length,d=0;d<l;d++)x(s,a[d]);else x(s,a);for(Ext.fly(f).on("load",Ext.Function.bind(this.onUploadComplete,this,[f,i]),null,{single:!Ext.isOpera}),e.submit(),Ext.fly(e).set(m),c=p.length,u=0;u<c;u++)Ext.removeNode(p[u])},onUploadComplete:function(e,t){var n,i,r,o,a={responseText:"",responseXML:null};try{if(r=e.contentWindow.document||e.contentDocument||window.frames[e.id].document){if(Ext.isOpera&&"about:blank"==r.location)return;r.body&&((o=r.body.firstChild)&&/pre/i.test(o.tagName)?a.responseText=o.textContent:(o=r.getElementsByTagName("textarea")[0])?a.responseText=o.value:a.responseText=r.body.textContent||r.body.innerText),a.responseXML=r.XMLDocument||r,n=t.success,i=!0}}catch(e){a.responseText='{success:false,message:"'+Ext.String.trim(e.message||e.description)+'"}',n=t.failure,i=!1}this.fireEvent("requestcomplete",this,a,t),Ext.callback(n,t.scope,[a,t]),Ext.callback(t.callback,t.scope,[t,i,a]),setTimeout(function(){Ext.removeNode(e)},100)},isFormUpload:function(e){var t=this.getForm(e);return!!t&&(e.isUpload||/multipart\/form-data/i.test(t.getAttribute("enctype")))},getForm:function(e){return Ext.getDom(e.form)||null},setOptions:function(e,t){var n,i,r,o=this,a=e.params||{},s=o.extraParams,l=e.urlParams,d=e.url||o.url,c=e.jsonData;return Ext.isFunction(a)&&(a=a.call(t,e)),Ext.isFunction(d)&&(d=d.call(t,e)),(d=this.setupUrl(e,d))||Ext.Error.raise({options:e,msg:"No URL specified"}),r=e.rawData||e.binaryData||e.xmlData||c||null,c&&!Ext.isPrimitive(c)&&(r=Ext.encode(r)),e.binaryData&&(Ext.isArray(e.binaryData)||Ext.log.warn("Binary submission data must be an array of byte values! Instead got "+typeof e.binaryData),o.nativeBinaryPostSupport()&&(r=new Uint8Array(e.binaryData),(Ext.isChrome&&Ext.chromeVersion<22||Ext.isSafari||Ext.isGecko)&&(r=r.buffer))),Ext.isObject(a)&&(a=Ext.Object.toQueryString(a)),Ext.isObject(s)&&(s=Ext.Object.toQueryString(s)),a+=s?(a?"&":"")+s:"",l=Ext.isObject(l)?Ext.Object.toQueryString(l):l,a=this.setupParams(e,a),n=(e.method||o.method||(a||r?"POST":"GET")).toUpperCase(),this.setupMethod(e,n),i=!1!==e.disableCaching&&(e.disableCaching||o.disableCaching),"GET"===n&&i&&(d=Ext.urlAppend(d,(e.disableCachingParam||o.disableCachingParam)+"="+(new Date).getTime())),("GET"==n||r)&&a&&(d=Ext.urlAppend(d,a),a=null),l&&(d=Ext.urlAppend(d,l)),{url:d,method:n,data:r||a||null}},setupUrl:function(e,t){var n=this.getForm(e);return n&&(t=t||n.action),t},setupParams:function(e,t){var n,i=this.getForm(e);return i&&!this.isFormUpload(e)&&(n=Ext.Element.serializeForm(i),t=t?t+"&"+n:n),t},setupMethod:function(e,t){return this.isFormUpload(e)?"POST":t},setupHeaders:function(e,t,n,i){var r,o,a=this,s=Ext.apply({},t.headers||{},a.defaultHeaders||{}),l=a.defaultPostHeader,d=t.jsonData,c=t.xmlData;s["Content-Type"]||!n&&!i||(n&&(t.rawData?l="text/plain":c&&Ext.isDefined(c)?l="text/xml":d&&Ext.isDefined(d)&&(l="application/json")),s["Content-Type"]=l),a.useDefaultXhrHeader&&!s["X-Requested-With"]&&(s["X-Requested-With"]=a.defaultXhrHeader);try{for(r in s)s.hasOwnProperty(r)&&(o=s[r],e.setRequestHeader(r,o))}catch(e){a.fireEvent("exception",r,o)}return s},newRequest:function(e){var t,n=this;return e.binaryData?t=n.nativeBinaryPostSupport()?this.getXhrInstance():new Ext.data.flash.BinaryXhr:(e.cors||n.cors)&&Ext.isIE&&Ext.ieVersion<=9?(t=n.getXdrInstance(),n.isXdr=!0):t=n.getXhrInstance(),t},openRequest:function(e,t,n,i,r){var o=this,a=o.newRequest(e);return i?a.open(t.method,t.url,n,i,r):o.isXdr?a.open(t.method,t.url):a.open(t.method,t.url,n),(e.binary||o.binary)&&(window.Uint8Array?a.responseType="arraybuffer":a.overrideMimeType?a.overrideMimeType("text/plain; charset=x-user-defined"):Ext.isIE||Ext.log.warn("Your does not support loading binary data using Ajax.")),(e.withCredentials||o.withCredentials)&&(a.withCredentials=!0),a},getXdrInstance:function(){var e;return Ext.ieVersion>=8?e=new XDomainRequest:Ext.Error.raise({msg:"Your browser does not support CORS"}),e},getXhrInstance:function(){for(var e,t=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("MSXML2.XMLHTTP.3.0")},function(){return new ActiveXObject("MSXML2.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],n=0,i=t.length;n<i;++n)try{(e=t[n])();break}catch(e){}return e}(),isLoading:function(e){if(e||(e=this.getLatest()),!e||!e.xhr)return!1;var t=e.xhr.readyState;return e.xhr instanceof Ext.data.flash.BinaryXhr&&4!=t||!(0===t||4==t)},abort:function(e){var t,n=this;if(e||(e=n.getLatest()),e&&n.isLoading(e)){t=e.xhr;try{t.onreadystatechange=null}catch(e){t.onreadystatechange=Ext.emptyFn}t.abort(),n.clearTimeout(e),e.timedout||(e.aborted=!0),n.onComplete(e),n.cleanup(e)}},abortAll:function(){var e,t=this.requests;for(e in t)t.hasOwnProperty(e)&&this.abort(t[e])},getLatest:function(){var e,t=this.latestId;return t&&(e=this.requests[t]),e||null},onStateChange:function(e,t){var n=this;(e.xhr&&4==e.xhr.readyState||n.isXdr)&&(n.clearTimeout(e),n.onComplete(e,t),n.cleanup(e),Ext.EventManager.idleEvent.fire())},clearTimeout:function(e){clearTimeout(e.timeout),delete e.timeout},cleanup:function(e){e.xhr=null,delete e.xhr},onComplete:function(e,t){var n,i,r,o=this,a=e.options;try{n=o.parseStatus(e.xhr.status)}catch(e){n={success:!1,isException:!1}}return(i=o.isXdr?t:n.success)?(r=o.createResponse(e),o.fireEvent("requestcomplete",o,r,a),Ext.callback(a.success,a.scope,[r,a])):(r=n.isException||e.aborted||e.timedout?o.createException(e):o.createResponse(e),o.fireEvent("requestexception",o,r,a),Ext.callback(a.failure,a.scope,[r,a])),Ext.callback(a.callback,a.scope,[a,i,r]),delete o.requests[e.id],r},parseStatus:function(e){var t=(e=1223==e?204:e)>=200&&e<300||304==e,n=!1;if(!t)switch(e){case 12002:case 12029:case 12030:case 12031:case 12152:case 13030:n=!0}return{success:t,isException:n}},createResponse:function(e){for(var t,n,i,r,o=this,a=e.xhr,s=o.isXdr,l={},d=s?[]:a.getAllResponseHeaders().replace(/\r\n/g,"\n").split("\n"),c=d.length;c--;)(n=(t=d[c]).indexOf(":"))>=0&&(i=t.substr(0,n).toLowerCase()," "==t.charAt(n+1)&&++n,l[i]=t.substr(n+1));return e.xhr=null,delete e.xhr,r={request:e,requestId:e.id,status:a.status,statusText:a.statusText,getResponseHeader:function(e){return l[e.toLowerCase()]},getAllResponseHeaders:function(){return l}},s&&o.processXdrResponse(r,a),e.binary?r.responseBytes=o.getByteArray(a):(r.responseText=a.responseText,r.responseXML=a.responseXML),a=null,r},createException:function(e){return{request:e,requestId:e.id,status:e.aborted?-1:0,statusText:e.aborted?"transaction aborted":"communication failure",aborted:e.aborted,timedout:e.timedout}},getByteArray:function(e){var t,n,i,r,o=e.response,a=e.responseBody;if(e instanceof Ext.data.flash.BinaryXhr)t=e.responseBytes;else if(window.Uint8Array)t=o?new Uint8Array(o):[];else if(Ext.isIE9p)try{t=new VBArray(a).toArray()}catch(e){t=[]}else if(Ext.isIE)this.self.vbScriptInjected||this.injectVBScript(),getIEByteArray(e.responseBody,t=[]);else for(t=[],i=(n=e.responseText).length,r=0;r<i;r++)t.push(255&n.charCodeAt(r));return t},injectVBScript:function(){var e=document.createElement("script");e.type="text/vbscript",e.text=["Function getIEByteArray(byteArray, out)","Dim len, i","len = LenB(byteArray)","For i = 1 to len","out.push(AscB(MidB(byteArray, i, 1)))","Next","End Function"].join("\n"),Ext.getHead().dom.appendChild(e),this.self.vbScriptInjected=!0},nativeBinaryPostSupport:function(){return Ext.isChrome||Ext.isSafari&&Ext.isDefined(window.Uint8Array)||Ext.isGecko&&Ext.isDefined(window.Uint8Array)}}),Ext.define("Ext.Ajax",{extend:Ext.data.Connection,singleton:!0,autoAbort:!1}),Ext.define("Ext.util.Floating",{focusOnToFront:!0,shadow:"sides",constrain:!1,constructor:function(e){var t=this;t.fixed=t.fixed&&!(Ext.isIE6||Ext.isIEQuirks),t.el=new Ext.dom.Layer(Ext.apply({hideMode:t.hideMode,hidden:t.hidden,shadow:void 0!==t.shadow?t.shadow:"sides",shadowOffset:t.shadowOffset,constrain:!1,fixed:t.fixed,shim:!1!==t.shim&&void 0},t.floating),e),!t.modal||Ext.FocusManager&&Ext.FocusManager.enabled||t.mon(t.el,{keydown:t.onKeyDown,scope:t}),t.mon(t.el,{mousedown:t.onMouseDown,scope:t}),t.floating=!0,t.registerWithOwnerCt(),t.initHierarchyEvents()},initHierarchyEvents:function(){var e=this,t=this.syncHidden;e.hasHierarchyEventListeners||(e.mon(e.hierarchyEventSource,{hide:t,collapse:t,show:t,expand:t,added:t,scope:e}),e.hasHierarchyEventListeners=!0)},registerWithOwnerCt:function(){var e=this,t=e.ownerCt,n=e.zIndexParent;n&&n.unregisterFloatingItem(e),n=e.zIndexParent=e.up("[floating]"),e.setFloatParent(t||n),delete e.ownerCt,n?n.registerFloatingItem(e):Ext.WindowManager.register(e)},onKeyDown:function(e){var t,n,i,r;e.getKey()==Ext.EventObject.TAB&&(t=e.shiftKey,i=(n=this.el.query(":focusable"))[0],r=n[n.length-1],i&&r&&e.target===(t?i:r)&&(e.stopEvent(),(t?r:i).focus(!1,!0)))},onMouseDown:function(e){this.floating&&this.toFront(!!e.getTarget(":focusable"))},setFloatParent:function(e){var t=this;t.floatParent=e,!t.constrain&&!t.constrainHeader||t.constrainTo||(t.constrainTo=e?e.getTargetEl():t.container)},onAfterFloatLayout:function(){this.syncShadow()},syncHidden:function(){var e=this,t=e.hidden||!e.rendered,n=e.hierarchicallyHidden=e.isHierarchicallyHidden(),i=e.pendingShow;t!==n&&(n?(e.hide(),e.pendingShow=!0):i&&(delete e.pendingShow,i.length?e.show.apply(e,i):e.show()))},setZIndex:function(e){var t=this;return t.el.setZIndex(e),e+=10,t.floatingDescendants&&(e=100*Math.floor(t.floatingDescendants.setBase(e)/100)+1e4),e},doConstrain:function(e){var t=this.calculateConstrainedPosition(e,null,!0);t&&this.setPosition(t)},toFront:function(e){var t=this,n=t.zIndexParent,i=t.preventFocusOnActivate;return n&&!1!==t.bringParentToFront&&n.toFront(!0),Ext.isDefined(e)||(e=!t.focusOnToFront),e&&(t.preventFocusOnActivate=!0),t.zIndexManager.bringToFront(t,e)&&(e||t.focus(!1,!0)),t.preventFocusOnActivate=i,t},setActive:function(e,t){var n=this;e?(n.el.shadow&&!n.maximized&&n.el.enableShadow(!0),n.preventFocusOnActivate||n.focus(!1,!0),n.fireEvent("activate",n)):(n.isWindow&&t&&t.isWindow&&n.hideShadowOnDeactivate&&n.el.disableShadow(),n.fireEvent("deactivate",n))},toBack:function(){return this.zIndexManager.sendToBack(this),this},center:function(){var e,t=this;return t.isVisible()?(e=t.getAlignToXY(t.container,"c-c"),t.setPagePosition(e)):t.needsCenter=!0,t},onFloatShow:function(){this.needsCenter&&this.center(),delete this.needsCenter},syncShadow:function(){this.floating&&this.el.sync(!0)},fitContainer:function(e){var t=this,n=t.floatParent,i=n?n.getTargetEl():t.container,r=i.getViewSize(!1),o=n||i.dom!==document.body?[0,0]:i.getXY();r.x=o[0],r.y=o[1],t.setBox(r,e)}}),Ext.define("Ext.Component",{alias:["widget.component","widget.box"],extend:Ext.AbstractComponent,mixins:{floating:Ext.util.Floating},statics:{DIRECTION_TOP:"top",DIRECTION_RIGHT:"right",DIRECTION_BOTTOM:"bottom",DIRECTION_LEFT:"left",VERTICAL_DIRECTION_Re:/^(?:top|bottom)$/,INVALID_ID_CHARS_Re:/[\.,\s]/g},resizeHandles:"all",floating:!1,defaultAlign:"tl-bl?",toFrontOnShow:!0,hideMode:"display",offsetsCls:Ext.baseCSSPrefix+"hide-offsets",bubbleEvents:[],defaultComponentLayoutType:"autocomponent",constructor:function(e){var t=this;(e=e||{}).initialConfig?(e.isAction&&(t.baseAction=e),e=e.initialConfig):(e.tagName||e.dom||Ext.isString(e))&&(e={applyTo:e,id:e.id||e}),t.callParent([e]),t.baseAction&&t.baseAction.addComponent(t)},initComponent:function(){var e=this;e.callParent(),e.listeners&&(e.on(e.listeners),e.listeners=null),e.enableBubble(e.bubbleEvents)},afterRender:function(){var e=this;e.callParent(),e.x&&e.y||!e.pageX&&!e.pageY||e.setPagePosition(e.pageX,e.pageY)},setAutoScroll:function(e){var t=this;return t.autoScroll=!!e,t.rendered&&t.getOverflowEl().setStyle(t.getOverflowStyle()),t.updateLayout(),t},setOverflowXY:function(e,t){var n=this,i=arguments.length;return i&&(n.overflowX=e||"",i>1&&(n.overflowY=t||"")),n.rendered&&n.getOverflowEl().setStyle(n.getOverflowStyle()),n.updateLayout(),n},beforeRender:function(){var e,t=this,n=t.floating;return n&&(t.addCls(Ext.baseCSSPrefix+"layer"),(e=n.cls)&&t.addCls(e)),t.callParent()},afterComponentLayout:function(){this.callParent(arguments),this.floating&&this.onAfterFloatLayout()},makeFloating:function(e){this.mixins.floating.constructor.call(this,e)},wrapPrimaryEl:function(e){this.floating?this.makeFloating(e):this.callParent(arguments)},initResizable:function(e){var t=this;(e=Ext.apply({target:t,dynamic:!1,constrainTo:t.constrainTo||(t.floatParent?t.floatParent.getTargetEl():null),handles:t.resizeHandles},e)).target=t,t.resizer=new Ext.resizer.Resizer(e)},getDragEl:function(){return this.el},initDraggable:function(){var e=this,t=e.resizer&&e.resizer.el!==e.el?e.resizerComponent=new Ext.Component({el:e.resizer.el,rendered:!0,container:e.container}):e,n=Ext.applyIf({el:t.getDragEl(),constrainTo:e.constrain||e.draggable.constrain?e.constrainTo||(e.floatParent?e.floatParent.getTargetEl():e.container):void 0},e.draggable);(e.constrain||e.constrainDelegate)&&(n.constrain=e.constrain,n.constrainDelegate=e.constrainDelegate),e.dd=new Ext.util.ComponentDragger(t,n)},scrollBy:function(e,t,n){var i;(i=this.getTargetEl())&&i.dom&&i.scrollBy.apply(i,arguments)},setLoading:function(e,t){var n=this,i={target:n};return n.rendered&&(Ext.destroy(n.loadMask),n.loadMask=null,!1===e||n.collapsed||(Ext.isObject(e)?Ext.apply(i,e):Ext.isString(e)&&(i.msg=e),t&&Ext.applyIf(i,{useTargetEl:!0}),n.loadMask=new Ext.LoadMask(i),n.loadMask.show())),n.loadMask},beforeSetPosition:function(){var e,t=this.callParent(arguments);return t&&(e=this.adjustPosition(t.x,t.y),t.x=e.x,t.y=e.y),t||null},afterSetPosition:function(e,t){this.onPosition(e,t),this.fireEvent("move",this,e,t)},showAt:function(e,t,n){var i=this;if(!i.rendered&&(i.autoRender||i.floating))return i.x=e,i.y=t,i.show();i.floating?i.setPosition(e,t,n):i.setPagePosition(e,t,n),i.show()},showBy:function(e,t,n){var i=this;return i.floating?(i.floating&&e&&(i.show(),i.rendered&&!i.hidden&&i.alignTo(e,t||i.defaultAlign,n)),i):(Ext.log.warn("Using showBy on a non-floating component"),i)},setPagePosition:function(e,t,n){var i,r,o=this;return Ext.isArray(e)&&(t=e[1],e=e[0]),o.pageX=e,o.pageY=t,o.floating?(o.isContainedFloater()?(r=o.floatParent.getTargetEl().getViewRegion(),Ext.isNumber(e)&&Ext.isNumber(r.left)&&(e-=r.left),Ext.isNumber(t)&&Ext.isNumber(r.top)&&(t-=r.top)):(e=(i=o.el.translateXY(e,t)).x,t=i.y),o.setPosition(e,t,n)):(i=o.el.translateXY(e,t),o.setPosition(i.x,i.y,n)),o},isContainedFloater:function(){return this.floating&&this.floatParent},updateBox:function(e){return this.setSize(e.width,e.height),this.setPagePosition(e.x,e.y),this},getOuterSize:function(){var e=this.el;return{width:e.getWidth()+e.getMargin("lr"),height:e.getHeight()+e.getMargin("tb")}},adjustPosition:function(e,t){var n;return this.isContainedFloater()&&(e+=(n=this.floatParent.getTargetEl().getViewRegion()).left,t+=n.top),{x:e,y:t}},getPosition:function(e){var t,n,i=this,r=i.isContainedFloater();return!0!==e||r?(t=i.getXY(),!0===e&&r&&(n=i.floatParent.getTargetEl().getViewRegion(),t[0]-=n.left,t[1]-=n.top),t):[i.getLocalX(),i.getLocalY()]},getId:function(){var e,t=this;return t.id||(e=(e=t.getXType())?e.replace(Ext.Component.INVALID_ID_CHARS_Re,"-"):Ext.name.toLowerCase()+"-comp",t.id=e+"-"+t.getAutoId()),t.id},show:function(e,t,n){var i=this,r=i.rendered;return i.hierarchicallyHidden||i.floating&&!r&&i.isHierarchicallyHidden()?(r||i.initHierarchyEvents(),arguments.length>1?(arguments[0]=null,i.pendingShow=arguments):i.pendingShow=!0):r&&i.isVisible()?i.toFrontOnShow&&i.floating&&i.toFront():!1!==i.fireEvent("beforeshow",i)?(i.hidden=!1,delete this.getHierarchyState().hidden,r||!i.autoRender&&!i.floating||(i.doAutoRender(),r=i.rendered),r&&(i.beforeShow(),i.onShow.apply(i,arguments),i.afterShow.apply(i,arguments))):i.onShowVeto(),i},onShowVeto:Ext.emptyFn,beforeShow:Ext.emptyFn,onShow:function(){var e=this;e.el.show(),e.callParent(arguments),e.floating&&(e.maximized?e.fitContainer():e.constrain&&e.doConstrain())},getAnimateTarget:function(e){return(e=e||this.animateTarget)&&(e=e.isComponent?e.getEl():Ext.get(e)),e||null},afterShow:function(e,t,n){var i,r,o,a=this,s=a.el;e=a.getAnimateTarget(e),a.ghost||(e=null),e?(r={x:s.getX(),y:s.getY(),width:s.dom.offsetWidth,height:s.dom.offsetHeight},i={x:e.getX(),y:e.getY(),width:e.dom.offsetWidth,height:e.dom.offsetHeight},s.addCls(a.offsetsCls),(o=a.ghost()).el.stopAnimation(),o.setX(-1e4),a.ghostBox=r,o.el.animate({from:i,to:r,listeners:{afteranimate:function(){delete o.componentLayout.lastComponentSize,a.unghost(),delete a.ghostBox,s.removeCls(a.offsetsCls),a.onShowComplete(t,n)}}})):a.onShowComplete(t,n),a.fireHierarchyEvent("show")},onShowComplete:function(e,t){var n=this;n.floating&&(n.toFront(),n.onFloatShow()),Ext.callback(e,t||n),n.fireEvent("show",n),delete n.hiddenByLayout},hide:function(e,t,n){var i,r=this;return r.pendingShow&&delete r.pendingShow,r.rendered&&!r.isVisible()||(i=!1!==r.fireEvent("beforehide",r),(r.hierarchicallyHidden||i)&&(r.hidden=!0,r.getHierarchyState().hidden=!0,r.rendered&&r.onHide.apply(r,arguments))),r},onHide:function(e,t,n){var i,r,o,a=this,s=Ext.Element.getActiveElement();(s===a.el||a.el.contains(s))&&Ext.fly(s).blur(),e=a.getAnimateTarget(e),a.ghost||(e=null),e&&(o={x:e.getX(),y:e.getY(),width:e.dom.offsetWidth,height:e.dom.offsetHeight},(i=a.ghost()).el.stopAnimation(),r=a.getSize(),i.el.animate({to:o,listeners:{afteranimate:function(){delete i.componentLayout.lastComponentSize,i.el.hide(),i.el.setSize(r),a.afterHide(t,n)}}})),a.el.hide(),e||a.afterHide(t,n)},afterHide:function(e,t){var n=this;delete n.hiddenByLayout,Ext.AbstractComponent.prototype.onHide.call(n),Ext.callback(e,t||n),n.fireEvent("hide",n),n.fireHierarchyEvent("hide")},onDestroy:function(){var e=this;e.rendered&&Ext.destroy(e.dd,e.resizer,e.proxy,e.proxyWrap,e.resizerComponent),delete e.focusTask,e.callParent()},deleteMembers:function(){for(var e=arguments,t=e.length,n=0;n<t;++n)delete this[e[n]]},focus:function(e,t){var n,i,r,o=this;if(t)return o.focusTask||(o.self.prototype.focusTask=new Ext.util.DelayedTask(o.focus)),o.focusTask.delay(Ext.isNumber(t)?t:10,null,o,[e,!1]),o;if(o.focusTask&&o.focusTask.cancel(),o.rendered&&!o.isDestroyed&&o.isVisible(!0)&&(n=o.getFocusEl())){if(n.isComponent)return n.focus(e,t);(i=n.dom)&&(n.needsTabIndex()&&(i.tabIndex=-1),o.floating&&(r=o.container.dom.scrollTop),n.focus(),!0===e&&i.select()),o.floating&&(o.toFront(!0),void 0!==r&&(o.container.dom.scrollTop=r))}return o},cancelFocus:function(){var e=this.focusTask;e&&e.cancel()},blur:function(){var e;return this.rendered&&(e=this.getFocusEl())&&e.blur(),this},getEl:function(){return this.el},getResizeEl:function(){return this.el},getPositionEl:function(){return this.el},getActionEl:function(){return this.el},getVisibilityEl:function(){return this.el},getRefOwner:function(){return this.ownerCt||this.floatParent},getBubbleTarget:function(){return this.getRefOwner()},getContentTarget:function(){return this.el},cloneConfig:function(e){var t=(e=e||{}).id||Ext.id(),n=Ext.applyIf(e,this.initialConfig);return n.id=t,new(Ext.getClass(this))(n)},getXType:function(){return this.self.xtype},findParentBy:function(e){var t;for(t=this.getBubbleTarget();t&&!e(t,this);t=t.getBubbleTarget());return t||null},findParentByType:function(e){return Ext.isFunction(e)?this.findParentBy(function(t){return t.constructor===e}):this.up(e)},bubble:function(e,t,n){for(var i=this;i&&!1!==e.apply(t||i,n||[i]);)i=i.getBubbleTarget();return this},getProxy:function(){var e,t=this;return t.proxy||(e=Ext.getBody(),t.proxy=t.el.createProxy(Ext.baseCSSPrefix+"proxy-el",e,!0)),t.proxy},fireHierarchyEvent:function(e){this.hierarchyEventSource.fireEvent(e,this)},onAdded:function(){this.callParent(arguments),this.hierarchyEventSource.hasListeners.added&&this.fireHierarchyEvent("added")}},function(){this.hierarchyEventSource=this.prototype.hierarchyEventSource=new Ext.util.Observable({events:{hide:!0,show:!0,collapse:!0,expand:!0,added:!0}})}),Ext.define("Ext.ElementLoader",{mixins:{observable:Ext.util.Observable},statics:{Renderer:{Html:function(e,t,n){return e.getTarget().update(t.responseText,!0===n.scripts),!0}}},url:null,params:null,baseParams:null,autoLoad:!1,target:null,loadMask:!1,ajaxOptions:null,scripts:!1,isLoader:!0,constructor:function(e){var t,n=this;e=e||{},Ext.apply(n,e),n.setTarget(n.target),n.addEvents("beforeload","exception","load"),n.mixins.observable.constructor.call(n),n.autoLoad&&(!0===(t=n.autoLoad)&&(t={}),n.load(t))},setTarget:function(e){var t=this;e=Ext.get(e),t.target&&t.target!=e&&t.abort(),t.target=e},getTarget:function(){return this.target||null},abort:function(){var e=this.active;void 0!==e&&(Ext.Ajax.abort(e.request),e.mask&&this.removeMask(),delete this.active)},removeMask:function(){this.target.unmask()},addMask:function(e){this.target.mask(!0===e?null:e)},load:function(e){this.target||Ext.Error.raise("A valid target is required when loading content"),e=Ext.apply({},e);var t=this,n=Ext.isDefined(e.loadMask)?e.loadMask:t.loadMask,i=Ext.apply({},e.params),r=Ext.apply({},e.ajaxOptions),o=e.callback||t.callback,a=e.scope||t.scope||t;Ext.applyIf(r,t.ajaxOptions),Ext.applyIf(e,r),Ext.applyIf(i,t.params),Ext.apply(i,t.baseParams),Ext.applyIf(e,{url:t.url}),e.url||Ext.Error.raise("You must specify the URL from which content should be loaded"),Ext.apply(e,{scope:t,params:i,callback:t.onComplete}),!1!==t.fireEvent("beforeload",t,e)&&(n&&t.addMask(n),t.active={options:e,mask:n,scope:a,callback:o,success:e.success||t.success,failure:e.failure||t.failure,renderer:e.renderer||t.renderer,scripts:Ext.isDefined(e.scripts)?e.scripts:t.scripts},t.active.request=Ext.Ajax.request(e),t.setOptions(t.active,e))},setOptions:Ext.emptyFn,onComplete:function(e,t,n){var i,r=this,o=r.active;o&&(i=o.scope,t&&(t=!1!==r.getRenderer(o.renderer).call(r,r,n,o)),t?(Ext.callback(o.success,i,[r,n,e]),r.fireEvent("load",r,n,e)):(Ext.callback(o.failure,i,[r,n,e]),r.fireEvent("exception",r,n,e)),Ext.callback(o.callback,i,[r,t,n,e]),o.mask&&r.removeMask()),delete r.active},getRenderer:function(e){return Ext.isFunction(e)?e:this.statics().Renderer.Html},startAutoRefresh:function(e,t){var n=this;n.stopAutoRefresh(),n.autoRefresh=setInterval(function(){n.load(t)},e)},stopAutoRefresh:function(){clearInterval(this.autoRefresh),delete this.autoRefresh},isAutoRefreshing:function(){return Ext.isDefined(this.autoRefresh)},destroy:function(){var e=this;e.stopAutoRefresh(),delete e.target,e.abort(),e.clearListeners()}}),Ext.define("Ext.ComponentLoader",{extend:Ext.ElementLoader,statics:{Renderer:{Data:function(e,t,n){var i=!0;try{e.getTarget().update(Ext.decode(t.responseText))}catch(e){i=!1}return i},Component:function(e,t,n){var i=!0,r=e.getTarget(),o=[];r.isContainer||Ext.Error.raise({target:r,msg:"Components can only be loaded into a container"});try{o=Ext.decode(t.responseText)}catch(e){i=!1}return i&&(r.suspendLayouts(),n.removeAll&&r.removeAll(),r.add(o),r.resumeLayouts(!0)),i}}},target:null,loadMask:!1,renderer:"html",setTarget:function(e){var t=this;Ext.isString(e)&&(e=Ext.getCmp(e)),t.target&&t.target!=e&&t.abort(),t.target=e},removeMask:function(){this.target.setLoading(!1)},addMask:function(e){this.target.setLoading(e)},setOptions:function(e,t){e.removeAll=Ext.isDefined(t.removeAll)?t.removeAll:this.removeAll},getRenderer:function(e){if(Ext.isFunction(e))return e;var t=this.statics().Renderer;switch(e){case"component":return t.Component;case"data":return t.Data;default:return Ext.ElementLoader.Renderer.Html}}}),Ext.define("Ext.layout.SizeModel",{constructor:function(e){var t,n=this,i=n.self,r=i.sizeModelsArray;Ext.apply(n,e),n[t=n.name]=!0,n.fixed=!(n.auto=n.natural||n.shrinkWrap),r[n.ordinal=r.length]=i[t]=i.sizeModels[t]=n},statics:{sizeModelsArray:[],sizeModels:{}},calculated:!1,configured:!1,constrainedMax:!1,constrainedMin:!1,natural:!1,shrinkWrap:!1,calculatedFromConfigured:!1,calculatedFromNatural:!1,calculatedFromShrinkWrap:!1,names:null},function(){var e,t,n,i,r,o=this,a=o.sizeModelsArray;for(new o({name:"calculated"}),new o({name:"configured",names:{width:"width",height:"height"}}),new o({name:"natural"}),new o({name:"shrinkWrap"}),new o({name:"calculatedFromConfigured",configured:!0,names:{width:"width",height:"height"}}),new o({name:"calculatedFromNatural",natural:!0}),new o({name:"calculatedFromShrinkWrap",shrinkWrap:!0}),new o({name:"constrainedMax",configured:!0,constrained:!0,names:{width:"maxWidth",height:"maxHeight"}}),new o({name:"constrainedMin",configured:!0,constrained:!0,names:{width:"minWidth",height:"minHeight"}}),new o({name:"constrainedDock",configured:!0,constrained:!0,constrainedByMin:!0,names:{width:"dockConstrainedWidth",height:"dockConstrainedHeight"}}),e=0,n=a.length;e<n;++e)for((r=a[e]).pairsByHeightOrdinal=i=[],t=0;t<n;++t)i.push({width:r,height:a[t]})}),Ext.define("Ext.layout.Layout",{isLayout:!0,initialized:!1,running:!1,autoSizePolicy:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},statics:{layoutsByType:{},create:function(e,t){var n,i,r,o,a,s,l=Ext.ClassManager,d=this.layoutsByType;if(e&&"string"!=typeof e){if(e.isLayout)return e;r=e,a=e.type||t}else a=e||t,r={};if(!(o=d[a])){if(n="layout."+a,(i=l.getNameByAlias(n))||(s=!0),o=l.get(i),s||!o)return l.instantiateByAlias(n,r||{});d[a]=o}return new o(r)}},constructor:function(e){var t=this;t.id=Ext.id(null,t.type+"-"),Ext.apply(t,e),t.layoutCount=0},beginLayout:Ext.emptyFn,beginLayoutCycle:function(e){var t,n=this,i=n.context;n.lastWidthModel!=e.widthModel&&(n.lastWidthModel&&(t=!0),n.lastWidthModel=e.widthModel),n.lastHeightModel!=e.heightModel&&(n.lastWidthModel&&(t=!0),n.lastHeightModel=e.heightModel),t&&((i=e.context).clearTriggers(n,!1),i.clearTriggers(n,!0),n.triggerCount=0)},finishedLayout:function(e){this.lastWidthModel=e.widthModel,this.lastHeightModel=e.heightModel,this.ownerContext=null},redoLayout:Ext.emptyFn,undoLayout:Ext.emptyFn,getAnimatePolicy:function(){return this.animatePolicy},getItemSizePolicy:function(e){return this.autoSizePolicy},isItemBoxParent:function(e){return!1},isItemLayoutRoot:function(e){var t=e.getSizeModel(),n=t.width,i=t.height;return!(!e.componentLayout.lastComponentSize&&(n.calculated||i.calculated))&&(!n.shrinkWrap&&!i.shrinkWrap)},isItemShrinkWrap:function(e){return e.shrinkWrap},isRunning:function(){return!!this.ownerContext},getItemsRenderTree:function(e,t){var n,i,r,o,a=e.length;if(a)for(o=[],n=0;n<a;++n)(i=e[n]).rendered||(t&&void 0!==t[i.id]?r=t[i.id]:(this.configureItem(i),r=i.getRenderTree(),t&&(t[i.id]=r)),r&&o.push(r));return o},finishRender:Ext.emptyFn,finishRenderItems:function(e,t){var n,i,r=t.length;for(n=0;n<r;n++)(i=t[n]).rendering&&(i.finishRender(n),this.afterRenderItem(i))},renderChildren:function(){var e=this,t=e.getLayoutItems(),n=e.getRenderTarget();e.renderItems(t,n)},renderItems:function(e,t){var n,i=this,r=e.length,o=0;if(r){for(Ext.suspendLayouts();o<r;o++)(n=e[o])&&!n.rendered?i.renderItem(n,t,o):i.isValidParent(n,t,o)?i.configureItem(n):i.moveItem(n,t,o);Ext.resumeLayouts(!0)}},isValidParent:function(e,t,n){var i,r=e.el?e.el.dom:Ext.getDom(e),o=t&&t.dom||t,a=r.parentNode;return a&&(i=a.className)&&-1!==i.indexOf(Ext.baseCSSPrefix+"resizable-wrap")&&(r=r.parentNode),!(!r||!o)&&("number"==typeof n?(n=this.getPositionOffset(n),r===o.childNodes[n]):r.parentNode===o)},getPositionOffset:function(e){return e},configureItem:function(e){e.ownerLayout=this},renderItem:function(e,t,n){e.rendered||(this.configureItem(e),e.render(t,n),this.afterRenderItem(e))},moveItem:function(e,t,n){t=t.dom||t,"number"==typeof n&&(n=t.childNodes[n]),t.insertBefore(e.el.dom,n||null),e.container=Ext.get(t),this.configureItem(e)},onContentChange:function(){return this.owner.updateLayout(),!0},initLayout:function(){this.initialized=!0},setOwner:function(e){this.owner=e},getLayoutItems:function(){return[]},afterRenderItem:Ext.emptyFn,onAdd:Ext.emptyFn,onRemove:Ext.emptyFn,onDestroy:Ext.emptyFn,afterRemove:function(e){var t,n=e.el,i=this.owner;e.rendered&&(t=[].concat(this.itemCls||[]),i.itemCls&&(t=Ext.Array.push(t,i.itemCls)),t.length&&n.removeCls(t)),delete e.ownerLayout},destroy:function(){var e,t=this;t.targetCls&&(e=t.getTarget())&&e.removeCls(t.targetCls),t.onDestroy()},sortWeightedItems:function(e,t){for(var n=0,i=e.length;n<i;++n)e[n].$i=n;for(Ext.Array.sort(e,function(e,n){var i=n.weight-e.weight;return i||(i=e.$i-n.$i,e[t]&&(i=-i)),i}),n=0;n<i;++n)delete e[n].$i}},function(){this.prototype.sizeModels=this.sizeModels=Ext.layout.SizeModel.sizeModels}),Ext.define("Ext.layout.container.Container",{alias:["layout.container"],extend:Ext.layout.Layout,alternateClassName:"Ext.layout.ContainerLayout",mixins:{elementCt:Ext.util.ElementContainer},type:"container",beginCollapse:Ext.emptyFn,beginExpand:Ext.emptyFn,animatePolicy:null,childEls:["overflowPadderEl"],renderTpl:["{%this.renderBody(out,values)%}"],usesContainerHeight:!0,usesContainerWidth:!0,usesHeight:!0,usesWidth:!0,constructor:function(){this.callParent(arguments),this.mixins.elementCt.constructor.call(this)},destroy:function(){this.callParent(),this.mixins.elementCt.destroy.call(this)},beginLayout:function(e){this.callParent(arguments),e.targetContext=e.paddingContext=e.getEl("getTarget",this),this.cacheChildItems(e)},beginLayoutCycle:function(e,t){var n=this;n.callParent(arguments),t&&(n.usesContainerHeight&&++e.consumersContainerHeight,n.usesContainerWidth&&++e.consumersContainerWidth)},cacheChildItems:function(e){var t,n=e.context,i=[],r=this.getVisibleItems(),o=r.length;for(e.childItems=i,e.visibleItems=r,t=0;t<o;++t)i.push(n.getCmp(r[t]))},cacheElements:function(){var e=this.owner;this.applyChildEls(e.el,e.id)},configureItem:function(e){var t,n=this,i=n.itemCls,r=n.owner.itemCls;e.ownerLayout=n,i&&(t="string"==typeof i?[i]:i),r&&(t=Ext.Array.push(t||[],r)),t&&e.addCls(t)},doRenderBody:function(e,t){this.renderItems(e,t),this.renderContent(e,t)},doRenderContainer:function(e,t){var n=t.$comp.layout,i=n.getRenderTpl(),r=n.getRenderData();i.applyOut(r,e)},doRenderItems:function(e,t){var n=t.$layout.getRenderTree();n&&Ext.DomHelper.generateMarkup(n,e)},finishRender:function(){var e,t,n=this;n.callParent(),n.cacheElements(),e=n.getRenderTarget(),t=n.getLayoutItems(),n.targetCls&&!n.getTarget().hasCls(n.targetCls)&&Ext.log.warn("targetCls is missing. This may mean that getTargetEl() is being overridden but not applyTargetCls(). "+n.owner.id),n.finishRenderItems(e,t)},notifyOwner:function(){this.owner.afterLayout(this)},getContainerSize:function(e,t){var n,i,r,o,a=e.targetContext,s=a.getFrameInfo(),l=e.paddingContext.getPaddingInfo(),d=0,c=0;return e.widthModel.shrinkWrap||(++c,(n="number"==typeof(r=t?a.getDomProp("width"):a.getProp("width")))&&(++d,(r-=s.width+l.width)<0&&(r=0))),e.heightModel.shrinkWrap||(++c,(i="number"==typeof(o=t?a.getDomProp("height"):a.getProp("height")))&&(++d,(o-=s.height+l.height)<0&&(o=0))),{width:r,height:o,needed:c,got:d,gotAll:d==c,gotWidth:n,gotHeight:i}},getPositionOffset:function(e){if(!this.createsInnerCt){var t=this.owner.itemNodeOffset;t&&(e+=t)}return e},getLayoutItems:function(){var e=this.owner,t=e&&e.items;return t&&t.items||[]},getRenderData:function(){var e=this.owner;return{$comp:e,$layout:this,ownerId:e.id}},getRenderedItems:function(){var e,t,n=this,i=n.getRenderTarget(),r=n.getLayoutItems(),o=r.length,a=[];for(e=0;e<o;e++)(t=r[e]).rendered&&n.isValidParent(t,i,e)&&a.push(t);return a},getRenderTarget:function(){return this.owner.getTargetEl()},getElementTarget:function(){return this.getRenderTarget()},getRenderTpl:function(){var e=Ext.XTemplate.getTpl(this,"renderTpl");return e.renderContent||this.owner.setupRenderTpl(e),e},getRenderTree:function(){var e,t,n=this.owner.items,i={};do{t=n.generation,e=this.getItemsRenderTree(this.getLayoutItems(),i)}while(n.generation!==t);return e},getScrollbarsNeeded:function(e,t,n,i){var r=Ext.getScrollbarSize(),o="number"==typeof e,a="number"==typeof t,s=0,l=0;return r.width?(a&&t<i&&(l=2,e-=r.width),o&&e<n&&(s=1,!l&&a&&(t-=r.height)<i&&(l=2)),l+s):0},getTarget:function(){return this.owner.getTargetEl()},getVisibleItems:function(){var e,t,n=this.getRenderTarget(),i=this.getLayoutItems(),r=i.length,o=[];for(e=0;e<r;e++)(t=i[e]).rendered&&this.isValidParent(t,n,e)&&!0!==t.hidden&&o.push(t);return o},setupRenderTpl:function(e){var t=this;e.renderBody=t.doRenderBody,e.renderContainer=t.doRenderContainer,e.renderItems=t.doRenderItems},getContentTarget:function(){return this.owner.getDefaultContentTarget()}}),Ext.define("Ext.layout.container.Auto",{alias:["layout.auto","layout.autocontainer"],extend:Ext.layout.container.Container,type:"autocontainer",childEls:["outerCt","innerCt","clearEl"],reserveScrollbar:!1,managePadding:!0,manageOverflow:!1,lastOverflowAdjust:{width:0,height:0},renderTpl:["{% if (!(Ext.isIEQuirks || Ext.isIE7m)) { %}",'<span id="{ownerId}-outerCt" style="display:table;">','<div id="{ownerId}-innerCt" style="display:table-cell;height:100%;','vertical-align:top;{%this.renderPadding(out, values)%}" class="{innerCtCls}">',"{%this.renderBody(out,values)%}","</div>","</span>","{% } else if (values.shrinkWrapWidth) { %}",'<table id="{ownerId}-outerCt" class="'+Ext.baseCSSPrefix+'table-plain">',"<tr>",'<td id="{ownerId}-innerCt" style="vertical-align:top;padding:0;','{%this.renderPadding(out, values)%}" class="{innerCtCls}">',"{%this.renderBody(out,values)%}",'<div id="{ownerId}-clearEl" class="',Ext.baseCSSPrefix,'clear"','role="presentation"></div>',"</td>","</tr>","</table>","{% } else { %}",'<div id="{ownerId}-outerCt" style="zoom:1;{%this.renderPadding(out, values)%}">','<div id="{ownerId}-innerCt" style="zoom:1;height:100%;" class="{innerCtCls}">',"{%this.renderBody(out,values)%}",'<div id="{ownerId}-clearEl" class="',Ext.baseCSSPrefix,'clear"','role="presentation"></div>',"</div>","</div>","{% values.$layout.isShrinkWrapTpl = false %}","{% } %}"],tableTpl:['<table id="{ownerId}-outerCt" class="'+Ext.baseCSSPrefix+'table-plain">',"<tr>",'<td id="{ownerId}-innerCt" style="vertical-align:top;padding:0;','{%this.renderPadding(out, values)%}" class="{innerCtCls}">',"</td>","</tr>","</table>"],isShrinkWrapTpl:!0,beginLayout:function(e){var t,n,i,r,o=this;o.callParent(arguments),o.initContextItems(e),o.isShrinkWrapTpl||(e.widthModel.shrinkWrap&&(r=!0),Ext.isStrict&&Ext.isIE7&&("auto"!==(i=o.getOverflowXStyle(e))&&"scroll"!==i||!e.paddingContext.getPaddingInfo().right||(r=!0)),r&&o.insertTableCt(e)),!o.isShrinkWrapTpl&&Ext.isIE7&&Ext.isStrict&&!o.clearElHasPadding&&(t=e.paddingContext.getPaddingInfo().bottom,n=o.getOverflowYStyle(e),!t||"auto"!==n&&"scroll"!==n||(o.clearEl.setStyle("height",t),o.clearElHasPadding=!0))},beforeLayoutCycle:function(e){var t=this.owner,n=t.hierarchyState,i=t.hierarchyStateInner;n&&!n.invalid||(n=t.getHierarchyState(),i=t.hierarchyStateInner),e.widthModel.shrinkWrap&&this.isShrinkWrapTpl?i.inShrinkWrapTable=!0:delete i.inShrinkWrapTable},beginLayoutCycle:function(e){var t,n,i,r,o,a,s,l=this,d=l.outerCt,c=l.lastOuterCtWidth||"",u=l.lastOuterCtHeight||"",h=l.lastOuterCtTableLayout||"";l.callParent(arguments),i=r=o="",!e.widthModel.shrinkWrap&&l.isShrinkWrapTpl&&(Ext.isIE7m&&Ext.isStrict&&("auto"!==(n=l.getOverflowYStyle(e))&&"scroll"!==n||(a=!0)),a||(i="100%"),s=l.owner.hierarchyStateInner,t=l.getOverflowXStyle(e),o=s.inShrinkWrapTable||"auto"===t||"scroll"===t?"":"fixed"),e.heightModel.shrinkWrap||Ext.supports.PercentageHeightOverflowBug||(r="100%"),(i!==c||l.hasOuterCtPxWidth)&&(d.setStyle("width",i),l.lastOuterCtWidth=i,l.hasOuterCtPxWidth=!1),o!==h&&(d.setStyle("table-layout",o),l.lastOuterCtTableLayout=o),(r!==u||l.hasOuterCtPxHeight)&&(d.setStyle("height",r),l.lastOuterCtHeight=r,l.hasOuterCtPxHeight=!1),l.hasInnerCtPxHeight&&(l.innerCt.setStyle("height",""),l.hasInnerCtPxHeight=!1),e.state.overflowAdjust=l.lastOverflowAdjust},calculate:function(e){var t=this,n=e.state,i=t.getContainerSize(e,!0),r=n.calculatedItems||(n.calculatedItems=!t.calculateItems||t.calculateItems(e,i));t.setCtSizeIfNeeded(e,i),r&&e.hasDomProp("containerChildrenSizeDone")&&(t.calculateContentSize(e),i.gotAll)?!t.manageOverflow||e.state.secondPass||t.reserveScrollbar||t.calculateOverflow(e,i):t.done=!1},calculateContentSize:function(e){var t=this,n=(e.widthModel.shrinkWrap?1:0)|(e.heightModel.shrinkWrap?2:0),i=1&n||void 0,r=2&n||void 0,o=0,a=e.props;i&&(isNaN(a.contentWidth)?++o:i=void 0),r&&(isNaN(a.contentHeight)?++o:r=void 0),o&&(i&&!e.setContentWidth(t.measureContentWidth(e))&&(t.done=!1),r&&!e.setContentHeight(t.measureContentHeight(e))&&(t.done=!1))},calculateOverflow:function(e){var t,n,i,r,o,a,s,l=this;o="auto"===l.getOverflowXStyle(e),a="auto"===l.getOverflowYStyle(e),(o||a)&&(i=Ext.getScrollbarSize(),r=0,(s=e.overflowContext.el.dom).scrollWidth>s.clientWidth&&(r|=1),s.scrollHeight>s.clientHeight&&(r|=2),t=a&&2&r?i.width:0,n=o&&1&r?i.height:0,t===l.lastOverflowAdjust.width&&n===l.lastOverflowAdjust.height||(l.done=!1,e.invalidate({state:{overflowAdjust:{width:t,height:n},overflowState:r,secondPass:!0}})))},completeLayout:function(e){this.lastOverflowAdjust=e.state.overflowAdjust},doRenderPadding:function(e,t){var n=t.$layout,i=t.$layout.owner,r=i[i.contentPaddingProperty];n.managePadding&&r&&e.push("padding:",Ext.Element.unitizeBox(r))},finishedLayout:function(e){var t=this.innerCt;this.callParent(arguments),(Ext.isIEQuirks||Ext.isIE8m)&&t.repaint(),Ext.isOpera&&(t.setStyle("position","relative"),t.dom.scrollWidth,t.setStyle("position",""))},getContainerSize:function(e,t){var n=this.callParent(arguments),i=e.state.overflowAdjust;return i&&(n.width-=i.width,n.height-=i.height),n},getRenderData:function(){var e=this.owner,t=this.callParent();return(Ext.isIEQuirks||Ext.isIE7m)&&(1&e.shrinkWrap||e.floating&&!e.width)&&(t.shrinkWrapWidth=!0),t},getRenderTarget:function(){return this.innerCt},getElementTarget:function(){return this.innerCt},getOverflowXStyle:function(e){return e.overflowXStyle||(e.overflowXStyle=this.owner.scrollFlags.overflowX||e.overflowContext.getStyle("overflow-x"))},getOverflowYStyle:function(e){return e.overflowYStyle||(e.overflowYStyle=this.owner.scrollFlags.overflowY||e.overflowContext.getStyle("overflow-y"))},initContextItems:function(e){var t=this,n=e.target,i=t.owner.customOverflowEl;e.outerCtContext=e.getEl("outerCt",t),e.innerCtContext=e.getEl("innerCt",t),e.overflowContext=i?e.getEl(i):e.targetContext,void 0!==n[n.contentPaddingProperty]&&(e.paddingContext=t.isShrinkWrapTpl?e.innerCtContext:e.outerCtContext)},initLayout:function(){var e=this,t=Ext.getScrollbarSize().width,n=e.owner;e.callParent(),t&&e.manageOverflow&&!e.hasOwnProperty("lastOverflowAdjust")&&(n.autoScroll||e.reserveScrollbar)&&(e.lastOverflowAdjust={width:t,height:0})},insertTableCt:function(e){var t,n,i,r,o,a=this,s=a.owner,l=0;for((t=Ext.XTemplate.getTpl(this,"tableTpl")).renderPadding=a.doRenderPadding,a.outerCt.dom.removeChild(a.innerCt.dom),n=document.createDocumentFragment(),r=(i=a.innerCt.dom.childNodes).length;l<r;l++)n.appendChild(i[0]);(o=a.getTarget()).dom.innerHTML=t.apply({$layout:a,ownerId:a.owner.id}),o.down("td").dom.appendChild(n),a.applyChildEls(s.el,s.id),a.isShrinkWrapTpl=!0,e.removeEl(a.outerCt),e.removeEl(a.innerCt),a.initContextItems(e)},measureContentHeight:function(e){var t=this.outerCt.getHeight(),n=e.target;return this.managePadding&&void 0===n[n.contentPaddingProperty]&&(t+=e.targetContext.getPaddingInfo().height),t},measureContentWidth:function(e){var t=this.outerCt.getWidth(),n=e.target;return this.managePadding&&void 0===n[n.contentPaddingProperty]&&(t+=e.targetContext.getPaddingInfo().width),t},setCtSizeIfNeeded:function(e,t){var n,i,r,o,a=this,s=t.width,l=t.height,d=e.paddingContext.getPaddingInfo(),c=a.getTarget(),u=a.getOverflowXStyle(e),h=a.getOverflowYStyle(e),f="auto"===u||"scroll"===u,p="auto"===h||"scroll"===h,g=Ext.getScrollbarSize(),m=a.isShrinkWrapTpl,x=a.manageOverflow;s&&!e.widthModel.shrinkWrap&&(Ext.isIE7m&&Ext.isStrict&&m&&p||Ext.isIEQuirks&&!m&&!f)&&(x||p&&c.dom.scrollHeight>c.dom.clientHeight&&(s-=g.width),e.outerCtContext.setProp("width",s+d.width),a.hasOuterCtPxWidth=!0),l&&!e.heightModel.shrinkWrap&&(Ext.supports.PercentageHeightOverflowBug&&(i=!0),(Ext.isIE8&&Ext.isStrict||Ext.isIE7m&&Ext.isStrict&&m)&&(r=!0,o=!Ext.isIE8),(i||r)&&f&&c.dom.scrollWidth>c.dom.clientWidth&&(l-=g.height),i&&(e.outerCtContext.setProp("height",l+d.height),a.hasOuterCtPxHeight=!0),r&&(o&&(l+=d.height),e.innerCtContext.setProp("height",l),a.hasInnerCtPxHeight=!0)),Ext.isIE7&&Ext.isStrict&&!m&&"auto"===h&&(n="auto"===u?"overflow-x":"overflow-y",c.setStyle(n,"hidden"),c.setStyle(n,"auto"))},setupRenderTpl:function(e){this.callParent(arguments),e.renderPadding=this.doRenderPadding},getContentTarget:function(){return this.innerCt}}),Ext.define("Ext.ZIndexManager",{alternateClassName:"Ext.WindowGroup",statics:{zBase:9e3},constructor:function(e){var t=this;t.list={},t.zIndexStack=[],t.front=null,e?e.isContainer?(e.on("resize",t._onContainerResize,t),t.zseed=Ext.Number.from(t.rendered?e.getEl().getStyle("zIndex"):void 0,t.getNextZSeed()),t.targetEl=e.getTargetEl(),t.container=e):(Ext.EventManager.onWindowResize(t._onContainerResize,t),t.zseed=t.getNextZSeed(),t.targetEl=Ext.get(e)):(Ext.EventManager.onWindowResize(t._onContainerResize,t),t.zseed=t.getNextZSeed(),Ext.onDocumentReady(function(){t.targetEl=Ext.getBody()}))},getNextZSeed:function(){return Ext.ZIndexManager.zBase+=1e4},setBase:function(e){this.zseed=e;var t=this.assignZIndices();return this._activateLast(),t},assignZIndices:function(){for(var e,t,n=this.zIndexStack,i=n.length,r=0,o=this.zseed;r<i;r++)(e=n[r])&&!e.hidden&&(o=e.setZIndex(o),e.modal&&(t=e));return t&&this._showModalMask(t),o},_setActiveChild:function(e,t){var n=this.front,i=e.preventFocusOnActivate;e!==n&&(n&&!n.destroying&&n.setActive(!1,e),this.front=e,e&&e!=t&&(e.preventFocusOnActivate=e.preventFocusOnActivate||t&&(t.preventFocusOnActivate||!t.focusOnToFront),e.setActive(!0),e.modal&&this._showModalMask(e),e.preventFocusOnActivate=i))},onComponentHide:function(e){this._activateLast()},_activateLast:function(){for(var e,t=this,n=t.zIndexStack,i=n.length-1;i>=0&&n[i].hidden;--i);if(e=n[i]){if(t._setActiveChild(e,t.front),e.modal)return}else t.front&&!t.front.destroying&&t.front.setActive(!1),t.front=null;for(;i>=0;--i)if((e=n[i]).isVisible()&&e.modal)return void t._showModalMask(e);t._hideModalMask()},_showModalMask:function(e){var t,n=this,i=e.el.getStyle("zIndex")-4,r=e.floatParent?e.floatParent.getTargetEl():e.container,o=n.mask,a=n.maskShim;o||(Ext.isIE6&&(a=n.maskShim=Ext.getBody().createChild({tag:"iframe",cls:Ext.baseCSSPrefix+"shim "+Ext.baseCSSPrefix+"mask-shim"})).setVisibilityMode(Ext.Element.DISPLAY),(o=n.mask=Ext.getBody().createChild({cls:Ext.baseCSSPrefix+"mask",style:"height:0;width:0"})).setVisibilityMode(Ext.Element.DISPLAY),o.on("click",n._onMaskClick,n)),o.maskTarget=r,t=n.getMaskBox(),a&&(a.setStyle("zIndex",i),a.show(),a.setBox(t)),o.setStyle("zIndex",i),o.show(),o.setBox(t)},_hideModalMask:function(){var e=this.mask,t=this.maskShim;e&&e.isVisible()&&(e.maskTarget=void 0,e.hide(),t&&t.hide())},_onMaskClick:function(){this.front&&this.front.focus()},getMaskBox:function(){var e=this.mask.maskTarget;return e.dom===document.body?{height:Math.max(document.body.scrollHeight,Ext.dom.Element.getDocumentHeight()),width:Math.max(document.body.scrollWidth,document.documentElement.clientWidth),x:0,y:0}:e.getBox()},_onContainerResize:function(){var e,t=this,n=t.mask,i=t.maskShim;n&&n.isVisible()&&(n.hide(),i&&i.hide(),e=t.getMaskBox(),i&&(i.setSize(e),i.show()),n.setSize(e),n.show())},register:function(e){var t=this,n=e.afterHide;e.zIndexManager&&e.zIndexManager.unregister(e),e.zIndexManager=t,t.list[e.id]=e,t.zIndexStack.push(e),e.afterHide=function(){n.apply(e,arguments),t.onComponentHide(e)}},unregister:function(e){var t=this,n=t.list;delete e.zIndexManager,n&&n[e.id]&&(delete n[e.id],delete e.afterHide,Ext.Array.remove(t.zIndexStack,e),t._activateLast())},get:function(e){return e.isComponent?e:this.list[e]},bringToFront:function(e,t){var n=this,i=!1,r=n.zIndexStack;return(e=n.get(e))!==n.front&&(Ext.Array.remove(r,e),e.preventBringToFront?r.unshift(e):r.push(e),n.assignZIndices(),t||n._activateLast(),i=!0,n.front=e,e.modal&&n._showModalMask(e)),i},sendToBack:function(e){var t=this;return e=t.get(e),Ext.Array.remove(t.zIndexStack,e),t.zIndexStack.unshift(e),t.assignZIndices(),this._activateLast(),e},hideAll:function(){var e,t,n=this.list;for(t in n)n.hasOwnProperty(t)&&(e=n[t]).isComponent&&e.isVisible()&&e.hide()},hide:function(){var e,t=0,n=this.zIndexStack,i=n.length;for(this.tempHidden=[];t<i;t++)(e=n[t]).isVisible()&&(this.tempHidden.push(e),e.el.hide(),e.hidden=!0)},show:function(){for(var e,t=0,n=this.tempHidden,i=n?n.length:0;t<i;t++)(e=n[t]).el.show(),e.hidden=!1,e.setPosition(e.x,e.y);delete this.tempHidden},getActive:function(){return this.front},getBy:function(e,t){for(var n,i=[],r=0,o=this.zIndexStack,a=o.length;r<a;r++)n=o[r],!1!==e.call(t||n,n)&&i.push(n);return i},each:function(e,t){var n,i,r=this.list;for(n in r)if(r.hasOwnProperty(n)&&(i=r[n]).isComponent&&!1===e.call(t||i,i))return},eachBottomUp:function(e,t){for(var n,i=this.zIndexStack,r=0,o=i.length;r<o;r++)if((n=i[r]).isComponent&&!1===e.call(t||n,n))return},eachTopDown:function(e,t){for(var n,i=this.zIndexStack,r=i.length;r-- >0;)if((n=i[r]).isComponent&&!1===e.call(t||n,n))return},destroy:function(){var e,t,n=this,i=n.list;for(t in i)i.hasOwnProperty(t)&&(e=i[t]).isComponent&&e.destroy();delete n.zIndexStack,delete n.list,delete n.container,delete n.targetEl}},function(){Ext.WindowManager=Ext.WindowMgr=new this}),Ext.define("Ext.layout.component.Component",{extend:Ext.layout.Layout,type:"component",isComponentLayout:!0,nullBox:{},usesContentHeight:!0,usesContentWidth:!0,usesHeight:!0,usesWidth:!0,beginLayoutCycle:function(e,t){var n,i,r,o,a=this,s=a.owner,l=e.ownerCtContext,d=e.heightModel,c=e.widthModel,u=s.el.dom===document.body,h=s.lastBox||a.nullBox,f=s.el.lastBox||a.nullBox,p=!u;a.callParent(arguments),t&&(a.usesContentWidth&&++e.consumersContentWidth,a.usesContentHeight&&++e.consumersContentHeight,a.usesWidth&&++e.consumersWidth,a.usesHeight&&++e.consumersHeight,l&&!l.hasRawContent&&((n=s.ownerLayout).usesWidth&&++e.consumersWidth,n.usesHeight&&++e.consumersHeight)),c.configured?(r=c.names.width,u||(p=t?s[r]!==f.width:c.constrained),e.setWidth(s[r],p)):e.isTopLevel&&(c.calculated&&(i=h.width,e.setWidth(i,i!=f.width)),i=h.x,e.setProp("x",i,i!=f.x)),d.configured?(o=d.names.height,u||(p=t?s[o]!==f.height:d.constrained),e.setHeight(s[o],p)):e.isTopLevel&&(d.calculated&&(i=h.height,e.setHeight(i,i!=f.height)),i=h.y,e.setProp("y",i,i!=f.y))},finishedLayout:function(e){var t,n,i,r,o,a=this,s=e.children,l=a.owner;if(s)for(t=s.length,n=0;n<t;n++)(i=s[n]).el.lastBox=i.props;e.previousSize=a.lastComponentSize,a.lastComponentSize=l.el.lastBox=o=e.props,(r=l.lastBox||(l.lastBox={})).x=o.x,r.y=o.y,r.width=o.width,r.height=o.height,r.invalid=!1,a.callParent(arguments)},notifyOwner:function(e){var t=this,n=t.lastComponentSize,i=e.previousSize,r=[n.width,n.height];i&&r.push(i.width,i.height),t.owner.afterComponentLayout.apply(t.owner,r)},getTarget:function(){return this.owner.el},getRenderTarget:function(){return this.owner.el},cacheTargetInfo:function(e){var t,n=this,i=n.targetInfo;return i||(t=e.getEl("getTarget",n),n.targetInfo=i={padding:t.getPaddingInfo(),border:t.getBorderInfo()}),i},measureAutoDimensions:function(e,t){var n,i,r,o,a,s=this,l=s.owner,d=l.layout,c=e.heightModel,u=e.widthModel,h=e.boxParent,f=e.isBoxParent,p=e.props,g={gotWidth:!1,gotHeight:!1,isContainer:n=!e.hasRawContent},m=t||3,x=0,y=0;return u.shrinkWrap&&e.consumersContentWidth?(++x,i=!(1&m),n?i?(g.contentWidth=0,g.gotWidth=!0,++y):void 0!==(g.contentWidth=e.getProp("contentWidth"))&&(g.gotWidth=!0,++y):"number"==typeof(o=p.contentWidth)?(g.contentWidth=o,g.gotWidth=!0,++y):(!!i||!!e.hasDomProp("containerChildrenSizeDone")&&(!(!f&&h&&!h.widthModel.shrinkWrap)||h.hasDomProp("width")))&&(a=i?0:d&&d.measureContentWidth?d.measureContentWidth(e):s.measureContentWidth(e),isNaN(g.contentWidth=a)||(e.setContentWidth(a,!0),g.gotWidth=!0,++y))):u.natural&&e.consumersWidth&&(++x,"number"==typeof(o=p.width)?(g.width=o,g.gotWidth=!0,++y):(!(!f&&h)||h.hasDomProp("width"))&&(isNaN(g.width=s.measureOwnerWidth(e))||(e.setWidth(g.width,!1),g.gotWidth=!0,++y))),c.shrinkWrap&&e.consumersContentHeight?(++x,r=!(2&m),n?r?(g.contentHeight=0,g.gotHeight=!0,++y):void 0!==(g.contentHeight=e.getProp("contentHeight"))&&(g.gotHeight=!0,++y):"number"==typeof(o=p.contentHeight)?(g.contentHeight=o,g.gotHeight=!0,++y):(!!r||!!e.hasDomProp("containerChildrenSizeDone")&&(!!l.noWrap||(u.shrinkWrap?!(!f&&h&&!h.widthModel.shrinkWrap)||h.hasDomProp("width"):(e.bodyContext||e).hasDomProp("width"))))&&(a=r?0:d&&d.measureContentHeight?d.measureContentHeight(e):s.measureContentHeight(e),isNaN(g.contentHeight=a)||(e.setContentHeight(a,!0),g.gotHeight=!0,++y))):c.natural&&e.consumersHeight&&(++x,"number"==typeof(o=p.height)?(g.height=o,g.gotHeight=!0,++y):(!(!f&&h)||h.hasDomProp("width"))&&(isNaN(g.height=s.measureOwnerHeight(e))||(e.setHeight(g.height,!1),g.gotHeight=!0,++y))),h&&e.onBoxMeasured(),g.gotAll=y==x,g},measureContentWidth:function(e){return e.el.getWidth()-e.getFrameInfo().width},measureContentHeight:function(e){return e.el.getHeight()-e.getFrameInfo().height},measureOwnerHeight:function(e){return e.el.getHeight()},measureOwnerWidth:function(e){return e.el.getWidth()}}),Ext.define("Ext.layout.component.Auto",{alias:"layout.autocomponent",extend:Ext.layout.component.Component,type:"autocomponent",setHeightInDom:!1,setWidthInDom:!1,waitForOuterHeightInDom:!1,waitForOuterWidthInDom:!1,beginLayoutCycle:function(e,t){var n=this,i=n.lastWidthModel,r=n.lastHeightModel,o=n.owner.el;n.callParent(arguments),i&&i.fixed&&e.widthModel.shrinkWrap&&o.setWidth(null),r&&r.fixed&&e.heightModel.shrinkWrap&&o.setHeight(null)},calculate:function(e){var t,n,i=this,r=i.measureAutoDimensions(e),o=e.heightModel,a=e.widthModel;r.gotWidth?a.shrinkWrap?i.publishOwnerWidth(e,r.contentWidth):i.publishInnerWidth&&i.publishInnerWidth(e,r.width):!a.auto&&i.publishInnerWidth&&(void 0===(t=i.waitForOuterWidthInDom?e.getDomProp("width"):e.getProp("width"))?i.done=!1:i.publishInnerWidth(e,t)),r.gotHeight?o.shrinkWrap?i.publishOwnerHeight(e,r.contentHeight):i.publishInnerHeight&&i.publishInnerHeight(e,r.height):!o.auto&&i.publishInnerHeight&&(void 0===(n=i.waitForOuterHeightInDom?e.getDomProp("height"):e.getProp("height"))?i.done=!1:i.publishInnerHeight(e,n)),r.gotAll||(i.done=!1)},calculateOwnerHeightFromContentHeight:function(e,t){return t+e.getFrameInfo().height},calculateOwnerWidthFromContentWidth:function(e,t){return t+e.getFrameInfo().width},publishOwnerHeight:function(e,t){var n,i,r,o=this,a=o.owner,s=o.calculateOwnerHeightFromContentHeight(e,t);isNaN(s)?o.done=!1:((n=Ext.Number.constrain(s,a.minHeight,a.maxHeight))==s?i=o.setHeightInDom:(r=o.sizeModels[n<s?"constrainedMax":"constrainedMin"],s=n,e.heightModel.calculatedFromShrinkWrap?e.heightModel=r:e.invalidate({heightModel:r})),e.setHeight(s,i))},publishOwnerWidth:function(e,t){var n,i,r,o=this,a=o.owner,s=o.calculateOwnerWidthFromContentWidth(e,t);isNaN(s)?o.done=!1:((n=Ext.Number.constrain(s,a.minWidth,a.maxWidth))==s?i=o.setWidthInDom:(r=o.sizeModels[n<s?"constrainedMax":"constrainedMin"],s=n,e.widthModel.calculatedFromShrinkWrap?e.widthModel=r:e.invalidate({widthModel:r})),e.setWidth(s,i))}}),Ext.define("Ext.container.AbstractContainer",{extend:Ext.Component,renderTpl:"{%this.renderContainer(out,values)%}",suspendLayout:!1,autoDestroy:!0,defaultType:"panel",detachOnRemove:!0,isContainer:!0,layoutCounter:0,baseCls:Ext.baseCSSPrefix+"container",defaultLayoutType:"auto",initComponent:function(){var e=this;e.addEvents("afterlayout","beforeadd","beforeremove","add","remove"),e.callParent(),e.getLayout(),e.initItems()},initItems:function(){var e=this,t=e.items;e.items=new Ext.util.AbstractMixedCollection(!1,e.getComponentId),e.floatingItems=new Ext.util.MixedCollection(!1,e.getComponentId),t&&(Ext.isArray(t)||(t=[t]),e.add(t))},getFocusEl:function(){return this.getTargetEl()},finishRenderChildren:function(){this.callParent();var e=this.getLayout();e&&e.finishRender()},beforeRender:function(){var e,t=this,n=t.getLayout();t.callParent(),n.initialized||n.initLayout(),(e=n.targetCls)&&t.applyTargetCls(e)},applyTargetCls:function(e){this.addCls(e)},afterComponentLayout:function(){var e,t,n=this.floatingItems.items,i=n.length;for(this.callParent(arguments),e=0;e<i;e++)!(t=n[e]).rendered&&t.autoShow&&t.show()},onPosition:function(){this.callParent(arguments),this.repositionFloatingItems()},onResize:function(){this.callParent(arguments),this.repositionFloatingItems()},repositionFloatingItems:function(){var e,t,n=this.floatingItems.items,i=n.length;for(e=0;e<i;e++)(t=n[e]).el&&!t.hidden&&t.setPosition(t.x,t.y)},setupRenderTpl:function(e){this.callParent(arguments),this.getLayout().setupRenderTpl(e)},getDefaultContentTarget:function(){return this.el},getContentTarget:function(){return this.getLayout().getContentTarget()},setLayout:function(e){var t=this.layout;t&&t.isLayout&&t!=e&&t.setOwner(null),this.layout=e,e.setOwner(this)},getLayout:function(){var e=this;return e.layout&&e.layout.isLayout||e.setLayout(Ext.layout.Layout.create(e.layout,e.self.prototype.layout||e.defaultLayoutType)),e.layout},doLayout:function(){return this.updateLayout(),this},afterLayout:function(e){var t=this;++t.layoutCounter,t.hasListeners.afterlayout&&t.fireEvent("afterlayout",t,e)},prepareItems:function(e,t){for(var n,i=0,r=(e=Ext.isArray(e)?e.slice():[e]).length;i<r;i++)null==(n=e[i])?(Ext.Array.erase(e,i,1),--i,--r):(t&&(n=this.applyDefaults(n)),n.isContained=this,e[i]=this.lookupComponent(n),delete n.isContained,delete e[i].isContained);return e},applyDefaults:function(e){var t=this.defaults;return t&&(Ext.isFunction(t)&&(t=t.call(this,e)),Ext.isString(e)&&(e=Ext.ComponentManager.get(e)),Ext.applyIf(e,t)),e},lookupComponent:function(e){return"string"==typeof e?Ext.ComponentManager.get(e):Ext.ComponentManager.create(e,this.defaultType)},getComponentId:function(e){if(e.getItemId)return e.getItemId()},add:function(){var e,t,n,i,r,o,a,s=this,l=Ext.Array.slice(arguments),d="number"==typeof l[0]?l.shift():-1,c=s.getLayout();for(1==l.length&&Ext.isArray(l[0])?(t=l[0],e=!0):t=l,a=t=s.prepareItems(t,!0),i=t.length,s.rendered&&Ext.suspendLayouts(),e||1!=i||(a=t[0]),n=0;n<i;n++)(r=t[n])||Ext.Error.raise("Cannot add null item to Container with itemId/id: "+s.getItemId()),o=d<0?s.items.length:d+n,r.floating?(s.floatingItems.add(r),r.onAdded(s,o),s.hasListeners.add&&s.fireEvent("add",s,r,o)):s.hasListeners.beforeadd&&!1===s.fireEvent("beforeadd",s,r,o)||!1===s.onBeforeAdd(r)||(s.items.insert(o,r),r.onAdded(s,o),s.onAdd(r,o),c.onAdd(r,o),s.hasListeners.add&&s.fireEvent("add",s,r,o));return s.updateLayout(),s.rendered&&Ext.resumeLayouts(!0),a},onAdd:Ext.emptyFn,onRemove:Ext.emptyFn,insert:function(e,t){return this.add(e,t)},move:function(e,t){var n,i=this.items;return!1!==(n=i.removeAt(e))&&(i.insert(t,n),this.onMove(n,e,t),this.updateLayout(),n)},onMove:Ext.emptyFn,onBeforeAdd:function(e){e.ownerCt&&e.ownerCt!==this&&e.ownerCt.remove(e,!1)},remove:function(e,t){var n=this,i=n.getComponent(e);return Ext.isDefined(Ext.global.console)&&!i&&Ext.global.console.warn("Attempted to remove a component that does not exist. Ext.container.Container: remove takes an argument of the component to remove. cmp.remove() is incorrect usage."),!i||n.hasListeners.beforeremove&&!1===n.fireEvent("beforeremove",n,i)||(n.doRemove(i,t),n.hasListeners.remove&&n.fireEvent("remove",n,i),n.destroying||i.floating||n.updateLayout()),i},doRemove:function(e,t){t=!0===t||!1!==t&&this.autoDestroy;var n=this,i=n.layout,r=i&&n.rendered,o=e.destroying||t,a=e.floating;a?n.floatingItems.remove(e):n.items.remove(e),r&&!a&&(i.running&&Ext.AbstractComponent.cancelLayout(e,o),i.onRemove(e,o)),e.onRemoved(o),n.onRemove(e,o),t?e.destroy():(r&&!a&&i.afterRemove(e),n.detachOnRemove&&e.rendered&&n.detachComponent(e))},detachComponent:function(e){Ext.getDetachedBody().appendChild(e.getEl())},removeAll:function(e){var t,n=this,i=n.items.items.slice().concat(n.floatingItems.items),r=[],o=0,a=i.length;for(n.suspendLayouts();o<a;o++)t=i[o],n.remove(t,e),t.ownerCt!==n&&r.push(t);return n.resumeLayouts(!!a),r},getRefItems:function(e){for(var t,n=this.items.items,i=n.length,r=0,o=[];r<i;r++)t=n[r],o.push(t),e&&t.getRefItems&&o.push.apply(o,t.getRefItems(!0));return o.push.apply(o,this.floatingItems.items),o},cascade:function(e,t,n){var i,r=this,o=r.items?r.items.items:[],a=o.length,s=0,l=n?n.concat(r):[r],d=l.length-1;if(!1!==e.apply(t||r,l))for(;s<a;s++)(i=o[s]).cascade?i.cascade(e,t,n):(l[d]=i,e.apply(t||o,l));return this},isAncestor:function(e){for(;e;){if(e.ownerCt===this)return!0;e=e.ownerCt}},getComponent:function(e){Ext.isObject(e)&&(e=e.getItemId());var t=this.items.get(e);return t||"number"==typeof e||(t=this.floatingItems.get(e)),t},query:function(e){return e=e||"*",Ext.ComponentQuery.query(e,this)},queryBy:function(e,t){for(var n,i=[],r=this.getRefItems(!0),o=0,a=r.length;o<a;++o)n=r[o],!1!==e.call(t||n,n)&&i.push(n);return i},queryById:function(e){return this.down("#"+e)},child:function(e){return e&&e.isComponent&&(e="#"+Ext.escapeId(e.getItemId())),e=e||"",this.query("> "+e)[0]||null},contains:function(e,t){var n=!1;return t?(this.cascade(function(t){if(t.contains&&t.contains(e))return n=!0,!1}),n):this.items.contains(e)||this.floatingItems.contains(e)},nextChild:function(e,t){var n,i=this,r=i.items.indexOf(e);return-1!==r&&!(n=t?Ext.ComponentQuery(t,i.items.items.slice(r+1)):i.items.getAt(r+1))&&i.ownerCt&&(n=i.ownerCt.nextChild(i,t)),n},prevChild:function(e,t){var n,i=this,r=i.items.indexOf(e);return-1!==r&&!(n=t?Ext.ComponentQuery(t,i.items.items.slice(r+1)):i.items.getAt(r+1))&&i.ownerCt&&(n=i.ownerCt.nextChild(i,t)),n},down:function(e){return e&&e.isComponent&&(e="#"+Ext.escapeId(e.getItemId())),e=e||"",this.query(e)[0]||null},enable:function(){this.callParent(arguments);var e,t,n=this.getChildItemsToDisable(),i=n.length;for(t=0;t<i;t++)(e=n[t]).resetDisable&&e.enable();return this},disable:function(){this.callParent(arguments);var e,t,n=this.getChildItemsToDisable(),i=n.length;for(t=0;t<i;t++)!1===(e=n[t]).resetDisable||e.disabled||(e.disable(),e.resetDisable=!0);return this},getChildItemsToDisable:function(){return this.query("[isFormField],button")},beforeDestroy:function(){var e,t=this,n=t.items,i=t.floatingItems;if(n)for(;e=n.first();)t.doRemove(e,!0);if(i)for(;e=i.first();)t.doRemove(e,!0);Ext.destroy(t.layout),t.callParent()}}),Ext.define("Ext.container.Container",{extend:Ext.container.AbstractContainer,alias:"widget.container",alternateClassName:"Ext.Container",getChildByElement:function(e,t){var n,i,r=0,o=this.getRefItems(),a=o.length;for(e=Ext.getDom(e);r<a;r++)if((i=(n=o[r]).getEl())&&(i.dom===e||i.contains(e)))return t&&n.getChildByElement?n.getChildByElement(e,t):n;return null}}),Ext.define("Ext.util.KeyMap",{alternateClassName:"Ext.KeyMap",eventName:"keydown",constructor:function(e){var t=this;1!==arguments.length||"string"==typeof e||e.dom||e.tagName||e===document||e.isComponent?t.legacyConstructor.apply(t,arguments):(Ext.apply(t,e),t.bindings=[],t.target.isComponent||(t.target=Ext.get(t.target)),t.binding?t.addBinding(t.binding):e.key&&t.addBinding(e),t.enable())},legacyConstructor:function(e,t,n){var i=this;Ext.apply(i,{target:Ext.get(e),eventName:n||i.eventName,bindings:[]}),t&&i.addBinding(t),i.enable()},addBinding:function(e){var t,n,i=this,r=e.key;if(i.processing&&(i.bindings=bindings.slice(0)),Ext.isArray(e))for(t=0,n=e.length;t<n;t++)i.addBinding(e[t]);else i.bindings.push(Ext.apply({keyCode:i.processKeys(r)},e))},removeBinding:function(e){var t,n,i,r=this,o=r.bindings,a=o.length;for(r.processing&&(r.bindings=o.slice(0)),i=r.processKeys(e.key),t=0;t<a;++t)if((n=o[t]).fn===e.fn&&n.scope===e.scope&&e.alt==n.alt&&e.crtl==n.crtl&&e.shift==n.shift&&Ext.Array.equals(n.keyCode,i))return void Ext.Array.erase(r.bindings,t,1)},processKeys:function(e){var t,n,i,r,o,a=!1;if(Ext.isString(e)){for(n=[],o=0,r=(i=e.toUpperCase()).length;o<r;++o)n.push(i.charCodeAt(o));e=n,a=!0}if(Ext.isArray(e)||(e=[e]),!a)for(o=0,r=e.length;o<r;++o)t=e[o],Ext.isString(t)&&(e[o]=t.toUpperCase().charCodeAt(0));return e},handleTargetEvent:function(){var e=/input|textarea/i;return function(t){var n,i,r,o,a,s=this;if(s.enabled){if(i=0,r=(n=s.bindings).length,t=s.processEvent.apply(s||s.processEventScope,arguments),s.ignoreInputFields&&(a=(o=t.target).contentEditable,e.test(o.tagName)||""===a||"true"===a))return;if(!t.getKey)return t;for(s.processing=!0;i<r;++i)s.processBinding(n[i],t);s.processing=!1}}}(),processEvent:Ext.identityFn,processBinding:function(e,t){if(this.checkModifiers(e,t)){var n,i,r=t.getKey(),o=e.fn||e.handler,a=e.scope||this,s=e.keyCode,l=e.defaultEventAction,d=new Ext.EventObjectImpl(t);for(n=0,i=s.length;n<i;++n)if(r===s[n]){!0!==o.call(a,r,t)&&l&&d[l]();break}}},checkModifiers:function(e,t){for(var n,i,r=["shift","ctrl","alt"],o=0,a=r.length;o<a;++o)if(void 0!==(n=e[i=r[o]])&&n!==t[i+"Key"])return!1;return!0},on:function(e,t,n){var i,r,o,a;Ext.isObject(e)&&!Ext.isArray(e)?(i=e.key,r=e.shift,o=e.ctrl,a=e.alt):i=e,this.addBinding({key:i,shift:r,ctrl:o,alt:a,fn:t,scope:n})},un:function(e,t,n){var i,r,o,a;Ext.isObject(e)&&!Ext.isArray(e)?(i=e.key,r=e.shift,o=e.ctrl,a=e.alt):i=e,this.removeBinding({key:i,shift:r,ctrl:o,alt:a,fn:t,scope:n})},isEnabled:function(){return this.enabled},enable:function(){var e=this;e.enabled||(e.target.on(e.eventName,e.handleTargetEvent,e),e.enabled=!0)},disable:function(){var e=this;e.enabled&&(e.target.removeListener(e.eventName,e.handleTargetEvent,e),e.enabled=!1)},setDisabled:function(e){e?this.disable():this.enable()},destroy:function(e){var t=this,n=t.target;t.bindings=[],t.disable(),!0===e&&(n.isComponent?n.destroy():n.remove()),delete t.target}}),Ext.define("Ext.util.KeyNav",{alternateClassName:"Ext.KeyNav",statics:{keyOptions:{left:37,right:39,up:38,down:40,space:32,pageUp:33,pageDown:34,del:46,backspace:8,home:36,end:35,enter:13,esc:27,tab:9}},constructor:function(e){var t=this;2!==arguments.length?t.setConfig(e):t.legacyConstructor.apply(t,arguments)},legacyConstructor:function(e,t){this.setConfig(Ext.apply({target:e},t))},setConfig:function(e){var t,n,i,r,o,a=this,s={target:e.target,ignoreInputFields:e.ignoreInputFields,eventName:a.getKeyEvent("forceKeyDown"in e?e.forceKeyDown:a.forceKeyDown,e.eventName)};for(r in a.map&&a.map.destroy(),e.processEvent&&(s.processEvent=e.processEvent,s.processEventScope=e.processEventScope||a),e.keyMap?t=a.map=e.keyMap:(t=a.map=new Ext.util.KeyMap(s),a.destroyKeyMap=!0),n=Ext.util.KeyNav.keyOptions,i=e.scope||a,n)n.hasOwnProperty(r)&&(o=e[r])&&("function"==typeof o&&(o={handler:o,defaultEventAction:void 0!==e.defaultEventAction?e.defaultEventAction:a.defaultEventAction}),t.addBinding({key:n[r],handler:Ext.Function.bind(a.handleEvent,o.scope||i,o.handler||o.fn,!0),defaultEventAction:void 0!==o.defaultEventAction?o.defaultEventAction:a.defaultEventAction}));t.disable(),e.disabled||t.enable()},handleEvent:function(e,t,n){return n.call(this,t)},disabled:!1,defaultEventAction:"stopEvent",forceKeyDown:!1,eventName:"keypress",destroy:function(e){this.destroyKeyMap&&this.map.destroy(e),delete this.map},enable:function(){this.map.enable(),this.disabled=!1},disable:function(){this.map.disable(),this.disabled=!0},setDisabled:function(e){this.map.setDisabled(e),this.disabled=e},getKeyEvent:function(e,t){return e||Ext.EventManager.useKeyDown&&!t?"keydown":t||this.eventName}}),Ext.define("Ext.FocusManager",{singleton:!0,alternateClassName:["Ext.FocusMgr"],mixins:{observable:Ext.util.Observable},enabled:!1,focusElementCls:Ext.baseCSSPrefix+"focus-element",focusFrameCls:Ext.baseCSSPrefix+"focus-frame",whitelist:["textfield"],constructor:function(e){var t=this,n=Ext.ComponentQuery;t.mixins.observable.constructor.call(t,e),t.addEvents("beforecomponentfocus","componentfocus","disable","enable"),t.focusTask=new Ext.util.DelayedTask(t.handleComponentFocus,t),Ext.override(Ext.AbstractComponent,{onFocus:function(){this.callParent(arguments),t.enabled&&this.hasFocus&&(Array.prototype.unshift.call(arguments,this),t.onComponentFocus.apply(t,arguments))},onBlur:function(){this.callParent(arguments),t.enabled&&!this.hasFocus&&(Array.prototype.unshift.call(arguments,this),t.onComponentBlur.apply(t,arguments))},onDestroy:function(){this.callParent(arguments),t.enabled&&(Array.prototype.unshift.call(arguments,this),t.onComponentDestroy.apply(t,arguments))}}),Ext.override(Ext.Component,{afterHide:function(){this.callParent(arguments),t.enabled&&(Array.prototype.unshift.call(arguments,this),t.onComponentHide.apply(t,arguments))}}),t.keyNav=new Ext.util.KeyNav(Ext.getDoc(),{disabled:!0,scope:t,backspace:t.focusLast,enter:t.navigateIn,esc:t.navigateOut,tab:t.navigateSiblings,space:t.navigateIn,del:t.focusLast,left:t.navigateSiblings,right:t.navigateSiblings,down:t.navigateSiblings,up:t.navigateSiblings}),t.focusData={},t.subscribers=new Ext.util.HashMap,t.focusChain={},Ext.apply(n.pseudos,{nextFocus:function(e,t,n){n=n||1,t=parseInt(t,10);for(var i,r=e.length,o=t;;){if((o+=n)>=r?o=0:o<0&&(o=r-1),o===t)return[];if((i=e[o]).isFocusable())return[i]}return[]},prevFocus:function(e,t){return this.nextFocus(e,t,-1)},root:function(e){for(var t,n=e.length,i=[],r=0;r<n;r++)(t=e[r]).ownerCt||i.push(t);return i}})},addXTypeToWhitelist:function(e){var t=this;Ext.isArray(e)?Ext.Array.forEach(e,t.addXTypeToWhitelist,t):Ext.Array.contains(t.whitelist,e)||t.whitelist.push(e)},clearComponent:function(e){clearTimeout(this.cmpFocusDelay),e.isDestroyed||e.blur()},disable:function(){var e=this;e.enabled&&(delete e.options,e.enabled=!1,e.removeDOM(),e.keyNav.disable(),e.fireEvent("disable",e))},enable:function(e){var t=this;!0===e&&(e={focusFrame:!0}),t.options=e=e||{},t.enabled||(t.enabled=!0,t.initDOM(e),t.keyNav.enable(),t.focusEl.focus(),delete t.focusedCmp,t.fireEvent("enable",t))},focusLast:function(e){var t=this;if(t.isWhitelisted(t.focusedCmp))return!0;t.previousFocusedCmp&&t.previousFocusedCmp.focus()},getRootComponents:function(){var e=Ext.ComponentQuery,t=e.query(":focusable:root:not([floating])"),n=e.query(":focusable:root[floating]");return n.sort(function(e,t){return e.el.getZIndex()>t.el.getZIndex()}),n.concat(t)},initDOM:function(e){var t=this,n=t.focusFrameCls,i=Ext.ComponentQuery.query("{getFocusEl()}:not([focusListenerAdded])"),r=0,o=i.length;if(!Ext.isReady)return Ext.onReady(t.initDOM,t);for(;r<o;r++)i[r].addFocusListener();t.focusEl||(t.focusEl=Ext.getBody(),t.focusEl.dom.tabIndex=-1),!t.focusFrame&&e.focusFrame&&(t.focusFrame=Ext.getBody().createChild({cls:n,children:[{cls:n+"-top"},{cls:n+"-bottom"},{cls:n+"-left"},{cls:n+"-right"}],style:"top: -100px; left: -100px;"}),t.focusFrame.setVisibilityMode(Ext.Element.DISPLAY),t.focusFrame.hide().setLocalXY(0,0))},isWhitelisted:function(e){return e&&Ext.Array.some(this.whitelist,function(t){return e.isXType(t)})},navigateIn:function(e){var t,n,i=this,r=i.focusedCmp;if(i.isWhitelisted(r))return!0;r?(n=r.hasFocus?Ext.ComponentQuery.query(">:focusable",r)[0]:r)?n.focus():Ext.isFunction(r.onClick)&&(e.button=0,r.onClick(e),r.isVisible(!0)?r.focus():i.navigateOut()):(t=i.getRootComponents()[0])&&(t.getFocusEl()===i.focusEl&&i.focusEl.blur(),t.focus())},navigateOut:function(e){var t,n=this;return n.focusedCmp&&(t=n.focusedCmp.up(":focusable"))?t.focus():n.focusEl.focus(),!0},navigateSiblings:function(e,t,n){var i,r,o,a,s=this,l=t||s,d=e.getKey(),c=Ext.EventObject,u=e.shiftKey||d==c.LEFT||d==c.UP,h=d==c.LEFT||d==c.RIGHT||d==c.UP||d==c.DOWN,f=u?"prev":"next";return!(o=l.focusedCmp&&l.focusedCmp.comp||l.focusedCmp)&&!n||(!(!h||!s.isWhitelisted(o))||(!o||o.is(":root")?a=s.getRootComponents():(n=n||o.up())&&(a=n.getRefItems()),a&&(i=o?Ext.Array.indexOf(a,o):-1,(r=Ext.ComponentQuery.query(":"+f+"Focus("+i+")",a)[0])&&o!==r)?(r.focus(),r):void 0))},onComponentBlur:function(e,t){var n=this;n.focusedCmp===e&&(n.previousFocusedCmp=e,delete n.focusedCmp),n.focusFrame&&n.focusFrame.hide()},onComponentFocus:function(e,t){var n,i=this,r=i.focusChain;if(e.isFocusable())i.focusChain={},i.focusTask.delay(10,null,null,[e,e.getFocusEl()]);else{if(i.clearComponent(e),r[e.id])return;(n=e.up())&&(r[e.id]=!0,n.focus())}},handleComponentFocus:function(e,t){var n,i,r,o,a,s,l,d,c,u,h,f=this;!1!==f.fireEvent("beforecomponentfocus",f,e,f.previousFocusedCmp)?(f.focusedCmp=e,f.shouldShowFocusFrame(e)&&(n="."+f.focusFrameCls+"-",i=f.focusFrame,o=(r=(t.dom?t:t.el).getBox()).top,a=r.left,s=r.width,l=r.height,d=i.child(n+"top"),c=i.child(n+"bottom"),u=i.child(n+"left"),h=i.child(n+"right"),d.setWidth(s).setLocalXY(a,o),c.setWidth(s).setLocalXY(a,o+l-2),u.setHeight(l-2).setLocalXY(a,o+2),h.setHeight(l-2).setLocalXY(a+s-2,o+2),i.show()),f.fireEvent("componentfocus",f,e,f.previousFocusedCmp)):f.clearComponent(e)},onComponentHide:function(e){var t,n=this,i=!1;n.focusedCmp&&(i=e.hasFocus||e.isContainer&&e.isAncestor(n.focusedCmp)),n.clearComponent(e),i&&(t=e.up(":focusable"))?t.focus():n.focusEl.focus()},onComponentDestroy:function(){},removeDOM:function(){var e=this;e.enabled||e.subscribers.length||(Ext.destroy(e.focusFrame),delete e.focusEl,delete e.focusFrame)},removeXTypeFromWhitelist:function(e){var t=this;Ext.isArray(e)?Ext.Array.forEach(e,t.removeXTypeFromWhitelist,t):Ext.Array.remove(t.whitelist,e)},setupSubscriberKeys:function(e,t){var n=this,i=e.getFocusEl(),r=t.scope,o={backspace:n.focusLast,enter:n.navigateIn,esc:n.navigateOut,scope:n};return Ext.iterate(t,function(t,i){o[t]=function(t){var o=function(t){return n.focusedCmp===e?n.navigateSiblings(t,n,e):n.navigateSiblings(t)}(t);return!(!Ext.isFunction(i)||!0!==i.call(r||e,t,o))||o}},n),new Ext.util.KeyNav(i,o)},shouldShowFocusFrame:function(e){var t=this,n=t.options||{};return!(!t.focusFrame||!e)&&(!!n.focusFrame||!!t.focusData[e.id].focusFrame)}}),Ext.define("Ext.Img",{extend:Ext.Component,alias:["widget.image","widget.imagecomponent"],autoEl:"img",baseCls:Ext.baseCSSPrefix+"img",src:"",alt:"",title:"",imgCls:"",initComponent:function(){this.glyph&&(this.autoEl="div"),this.callParent()},getElConfig:function(){var e,t,n=this,i=n.callParent(),r=Ext._glyphFontFamily,o=n.glyph;return"img"==n.autoEl?e=i:n.glyph?("string"==typeof o&&(o=(t=o.split("@"))[0],r=t[1]),i.html="&#"+o+";",r&&(i.style="font-family:"+r)):i.cn=[e={tag:"img",id:n.id+"-img"}],e&&(n.imgCls&&(e.cls=(e.cls?e.cls+" ":"")+n.imgCls),e.src=n.src||Ext.BLANK_IMAGE_URL),n.alt&&((e||i).alt=n.alt),n.title&&((e||i).title=n.title),i},onRender:function(){var e,t=this;t.callParent(arguments),e=t.el,t.imgEl="img"==t.autoEl?e:e.getById(t.id+"-img")},onDestroy:function(){Ext.destroy(this.imgEl),this.imgEl=null,this.callParent()},setSrc:function(e){var t=this.imgEl;this.src=e,t&&(t.dom.src=e||Ext.BLANK_IMAGE_URL)},setGlyph:function(e){var t,n,i=Ext._glyphFontFamily;e!=this.glyph&&("string"==typeof e&&(e=(t=e.split("@"))[0],i=t[1]),(n=this.el.dom).innerHTML="&#"+e+";",i&&(n.style="font-family:"+i))}}),Ext.define("Ext.util.Bindable",{bindStore:function(e,t,n){var i=this,r=i[n=n||"store"];return!t&&r&&(i.onUnbindStore(r,t,n),e!==r&&r.autoDestroy?r.destroyStore():i.unbindStoreListeners(r)),e&&(e=Ext.data.StoreManager.lookup(e),i.bindStoreListeners(e),i.onBindStore(e,t,n)),i[n]=e||null,i},getStore:function(){return this.store},unbindStoreListeners:function(e){var t=this.storeListeners;t&&e.un(t)},bindStoreListeners:function(e){var t=this,n=Ext.apply({},t.getStoreListeners(e));n.scope||(n.scope=t),t.storeListeners=n,e.on(n)},getStoreListeners:Ext.emptyFn,onUnbindStore:Ext.emptyFn,onBindStore:Ext.emptyFn}),Ext.define("Ext.LoadMask",{extend:Ext.Component,alias:"widget.loadmask",mixins:{floating:Ext.util.Floating,bindable:Ext.util.Bindable},msg:"Loading...",msgCls:Ext.baseCSSPrefix+"mask-loading",maskCls:Ext.baseCSSPrefix+"mask",useMsg:!0,useTargetEl:!1,baseCls:Ext.baseCSSPrefix+"mask-msg",childEls:["msgEl","msgTextEl"],renderTpl:['<div id="{id}-msgEl" class="{[values.$comp.msgCls]} ',Ext.baseCSSPrefix,'mask-msg-inner{childElCls}">','<div id="{id}-msgTextEl" class="',Ext.baseCSSPrefix,"mask-msg-text",'{childElCls}"></div>',"</div>"],floating:{shadow:"frame"},focusOnToFront:!1,bringParentToFront:!1,constructor:function(e){var t,n=this;2===arguments.length?(Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.LoadMask: LoadMask now uses a standard 1 arg constructor: use the target config"),t=e,e=arguments[1]):t=e.target,t.isComponent||(Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.LoadMask: LoadMask for elements has been deprecated, use Ext.dom.Element.mask & Ext.dom.Element.unmask"),t=Ext.get(t),this.isElement=!0),n.ownerCt=t,this.isElement||n.bindComponent(t),n.callParent([e]),n.store&&n.bindStore(n.store,!0)},bindComponent:function(e){var t=this,n={scope:this,resize:t.sizeMask,added:t.onComponentAdded,removed:t.onComponentRemoved};e.floating?(n.move=t.sizeMask,t.activeOwner=e):e.ownerCt?t.onComponentAdded(e.ownerCt):t.preventBringToFront=!0,t.mon(e,n),t.mon(t.hierarchyEventSource,{show:t.onContainerShow,hide:t.onContainerHide,expand:t.onContainerExpand,collapse:t.onContainerCollapse,scope:t})},onComponentAdded:function(e){var t=this;delete t.activeOwner,t.floatParent=e,e.floating||(e=e.up("[floating]")),e?(t.activeOwner=e,t.mon(e,"move",t.sizeMask,t)):t.preventBringToFront=!0,e=t.floatParent.ownerCt,t.rendered&&t.isVisible()&&e&&(t.floatOwner=e,t.mon(e,"afterlayout",t.sizeMask,t,{single:!0}))},onComponentRemoved:function(e){var t=this,n=t.activeOwner,i=t.floatOwner;n&&t.mun(n,"move",t.sizeMask,t),i&&t.mun(i,"afterlayout",t.sizeMask,t),delete t.activeOwner,delete t.floatOwner},afterRender:function(){this.callParent(arguments),this.container=this.floatParent.getContentTarget()},onContainerShow:function(e){this.isActiveContainer(e)&&this.onComponentShow()},onContainerHide:function(e){this.isActiveContainer(e)&&this.onComponentHide()},onContainerExpand:function(e){this.isActiveContainer(e)&&this.onComponentShow()},onContainerCollapse:function(e){this.isActiveContainer(e)&&this.onComponentHide()},isActiveContainer:function(e){return this.isDescendantOf(e)},onComponentHide:function(){var e=this;e.rendered&&e.isVisible()&&(e.hide(),e.showNext=!0)},onComponentShow:function(){this.showNext&&this.show(),delete this.showNext},sizeMask:function(){var e,t=this;t.rendered&&t.isVisible()&&(t.center(),e=t.getMaskTarget(),t.getMaskEl().show().setSize(e.getSize()).alignTo(e,"tl-tl"))},bindStore:function(e,t){var n=this;n.mixins.bindable.bindStore.apply(n,arguments),(e=n.store)&&e.isLoading()&&n.onBeforeLoad()},getStoreListeners:function(e){var t=this.onLoad,n=this.onBeforeLoad,i={cachemiss:n,cachefilled:t};return e.proxy.isSynchronous||(i.beforeLoad=n,i.load=t,i.prefetch=t),i},onDisable:function(){this.callParent(arguments),this.loading&&this.onLoad()},getOwner:function(){return this.ownerCt||this.floatParent},getMaskTarget:function(){var e=this.getOwner();return this.useTargetEl?e.getTargetEl():e.getEl()},onBeforeLoad:function(){var e,t=this,n=t.getOwner();t.disabled||(t.loading=!0,n.componentLayoutCounter?t.maybeShow():(e=n.afterComponentLayout,n.afterComponentLayout=function(){n.afterComponentLayout=e,e.apply(n,arguments),t.maybeShow()}))},maybeShow:function(){var e=this,t=e.getOwner();t.isVisible(!0)?e.loading&&t.rendered&&e.show():e.showNext=!0},getMaskEl:function(){var e=this;return e.maskEl||(e.maskEl=e.el.insertSibling({cls:e.maskCls,style:{zIndex:e.el.getStyle("zIndex")-2}},"before"))},onShow:function(){var e=this,t=e.msgEl;e.callParent(arguments),e.loading=!0,e.useMsg?(t.show(),e.msgTextEl.update(e.msg)):t.parent().hide()},hide:function(){return this.isElement?(this.ownerCt.unmask(),void this.fireEvent("hide",this)):(delete this.showNext,this.callParent(arguments))},onHide:function(){this.callParent(),this.getMaskEl().hide()},show:function(){return this.isElement?(this.ownerCt.mask(this.useMsg?this.msg:"",this.msgCls),void this.fireEvent("show",this)):this.callParent(arguments)},afterShow:function(){this.callParent(arguments),this.sizeMask()},setZIndex:function(e){var t=this,n=t.activeOwner;return n&&(e=parseInt(n.el.getStyle("zIndex"),10)+1),t.getMaskEl().setStyle("zIndex",e-1),t.mixins.floating.setZIndex.apply(t,arguments)},onLoad:function(){this.loading=!1,this.hide()},onDestroy:function(){var e=this;e.isElement&&e.ownerCt.unmask(),Ext.destroy(e.maskEl),e.callParent()}}),Ext.define("Ext.data.association.Association",{alternateClassName:"Ext.data.Association",primaryKey:"id",associationKeyFunction:null,defaultReaderType:"json",isAssociation:!0,initialConfig:null,statics:{AUTO_ID:1e3,create:function(e){switch(Ext.isString(e)&&(e={type:e}),e.type){case"belongsTo":return new Ext.data.association.BelongsTo(e);case"hasMany":return new Ext.data.association.HasMany(e);case"hasOne":return new Ext.data.association.HasOne(e);default:Ext.Error.raise('Unknown Association type: "'+e.type+'"')}return e}},constructor:function(e){Ext.apply(this,e);var t,n=this,i=Ext.ModelManager.types,r=e.ownerModel,o=e.associatedModel,a=i[r],s=i[o],l=e.associationKey;l&&(t=String(l).search(/[\[\.]/))>=0&&(n.associationKeyFunction=Ext.functionFactory("obj","return obj"+(t>0?".":"")+l)),n.initialConfig=e,void 0===a&&Ext.Error.raise("The configured ownerModel was not valid (you tried "+r+")"),void 0===s&&Ext.Error.raise("The configured associatedModel was not valid (you tried "+o+")"),n.ownerModel=a,n.associatedModel=s,Ext.applyIf(n,{ownerName:r,associatedName:o}),n.associationId="association"+ ++n.statics().AUTO_ID},getReader:function(){var e=this,t=e.reader,n=e.associatedModel;return t&&(Ext.isString(t)&&(t={type:t}),t.isReader?t.setModel(n):Ext.applyIf(t,{model:n,type:e.defaultReaderType}),e.reader=Ext.createByAlias("reader."+t.type,t)),e.reader||null}}),Ext.define("Ext.ModelManager",{extend:Ext.AbstractManager,alternateClassName:"Ext.ModelMgr",singleton:!0,typeName:"mtype",associationStack:[],registerType:function(e,t){var n,i=t.prototype;return i&&i.isModel?n=t:(t.extend||(t.extend="Ext.data.Model"),n=Ext.define(e,t)),this.types[e]=n,n},onModelDefined:function(e){var t,n,i,r=this.associationStack,o=r.length,a=[];for(n=0;n<o;n++)(t=r[n]).associatedModel==e.modelName&&a.push(t);for(n=0,o=a.length;n<o;n++)i=a[n],this.types[i.ownerModel].prototype.associations.add(Ext.data.association.Association.create(i)),Ext.Array.remove(r,i)},registerDeferredAssociation:function(e){this.associationStack.push(e)},getModel:function(e){var t=e;return"string"==typeof t&&(t=this.types[t]),t},create:function(e,t,n){return new("function"==typeof t?t:this.types[t||e.name])(e,n)}},function(){Ext.regModel=function(){return Ext.isDefined(Ext.global.console)&&Ext.global.console.warn('Ext.regModel has been deprecated. Models can now be created by extending Ext.data.Model: Ext.define("MyModel", {extend: "Ext.data.Model", fields: []});.'),this.ModelManager.registerType.apply(this.ModelManager,arguments)}}),Ext.define("Ext.ShadowPool",{singleton:!0,markup:Ext.String.format('<div class="{0}{1}-shadow" role="presentation"></div>',Ext.baseCSSPrefix,Ext.isIE&&!Ext.supports.CSS3BoxShadow?"ie":"css"),shadows:[],pull:function(){var e=this.shadows.shift();return e||((e=Ext.get(Ext.DomHelper.insertHtml("beforeBegin",document.body.firstChild,this.markup))).autoBoxAdjust=!1),e},push:function(e){this.shadows.push(e)},reset:function(){var e,t=[].concat(this.shadows),n=t.length;for(e=0;e<n;e++)t[e].remove();this.shadows=[]}}),Ext.define("Ext.Shadow",{localXYNames:{get:"getLocalXY",set:"setLocalXY"},constructor:function(e){var t,n,i,r=this;switch(Ext.apply(r,e),Ext.isString(r.mode)||(r.mode=r.defaultMode),n=r.offset,i=Math.floor(n/2),r.opacity=50,r.mode.toLowerCase()){case"drop":t=Ext.supports.CSS3BoxShadow?{t:n,l:n,h:-n,w:-n}:{t:-i,l:-i,h:-i,w:-i};break;case"sides":t=Ext.supports.CSS3BoxShadow?{t:n,l:0,h:-n,w:0}:{t:-(1+i),l:1+i-2*n,h:-1,w:i-1};break;case"frame":t=Ext.supports.CSS3BoxShadow?{t:0,l:0,h:0,w:0}:{t:1+i-2*n,l:1+i-2*n,h:n-i-1,w:n-i-1};break;case"bottom":t=Ext.supports.CSS3BoxShadow?{t:n,l:0,h:-n,w:0}:{t:n,l:0,h:0,w:0}}r.adjusts=t},getShadowSize:function(){var e=this,t=e.el?e.offset:0,n=[t,t,t,t],i=e.mode.toLowerCase();return e.el&&"frame"!==i&&(n[0]=0,"drop"==i&&(n[3]=0)),n},offset:4,defaultMode:"drop",boxShadowProperty:function(){var e="boxShadow",t=document.documentElement.style;return"boxShadow"in t||("WebkitBoxShadow"in t?e="WebkitBoxShadow":"MozBoxShadow"in t&&(e="MozBoxShadow")),e}(),show:function(e){var t,n,i=this;e=Ext.get(e),t=parseInt(e.getStyle("z-index"),10)-1||0,n=e[i.localXYNames.get](),i.el||(i.el=Ext.ShadowPool.pull(),i.fixed?i.el.dom.style.position="fixed":i.el.dom.style.position="",i.el.dom.nextSibling!=e.dom&&i.el.insertBefore(e)),i.el.setStyle("z-index",i.zIndex||t),Ext.isIE&&!Ext.supports.CSS3BoxShadow&&(i.el.dom.style.filter="progid:DXImageTransform.Microsoft.alpha(opacity="+i.opacity+") progid:DXImageTransform.Microsoft.Blur(pixelradius="+i.offset+")"),i.realign(n[0],n[1],e.dom.offsetWidth,e.dom.offsetHeight),i.el.dom.style.display="block"},isVisible:function(){return!!this.el},realign:function(e,t,n,i){if(this.el){var r,o,a=this.adjusts,s=this.el,l=s.dom.style;s[this.localXYNames.set](e+a.l,t+a.t),r=Math.max(n+a.w,0)+"px",o=Math.max(i+a.h,0)+"px",l.width==r&&l.height==o||(l.width=r,l.height=o,Ext.supports.CSS3BoxShadow&&(l[this.boxShadowProperty]="0 0 "+(this.offset+2)+"px #888"))}},hide:function(){var e=this;e.el&&(e.el.dom.style.display="none",Ext.ShadowPool.push(e.el),delete e.el)},setZIndex:function(e){this.zIndex=e,this.el&&this.el.setStyle("z-index",e)},setOpacity:function(e){this.el&&(Ext.isIE&&!Ext.supports.CSS3BoxShadow&&(e=Math.floor(100*e/2)/100),this.opacity=e,this.el.setOpacity(e))}}),Ext.define("Ext.data.StoreManager",{extend:Ext.util.MixedCollection,alternateClassName:["Ext.StoreMgr","Ext.data.StoreMgr","Ext.StoreManager"],singleton:!0,register:function(){for(var e,t=0;e=arguments[t];t++)this.add(e)},unregister:function(){for(var e,t=0;e=arguments[t];t++)this.remove(this.lookup(e))},lookup:function(e){if(Ext.isArray(e)){var t,n,i=["field1"],r=!Ext.isArray(e[0]),o=e;if(r)for(o=[],t=0,n=e.length;t<n;++t)o.push([e[t]]);else for(t=2,n=e[0].length;t<=n;++t)i.push("field"+t);return new Ext.data.ArrayStore({data:o,fields:i,autoDestroy:!0,autoCreated:!0,expanded:r})}return Ext.isString(e)?this.get(e):Ext.data.AbstractStore.create(e)},getKey:function(e){return e.storeId}},function(){Ext.regStore=function(e,t){var n;return Ext.isObject(e)?t=e:t.storeId=e,n=t instanceof Ext.data.Store?t:new Ext.data.Store(t),Ext.data.StoreManager.register(n)},Ext.getStore=function(e){return Ext.data.StoreManager.lookup(e)}}),Ext.define("Ext.data.ResultSet",{loaded:!0,count:0,total:0,success:!1,constructor:function(e){Ext.apply(this,e),this.totalRecords=this.total,void 0===e.count&&(this.count=this.records.length)}}),Ext.define("Ext.data.reader.Reader",{alternateClassName:["Ext.data.Reader","Ext.data.DataReader"],mixins:{observable:Ext.util.Observable},totalProperty:"total",successProperty:"success",root:"",implicitIncludes:!0,readRecordsOnFailure:!0,isReader:!0,applyDefaults:!0,lastFieldGeneration:null,constructor:function(e){var t=this;t.mixins.observable.constructor.call(t,e),t.fieldCount=0,t.model=Ext.ModelManager.getModel(t.model),t.accessExpressionFn=Ext.Function.bind(t.createFieldAccessExpression,t),t.model&&t.model.prototype.fields&&t.buildExtractors(),this.addEvents("exception")},setModel:function(e,t){var n=this;n.model=Ext.ModelManager.getModel(e),e&&n.buildExtractors(!0),t&&n.proxy&&n.proxy.setModel(n.model,!0)},read:function(e){var t;return e&&(t=e.responseText?this.getResponseData(e):this.readRecords(e)),t||this.nullResultSet},readRecords:function(e){var t,n,i,r,o,a,s,l=this;return l.lastFieldGeneration!==l.model.prototype.fields.generation&&l.buildExtractors(!0),l.rawData=e,e=l.getData(e),t=!0,n=0,i=[],l.successProperty&&(!1!==(a=l.getSuccess(e))&&"false"!==a||(t=!1)),l.messageProperty&&(s=l.getMessage(e)),(l.readRecordsOnFailure||t)&&((r=Ext.isArray(e)?e:l.getRoot(e))&&(o=r.length),l.totalProperty&&(a=parseInt(l.getTotal(e),10),isNaN(a)||(o=a)),r&&(n=(i=l.extractData(r)).length)),new Ext.data.ResultSet({total:o||n,count:n,records:i,success:t,message:s})},extractData:function(e){var t,n,i,r,o=this,a=o.model,s=e.length,l=new Array(s);for(!e.length&&Ext.isObject(e)&&(e=[e],s=1),r=0;r<s;r++)(n=e[r]).isModel?l[r]=n:(l[r]=i=new a(void 0,o.getId(n),n,t={}),i.phantom=!1,o.convertRecordData(t,n,i),o.implicitIncludes&&i.associations.length&&o.readAssociated(i,n));return l},readAssociated:function(e,t){for(var n,i,r,o,a=e.associations.items,s=0,l=a.length;s<l;s++)n=a[s],(i=this.getAssociatedDataRoot(t,n.associationKeyFunction||n.associationKey||n.name))&&((o=n.getReader())||(o=(r=n.associatedModel.getProxy())?r.getReader():new this.constructor({model:n.associatedName})),n.read(e,o,i))},getAssociatedDataRoot:function(e,t){return Ext.isFunction(t)?t(e):e[t]},getFields:function(){return this.model.prototype.fields.items},getData:Ext.identityFn,getRoot:Ext.identityFn,getResponseData:function(e){Ext.Error.raise("getResponseData must be implemented in the Ext.data.reader.Reader subclass")},onMetaChange:function(e){var t,n,i=this,r=e.fields||i.getFields();i.metaData=e,i.root=e.root||i.root,i.idProperty=e.idProperty||i.idProperty,i.totalProperty=e.totalProperty||i.totalProperty,i.successProperty=e.successProperty||i.successProperty,i.messageProperty=e.messageProperty||i.messageProperty,n=e.clientIdProperty,i.model?(i.model.setFields(r,i.idProperty,n),i.setModel(i.model,!0)):(t=Ext.define("Ext.data.reader.Json-Model"+Ext.id(),{extend:"Ext.data.Model",fields:r,clientIdProperty:n}),i.idProperty&&(t.idProperty=i.idProperty),i.setModel(t,!0))},getIdProperty:function(){var e=this.model.prototype.idField,t=this.idProperty;return!t&&e&&null==(t=e.mapping)&&(t=e.name),t},buildExtractors:function(e){var t,n=this,i=n.getIdProperty(),r=n.totalProperty,o=n.successProperty,a=n.messageProperty;!0===e&&delete n.convertRecordData,n.convertRecordData||(r&&(n.getTotal=n.createAccessor(r)),o&&(n.getSuccess=n.createAccessor(o)),a&&(n.getMessage=n.createAccessor(a)),i?(t=n.createAccessor(i),n.getId=function(e){var i=t.call(n,e);return void 0===i||""===i?null:i}):n.getId=function(){return null},n.convertRecordData=n.buildRecordDataExtractor(),n.lastFieldGeneration=n.model.prototype.fields.generation)},recordDataExtractorTemplate:["var me = this\n","    ,fields = me.model.prototype.fields\n","    ,value\n","    ,internalId\n",'<tpl for="fields">','    ,__field{#} = fields.map["{name}"]\n',"</tpl>",";\n","return function(dest, source, record) {\n",'<tpl for="fields">','{% var fieldAccessExpression =  this.createFieldAccessExpression(values, "__field" + xindex, "source");',"   if (fieldAccessExpression) { %}",'    value = {[ this.createFieldAccessExpression(values, "__field" + xindex, "source") ]};\n','<tpl if="hasCustomConvert">','    dest["{name}"] = value === undefined ? __field{#}.convert(__field{#}.defaultValue, record) : __field{#}.convert(value, record);\n','<tpl elseif="defaultValue !== undefined">',"    if (value === undefined) {\n","        if (me.applyDefaults) {\n",'<tpl if="convert">','            dest["{name}"] = __field{#}.convert(__field{#}.defaultValue, record);\n',"<tpl else>",'            dest["{name}"] = __field{#}.defaultValue\n',"</tpl>","        };\n","    } else {\n",'<tpl if="convert">','        dest["{name}"] = __field{#}.convert(value, record);\n',"<tpl else>",'        dest["{name}"] = value;\n',"</tpl>","    };\n","<tpl else>","    if (value !== undefined) {\n",'<tpl if="convert">','        dest["{name}"] = __field{#}.convert(value, record);\n',"<tpl else>",'        dest["{name}"] = value;\n',"</tpl>","    }\n","</tpl>","{% } else { %}",'<tpl if="defaultValue !== undefined">','<tpl if="convert">','    dest["{name}"] = __field{#}.convert(__field{#}.defaultValue, record);\n',"<tpl else>",'    dest["{name}"] = __field{#}.defaultValue\n',"</tpl>","</tpl>","{% } %}","</tpl>",'<tpl if="clientIdProp">','    if (record && (internalId = {[ this.createFieldAccessExpression({mapping: values.clientIdProp}, null, "source") ]})) {\n','        record.{["internalId"]} = internalId;\n',"    }\n","</tpl>","};"],buildRecordDataExtractor:function(){var e=this,t=e.model.prototype,n={clientIdProp:t.clientIdProperty,fields:t.fields.items};return e.recordDataExtractorTemplate.createFieldAccessExpression=e.accessExpressionFn,Ext.functionFactory(e.recordDataExtractorTemplate.apply(n)).call(e)},destroyReader:function(){var e=this;delete e.proxy,delete e.model,delete e.convertRecordData,delete e.getId,delete e.getTotal,delete e.getSuccess,delete e.getMessage}},function(){var e=this.prototype;Ext.apply(e,{nullResultSet:new Ext.data.ResultSet({total:0,count:0,records:[],success:!0,message:""}),recordDataExtractorTemplate:new Ext.XTemplate(e.recordDataExtractorTemplate)})}),Ext.define("Ext.data.reader.Json",{extend:Ext.data.reader.Reader,alternateClassName:"Ext.data.JsonReader",alias:"reader.json",root:"",metaProperty:"metaData",useSimpleAccessors:!1,readRecords:function(e){var t,n=this;return n.getMeta?(t=n.getMeta(e))&&n.onMetaChange(t):e.metaData&&n.onMetaChange(e.metaData),n.jsonData=e,n.callParent([e])},getResponseData:function(e){var t,n;try{return t=Ext.decode(e.responseText),this.readRecords(t)}catch(t){return n=new Ext.data.ResultSet({total:0,count:0,records:[],success:!1,message:t.message}),this.fireEvent("exception",this,e,n),Ext.Logger.warn("Unable to parse the JSON returned by the server"),n}},buildExtractors:function(){var e=this,t=e.metaProperty;e.callParent(arguments),e.root?e.getRoot=e.createAccessor(e.root):e.getRoot=Ext.identityFn,t&&(e.getMeta=e.createAccessor(t))},extractData:function(e){var t,n,i=this.record,r=[];if(i)for(!(t=e.length)&&Ext.isObject(e)&&(t=1,e=[e]),n=0;n<t;n++)r[n]=e[n][i];else r=e;return this.callParent([r])},createAccessor:function(){var e=/[\[\.]/;return function(t){if(Ext.isEmpty(t))return Ext.emptyFn;if(Ext.isFunction(t))return t;if(!0!==this.useSimpleAccessors){var n=String(t).search(e);if(n>=0)return Ext.functionFactory("obj","return obj"+(n>0?".":"")+t)}return function(e){return e[t]}}}(),createFieldAccessExpression:function(){var e=/[\[\.]/;return function(t,n,i){var r,o,a=t.mapping,s=a||0===a,l=s?a:t.name;if(!1!==a){if("function"==typeof l)r=n+".mapping("+i+", this)";else if(!0===this.useSimpleAccessors||(o=String(l).search(e))<0)s&&!isNaN(l)||(l='"'+l+'"'),r=i+"["+l+"]";else if(0===o)r=i+l;else{for(var d=l.split("."),c=d.length,u=1,h=i+"."+d[0],f=[h];u<c;u++)h+="."+d[u],f.push(h);r=f.join(" && ")}return r}}}()}),Ext.define("Ext.data.writer.Writer",{alias:"writer.base",alternateClassName:["Ext.data.DataWriter","Ext.data.Writer"],writeAllFields:!0,nameProperty:"name",writeRecordId:!0,isWriter:!0,constructor:function(e){Ext.apply(this,e)},write:function(e){for(var t=e.operation,n=t.records||[],i=n.length,r=0,o=[];r<i;r++)o.push(this.getRecordData(n[r],t));return this.writeRecords(e,o)},getRecordData:function(e,t){var n,i,r,o,a,s=!0===e.phantom,l=this.writeAllFields||s,d=e.fields,c=d.items,u={},h=e.clientIdProperty;if(l)for(a=c.length,o=0;o<a;o++)(i=c[o]).persist&&this.writeValue(u,i,e);else for(r in n=e.getChanges())n.hasOwnProperty(r)&&(i=d.get(r)).persist&&this.writeValue(u,i,e);return s?h&&t&&t.records.length>1&&(u[h]=e.internalId):this.writeRecordId&&(u[d.get(e.idProperty)[this.nameProperty]||e.idProperty]=e.getId()),u},writeValue:function(e,t,n){var i=t[this.nameProperty]||t.name,r=this.dateFormat||t.dateWriteFormat||t.dateFormat,o=n.get(t.name);t.serialize?e[i]=t.serialize(o,n):t.type===Ext.data.Types.DATE&&r&&Ext.isDate(o)?e[i]=Ext.Date.format(o,r):e[i]=o}}),Ext.define("Ext.data.writer.Json",{extend:Ext.data.writer.Writer,alternateClassName:"Ext.data.JsonWriter",alias:"writer.json",root:void 0,encode:!1,allowSingle:!0,expandData:!1,getExpandedData:function(e){for(var t,n,i,r,o,a,s,l=e.length,d=0;d<l;d++)for(n in t=e[d])if(t.hasOwnProperty(n)&&(r=(i=n.split(".")).length-1)>0){for(o=t[n];r>0;r--)a=i[r],s=void 0,(s={})[a]=o,o=s;t[i[0]]=t[i[0]]||{},Ext.Object.merge(t[i[0]],o),delete t[n]}return e},writeRecords:function(e,t){var n=this.root;return this.expandData&&(t=this.getExpandedData(t)),this.allowSingle&&1===t.length&&(t=t[0]),this.encode?n?e.params[n]=Ext.encode(t):Ext.Error.raise("Must specify a root when using encode"):(e.jsonData=e.jsonData||{},n?e.jsonData[n]=t:e.jsonData=t),e}}),Ext.define("Ext.data.proxy.Proxy",{alias:"proxy.proxy",alternateClassName:["Ext.data.DataProxy","Ext.data.Proxy"],mixins:{observable:Ext.util.Observable},batchOrder:"create,update,destroy",batchActions:!0,defaultReaderType:"json",defaultWriterType:"json",isProxy:!0,constructor:function(e){var t=this;e=e||{},t.proxyConfig=e,t.mixins.observable.constructor.call(t,e),void 0===t.model||t.model instanceof Ext.data.Model?(t.reader&&t.setReader(t.reader),t.writer&&t.setWriter(t.writer)):t.setModel(t.model)},setModel:function(e,t){var n=this;n.model=Ext.ModelManager.getModel(e),n.setReader(this.reader),n.setWriter(this.writer),t&&n.store&&n.store.setModel(n.model)},getModel:function(){return this.model},setReader:function(e){var t=this,n=!0,i=t.reader;return void 0!==e&&"string"!=typeof e||(e={type:e},n=!1),e.isReader?e.setModel(t.model):(n&&(e=Ext.apply({},e)),Ext.applyIf(e,{proxy:t,model:t.model,type:t.defaultReaderType}),e=Ext.createByAlias("reader."+e.type,e)),e!==i&&e.onMetaChange&&(e.onMetaChange=Ext.Function.createSequence(e.onMetaChange,this.onMetaChange,this)),t.reader=e,t.reader},getReader:function(){return this.reader},onMetaChange:function(e){this.fireEvent("metachange",this,e)},setWriter:function(e){var t=this,n=!0;return void 0!==e&&"string"!=typeof e||(e={type:e},n=!1),e.isWriter||(n&&(e=Ext.apply({},e)),Ext.applyIf(e,{model:t.model,type:t.defaultWriterType}),e=Ext.createByAlias("writer."+e.type,e)),t.writer=e,t.writer},getWriter:function(){return this.writer},create:Ext.emptyFn,read:Ext.emptyFn,update:Ext.emptyFn,destroy:Ext.emptyFn,batch:function(e,t){var n,i,r,o,a,s,l,d,c,u=this,h=u.batchActions;for(void 0===e.operations&&(e={operations:e,listeners:t}),e.batch?Ext.isDefined(e.batch.runOperation)&&(n=Ext.applyIf(e.batch,{proxy:u,listeners:{}})):e.batch={proxy:u,listeners:e.listeners||{}},n||(n=new Ext.data.Batch(e.batch)),n.on("complete",Ext.bind(u.onBatchComplete,u,[e],0)),o=(r=u.batchOrder.split(",")).length,s=0;s<o;s++)if(a=r[s],i=e.operations[a])if(h)n.add(new Ext.data.Operation({action:a,records:i}));else for(d=i.length,l=0;l<d;l++)c=i[l],n.add(new Ext.data.Operation({action:a,records:[c]}));return n.start(),n},onBatchComplete:function(e,t){var n=e.scope||this;t.hasException?Ext.isFunction(e.failure)&&Ext.callback(e.failure,n,[t,e]):Ext.isFunction(e.success)&&Ext.callback(e.success,n,[t,e]),Ext.isFunction(e.callback)&&Ext.callback(e.callback,n,[t,e])},clone:function(){return new this.self(this.proxyConfig)}}),Ext.define("Ext.data.Operation",{synchronous:!0,action:void 0,filters:void 0,sorters:void 0,groupers:void 0,start:void 0,limit:void 0,batch:void 0,callback:void 0,scope:void 0,started:!1,running:!1,complete:!1,success:void 0,exception:!1,error:void 0,actionCommitRecordsRe:/^(?:create|update)$/i,actionSkipSyncRe:/^destroy$/i,constructor:function(e){Ext.apply(this,e||{})},commitRecords:function(e){var t,n,i,r,o,a,s,l,d,c=this,u=c.actionCommitRecordsRe.test(c.action);if(!c.actionSkipSyncRe.test(c.action)&&(i=c.records)&&i.length){if(u&&(d=[]),i.length>1)if("update"==c.action||i[0].clientIdProperty)for((t=new Ext.util.MixedCollection).addAll(e),n=i.length;n--;)o=i[n],r=t.findBy(c.matchClientRec,o),l=o.copyFrom(r),u&&d.push(l);else for(a=0,s=i.length;a<s;++a)o=i[a],r=e[a],o&&r&&(l=c.updateRecord(o,r),u&&d.push(l));else l=c.updateRecord(i[0],e[0]),u&&(d[0]=l);if(u)for(n=i.length;n--;)i[n].commit(!1,d[n])}},updateRecord:function(e,t){return t&&(e.phantom||e.getId()===t.getId())?e.copyFrom(t):[]},matchClientRec:function(e){var t=this.getId();return!(!t||e.getId()!==t)||e.internalId===this.internalId},setStarted:function(){this.started=!0,this.running=!0},setCompleted:function(){this.complete=!0,this.running=!1},setSuccessful:function(){this.success=!0},setException:function(e){this.exception=!0,this.success=!1,this.running=!1,this.error=e},hasException:function(){return!0===this.exception},getError:function(){return this.error},getRecords:function(){var e=this.getResultSet();return this.records||(e?e.records:null)},getResultSet:function(){return this.resultSet},isStarted:function(){return!0===this.started},isRunning:function(){return!0===this.running},isComplete:function(){return!0===this.complete},wasSuccessful:function(){return this.isComplete()&&!0===this.success},setBatch:function(e){this.batch=e},allowWrite:function(){return"read"!=this.action}}),Ext.define("Ext.data.AbstractStore",{mixins:{observable:Ext.util.Observable,sortable:Ext.util.Sortable},statics:{create:function(e){return e.isStore||(e.type||(e.type="store"),e=Ext.createByAlias("store."+e.type,e)),e}},onClassExtended:function(e,t,n){var i,r=t.model;"string"==typeof r&&(i=n.onBeforeCreated,n.onBeforeCreated=function(){var e=this,t=arguments;Ext.require(r,function(){i.apply(e,t)})})},remoteSort:!1,remoteFilter:!1,autoLoad:void 0,autoSync:!1,batchUpdateMode:"operation",filterOnLoad:!0,sortOnLoad:!0,implicitModel:!1,defaultProxyType:"memory",isDestroyed:!1,isStore:!0,sortRoot:"data",constructor:function(e){var t,n=this;Ext.apply(n,e),n.removed=[],n.mixins.observable.constructor.apply(n,arguments);var i=n.model;if(n.model=Ext.ModelManager.getModel(n.model),Ext.applyIf(n,{modelDefaults:null}),!n.model&&n.fields&&(n.model=Ext.define("Ext.data.Store.ImplicitModel-"+(n.storeId||Ext.id()),{extend:"Ext.data.Model",fields:n.fields,proxy:n.proxy||n.defaultProxyType}),delete n.fields,n.implicitModel=!0),!n.model&&!1!==n.useModelWarning){var r=[Ext.getClassName(n)||"Store"," created with no model."];"string"==typeof i&&r.push(" The name '",i,"'"," does not correspond to a valid model."),Ext.log.warn(r.join(""))}n.setProxy(n.proxy||n.model.getProxy()),n.proxy.on("metachange",n.onMetaChange,n),n.id&&!n.storeId&&(n.storeId=n.id,delete n.id),n.storeId&&Ext.data.StoreManager.register(n),n.mixins.sortable.initSortable.call(n),t=n.decodeFilters(n.filters),n.filters=new Ext.util.MixedCollection,n.filters.addAll(t)},setProxy:function(e){var t=this;return e instanceof Ext.data.proxy.Proxy?e.setModel(t.model):(Ext.isString(e)&&(e={type:e}),Ext.applyIf(e,{model:t.model}),e=Ext.createByAlias("proxy."+e.type,e)),t.proxy=e,t.proxy},getProxy:function(){return this.proxy},onMetaChange:function(e,t){this.fireEvent("metachange",this,t)},create:function(e,t){var n,i=this,r=Ext.ModelManager.create(Ext.applyIf(e,i.modelDefaults),i.model.modelName);return t=t||{},Ext.applyIf(t,{action:"create",records:[r]}),n=new Ext.data.Operation(t),i.proxy.create(n,i.onProxyWrite,i),r},read:function(){return this.load.apply(this,arguments)},update:function(e){var t,n=this;return e=e||{},Ext.applyIf(e,{action:"update",records:n.getUpdatedRecords()}),t=new Ext.data.Operation(e),n.proxy.update(t,n.onProxyWrite,n)},onProxyWrite:function(e){var t=this,n=e.wasSuccessful(),i=e.getRecords();switch(e.action){case"create":t.onCreateRecords(i,e,n);break;case"update":t.onUpdateRecords(i,e,n);break;case"destroy":t.onDestroyRecords(i,e,n)}n&&(t.fireEvent("write",t,e),t.fireEvent("datachanged",t),t.fireEvent("refresh",t)),Ext.callback(e.callback,e.scope||t,[i,e,n])},onCreateRecords:Ext.emptyFn,onUpdateRecords:Ext.emptyFn,onDestroyRecords:function(e,t,n){n&&(this.removed=[])},destroy:function(e){var t,n=this;return e=e||{},Ext.applyIf(e,{action:"destroy",records:n.getRemovedRecords()}),t=new Ext.data.Operation(e),n.proxy.destroy(t,n.onProxyWrite,n)},onBatchOperationComplete:function(e,t){return this.onProxyWrite(t)},onBatchComplete:function(e,t){var n,i=this,r=e.operations,o=r.length;for(i.suspendEvents(),n=0;n<o;n++)i.onProxyWrite(r[n]);i.resumeEvents(),i.fireEvent("datachanged",i),i.fireEvent("refresh",i)},onBatchException:function(e,t){},filterNew:function(e){return!0===e.phantom&&e.isValid()},getNewRecords:function(){return[]},getUpdatedRecords:function(){return[]},getModifiedRecords:function(){return[].concat(this.getNewRecords(),this.getUpdatedRecords())},filterUpdated:function(e){return!0===e.dirty&&!0!==e.phantom&&e.isValid()},getRemovedRecords:function(){return this.removed},filter:function(e,t){},decodeFilters:function(e){Ext.isArray(e)||(e=void 0===e?[]:[e]);var t,n,i=e.length,r=Ext.util.Filter;for(n=0;n<i;n++)(t=e[n])instanceof r||(Ext.apply(t,{root:"data"}),t.fn&&(t.filterFn=t.fn),"function"==typeof t&&(t={filterFn:t}),e[n]=new r(t));return e},clearFilter:function(e){},isFiltered:function(){},filterBy:function(e,t){},sync:function(e){var t=this,n={},i=t.getNewRecords(),r=t.getUpdatedRecords(),o=t.getRemovedRecords(),a=!1;return i.length>0&&(n.create=i,a=!0),r.length>0&&(n.update=r,a=!0),o.length>0&&(n.destroy=o,a=!0),a&&!1!==t.fireEvent("beforesync",n)&&(e=e||{},t.proxy.batch(Ext.apply(e,{operations:n,listeners:t.getBatchListeners()}))),t},getBatchListeners:function(){var e=this,t={scope:e,exception:e.onBatchException};return"operation"==e.batchUpdateMode?t.operationcomplete=e.onBatchOperationComplete:t.complete=e.onBatchComplete,t},save:function(){return this.sync.apply(this,arguments)},load:function(e){var t,n=this;return e=Ext.apply({action:"read",filters:n.filters.items,sorters:n.getSorters()},e),n.lastOptions=e,t=new Ext.data.Operation(e),!1!==n.fireEvent("beforeload",n,t)&&(n.loading=!0,n.proxy.read(t,n.onProxyLoad,n)),n},reload:function(e){return this.load(Ext.apply(this.lastOptions,e))},afterEdit:function(e,t){var n,i,r=this;if(r.autoSync&&!r.autoSyncSuspended){for(n=t.length;n--;)if(e.fields.get(t[n]).persist){i=!0;break}i&&r.sync()}r.onUpdate(e,Ext.data.Model.EDIT,t),r.fireEvent("update",r,e,Ext.data.Model.EDIT,t)},afterReject:function(e){this.onUpdate(e,Ext.data.Model.REJECT,null),this.fireEvent("update",this,e,Ext.data.Model.REJECT,null)},afterCommit:function(e,t){t||(t=null),this.onUpdate(e,Ext.data.Model.COMMIT,t),this.fireEvent("update",this,e,Ext.data.Model.COMMIT,t)},onUpdate:Ext.emptyFn,onIdChanged:function(e,t,n,i){this.fireEvent("idchanged",this,e,t,n,i)},destroyStore:function(){var e=this;e.isDestroyed||(e.clearListeners(),e.storeId&&Ext.data.StoreManager.unregister(e),e.clearData(),e.data=e.tree=e.sorters=e.filters=e.groupers=null,e.reader&&e.reader.destroyReader(),e.proxy=e.reader=e.writer=null,e.isDestroyed=!0,e.implicitModel?Ext.destroy(e.model):e.model=null)},getState:function(){var e,t,n=this,i=!!n.groupers,r=[],o=[],a=[];if(i&&n.groupers.each(function(t){r[r.length]=t.serialize(),e=!0}),n.sorters&&n.sorters.each(function(t){i&&!n.groupers.contains(t)&&(o[o.length]=t.serialize(),e=!0)}),n.filters&&n.statefulFilters&&n.filters.each(function(t){a[a.length]=t.serialize(),e=!0}),e)return t={},r.length&&(t.groupers=r),o.length&&(t.sorters=o),a.length&&(t.filters=a),t},applyState:function(e){var t,n=this,i=!!n.sorters,r=!!n.groupers,o=!!n.filters;r&&e.groupers&&(n.groupers.clear(),n.groupers.addAll(n.decodeGroupers(e.groupers))),i&&e.sorters&&(n.sorters.clear(),n.sorters.addAll(n.decodeSorters(e.sorters))),o&&e.filters&&(n.filters.clear(),n.filters.addAll(n.decodeFilters(e.filters))),i&&r&&n.sorters.insert(0,n.groupers.getRange()),(n.remoteSort||n.remoteGroup||n.remoteFilter)&&n.reload(),o&&n.filters.length&&!n.remoteFilter&&(n.filter(),t=n.sortOnFilter),i&&n.sorters.length&&!n.remoteSort&&!t&&n.sort()},doSort:function(e){var t=this;t.remoteSort?t.load():(t.data.sortBy(e),t.fireEvent("datachanged",t),t.fireEvent("refresh",t)),t.fireEvent("sort",t,t.sorters.getRange())},clearData:Ext.emptyFn,getCount:Ext.emptyFn,getById:Ext.emptyFn,removeAll:Ext.emptyFn,isLoading:function(){return!!this.loading},suspendAutoSync:function(){this.autoSyncSuspended=!0},resumeAutoSync:function(){this.autoSyncSuspended=!1}}),Ext.define("Ext.container.DockingContainer",{isDockingContainer:!0,defaultDockWeights:{top:{render:1,visual:1},left:{render:3,visual:5},right:{render:5,visual:7},bottom:{render:7,visual:3}},dockOrder:{top:-1,left:-1,right:1,bottom:1},horizontalDocks:0,addDocked:function(e,t){var n,i,r=this,o=0;for(i=(e=r.prepareItems(e)).length;o<i;o++)(n=e[o]).dock=n.dock||"top","left"!==n.dock&&"right"!==n.dock||r.horizontalDocks++,void 0!==t?(o+=t,r.dockedItems.insert(o,n)):r.dockedItems.add(n),n.onAdded(r,o),r.hasListeners.dockedadd&&r.fireEvent("dockedadd",r,n,o),r.onDockedAdd!==Ext.emptyFn&&r.onDockedAdd(n);return r.rendered&&!r.suspendLayout&&r.updateLayout(),e},destroyDockedItems:function(){var e,t=this.dockedItems;if(t)for(;e=t.first();)this.removeDocked(e,!0)},doRenderDockedItems:function(e,t,n){var i,r,o=t.$comp.componentLayout;o.getDockedItems&&!t.$skipDockedItems&&(r=(i=o.getDockedItems("render",!n))&&o.getItemsRenderTree(i))&&Ext.DomHelper.generateMarkup(r,e)},getDockedComponent:function(e){return Ext.isObject(e)&&(e=e.getItemId()),this.dockedItems.get(e)},getDockedItems:function(e,t){var n=this.getComponentLayout().getDockedItems("render",t);return e&&n.length&&(n=Ext.ComponentQuery.query(e,n)),n},getDockingRefItems:function(e,t){var n,i=e&&"*,* *",r=this.getDockedItems(i,!0);return r.push.apply(r,t),n=this.getDockedItems(i,!1),r.push.apply(r,n),r},initDockingItems:function(){var e=this,t=e.dockedItems;e.dockedItems=new Ext.util.AbstractMixedCollection(!1,e.getComponentId),t&&e.addDocked(t)},insertDocked:function(e,t){this.addDocked(t,e)},onDockedAdd:Ext.emptyFn,onDockedRemove:Ext.emptyFn,removeDocked:function(e,t){var n,i,r=this;return t=!0===t||!1!==t&&r.autoDestroy,r.dockedItems.contains(e)?("left"!==e.dock&&"right"!==e.dock||r.horizontalDocks--,(i=(n=r.componentLayout)&&r.rendered)&&n.onRemove(e),r.dockedItems.remove(e),e.onRemoved(e.destroying||t),r.onDockedRemove(e),t?e.destroy():i&&n.afterRemove(e),r.hasListeners.dockedremove&&r.fireEvent("dockedremove",r,e),r.destroying||r.suspendLayout||r.updateLayout(),e):e},setupDockingRenderTpl:function(e){e.renderDockedItems=this.doRenderDockedItems}}),Ext.define("Ext.toolbar.Fill",{extend:Ext.Component,alias:"widget.tbfill",alternateClassName:"Ext.Toolbar.Fill",isFill:!0,flex:1}),Ext.define("Ext.layout.container.boxOverflow.None",{alternateClassName:"Ext.layout.boxOverflow.None",constructor:function(e,t){this.layout=e,Ext.apply(this,t)},handleOverflow:Ext.emptyFn,clearOverflow:Ext.emptyFn,beginLayout:Ext.emptyFn,beginLayoutCycle:Ext.emptyFn,calculate:function(e){var t,n=this,i=e.state.boxPlan;i&&i.tooNarrow?(t=n.handleOverflow(e))&&t.reservedSpace&&n.layout.publishInnerCtSize(e,t.reservedSpace):n.clearOverflow()},completeLayout:Ext.emptyFn,finishedLayout:function(e){var t,n,i=this,r=i.layout.owner;r.hasListeners.overflowchange&&(n=(t=r.query(">[hidden]")).length)!==i.lastHiddenCount&&(r.fireEvent("overflowchange",i.lastHiddenCount,n,t),i.lastHiddenCount=n)},onRemove:Ext.emptyFn,getItem:function(e){return this.layout.owner.getComponent(e)},getOwnerType:function(e){return e.isToolbar?"toolbar":e.isTabBar?"tabbar":e.isMenu?"menu":e.getXType()},getPrefixConfig:Ext.emptyFn,getSuffixConfig:Ext.emptyFn,getOverflowCls:function(){return""}}),Ext.define("Ext.toolbar.Item",{extend:Ext.Component,alias:"widget.tbitem",alternateClassName:"Ext.Toolbar.Item",enable:Ext.emptyFn,disable:Ext.emptyFn,focus:Ext.emptyFn}),Ext.define("Ext.toolbar.Separator",{extend:Ext.toolbar.Item,alias:"widget.tbseparator",alternateClassName:"Ext.Toolbar.Separator",baseCls:Ext.baseCSSPrefix+"toolbar-separator",focusable:!1,border:!0}),Ext.define("Ext.button.Manager",{singleton:!0,alternateClassName:"Ext.ButtonToggleManager",groups:{},buttonSelector:"."+Ext.baseCSSPrefix+"btn",init:function(){var e=this;e.initialized||(Ext.getBody().on("keydown",e.onKeyDown,e),e.initialized=!0)},onKeyDown:function(e){var t,n=e.getKey();n!==e.SPACE&&n!==e.ENTER||(t=e.getTarget(this.buttonSelector))&&Ext.getCmp(t.id).onClick(e)},toggleGroup:function(e,t){if(t){var n,i=this.groups[e.toggleGroup],r=i.length;for(n=0;n<r;n++)i[n]!==e&&i[n].toggle(!1)}},register:function(e){var t=this,n=this.groups,i=n[e.toggleGroup];t.init(),e.toggleGroup&&(i||(i=n[e.toggleGroup]=[]),i.push(e),e.on("toggle",t.toggleGroup,t))},unregister:function(e){if(e.toggleGroup){var t=this,n=t.groups[e.toggleGroup];n&&(Ext.Array.remove(n,e),e.un("toggle",t.toggleGroup,t))}},getPressed:function(e){var t,n=this.groups[e],i=0;if(n)for(t=n.length;i<t;i++)if(!0===n[i].pressed)return n[i];return null}}),Ext.define("Ext.menu.Manager",{singleton:!0,alternateClassName:"Ext.menu.MenuMgr",menuSelector:"."+Ext.baseCSSPrefix+"menu",menus:{},groups:{},attached:!1,lastShow:new Date,init:function(){var e=this;e.active=new Ext.util.MixedCollection,Ext.getDoc().addKeyListener(27,function(){e.active.length>0&&e.hideAll()},e)},hideAll:function(){var e,t,n,i=this.active;if(i&&i.length>0){for(n=(e=i.clone().items).length,t=0;t<n;t++)e[t].hide();return!0}return!1},onHide:function(e){var t=this,n=t.active;n.remove(e),n.length<1&&(Ext.getDoc().un("mousedown",t.onMouseDown,t),t.attached=!1)},onShow:function(e){var t=this,n=t.active,i=t.attached;t.lastShow=new Date,n.add(e),i||(Ext.getDoc().on("mousedown",t.onMouseDown,t,{buffer:Ext.isIE9m?10:void 0}),t.attached=!0),e.toFront()},onBeforeHide:function(e){e.activeChild&&e.activeChild.hide(),e.autoHideTimer&&(clearTimeout(e.autoHideTimer),delete e.autoHideTimer)},onBeforeShow:function(e){var t=this.active,n=e.parentMenu;t.remove(e),n||e.allowOtherMenus?n&&n.activeChild&&e!=n.activeChild&&n.activeChild.hide():this.hideAll()},onMouseDown:function(e){var t=this,n=t.active,i=t.lastShow,r=!0;Ext.Date.getElapsed(i)>50&&n.length>0&&!e.getTarget(t.menuSelector)&&(Ext.isIE9m&&!Ext.getBody().contains(e.target)&&(r=!1),r&&t.hideAll())},register:function(e){var t=this;t.active||t.init(),e.floating&&(t.menus[e.id]=e,e.on({beforehide:t.onBeforeHide,hide:t.onHide,beforeshow:t.onBeforeShow,show:t.onShow,scope:t}))},get:function(e){var t=this.menus;return"string"==typeof e?t?t[e]:null:e.isMenu?e:Ext.isArray(e)?new Ext.menu.Menu({items:e}):Ext.ComponentManager.create(e,"menu")},unregister:function(e){var t=this,n=t.menus,i=t.active;delete n[e.id],i.remove(e),e.un({beforehide:t.onBeforeHide,hide:t.onHide,beforeshow:t.onBeforeShow,show:t.onShow,scope:t})},registerCheckable:function(e){var t=this.groups,n=e.group;n&&(t[n]||(t[n]=[]),t[n].push(e))},unregisterCheckable:function(e){var t=this.groups,n=e.group;n&&Ext.Array.remove(t[n],e)},onCheckChange:function(e,t){var n,i,r,o=this.groups,a=e.group,s=0;if(a&&t)for(i=(n=o[a]).length;s<i;s++)(r=n[s])!=e&&r.setChecked(!1)}}),Ext.define("Ext.util.ClickRepeater",{extend:Ext.util.Observable,constructor:function(e,t){var n=this;n.el=Ext.get(e),n.el.unselectable(),Ext.apply(n,t),n.callParent(),n.addEvents("mousedown","click","mouseup"),n.disabled||(n.disabled=!0,n.enable()),n.handler&&n.on("click",n.handler,n.scope||n)},interval:20,delay:250,preventDefault:!0,stopDefault:!1,timer:0,enable:function(){this.disabled&&(this.el.on("mousedown",this.handleMouseDown,this),Ext.isIE&&!(Ext.isIE10p||Ext.isStrict&&Ext.isIE9)&&this.el.on("dblclick",this.handleDblClick,this),(this.preventDefault||this.stopDefault)&&this.el.on("click",this.eventOptions,this)),this.disabled=!1},disable:function(e){!e&&this.disabled||(clearTimeout(this.timer),this.pressedCls&&this.el.removeCls(this.pressedCls),Ext.getDoc().un("mouseup",this.handleMouseUp,this),this.el.removeAllListeners()),this.disabled=!0},setDisabled:function(e){this[e?"disable":"enable"]()},eventOptions:function(e){this.preventDefault&&e.preventDefault(),this.stopDefault&&e.stopEvent()},destroy:function(){this.disable(!0),Ext.destroy(this.el),this.clearListeners()},handleDblClick:function(e){clearTimeout(this.timer),this.el.blur(),this.fireEvent("mousedown",this,e),this.fireEvent("click",this,e)},handleMouseDown:function(e){clearTimeout(this.timer),this.el.blur(),this.pressedCls&&this.el.addCls(this.pressedCls),this.mousedownTime=new Date,Ext.getDoc().on("mouseup",this.handleMouseUp,this),this.el.on("mouseout",this.handleMouseOut,this),this.fireEvent("mousedown",this,e),this.fireEvent("click",this,e),this.accelerate&&(this.delay=400),e=new Ext.EventObjectImpl(e),this.timer=Ext.defer(this.click,this.delay||this.interval,this,[e])},click:function(e){this.fireEvent("click",this,e),this.timer=Ext.defer(this.click,this.accelerate?this.easeOutExpo(Ext.Date.getElapsed(this.mousedownTime),400,-390,12e3):this.interval,this,[e])},easeOutExpo:function(e,t,n,i){return e==i?t+n:n*(1-Math.pow(2,-10*e/i))+t},handleMouseOut:function(){clearTimeout(this.timer),this.pressedCls&&this.el.removeCls(this.pressedCls),this.el.on("mouseover",this.handleMouseReturn,this)},handleMouseReturn:function(){this.el.un("mouseover",this.handleMouseReturn,this),this.pressedCls&&this.el.addCls(this.pressedCls),this.click()},handleMouseUp:function(e){clearTimeout(this.timer),this.el.un("mouseover",this.handleMouseReturn,this),this.el.un("mouseout",this.handleMouseOut,this),Ext.getDoc().un("mouseup",this.handleMouseUp,this),this.pressedCls&&this.el.removeCls(this.pressedCls),this.fireEvent("mouseup",this,e)}}),Ext.define("Ext.layout.component.Button",{alias:["layout.button"],extend:Ext.layout.component.Auto,type:"button",htmlRE:/<.*>/,beginLayout:function(e){var t=this,n=t.owner,i=n.text;t.callParent(arguments),e.btnWrapContext=e.getEl("btnWrap"),e.btnElContext=e.getEl("btnEl"),e.btnInnerElContext=e.getEl("btnInnerEl"),e.btnIconElContext=e.getEl("btnIconEl"),i&&t.htmlRE.test(i)&&(e.isHtmlText=!0,n.btnInnerEl.setStyle("line-height","normal"),n.btnInnerEl.setStyle("padding-top",""))},beginLayoutCycle:function(e){var t=this.owner,n=this.lastWidthModel;this.callParent(arguments),n&&!this.lastWidthModel.shrinkWrap&&e.widthModel.shrinkWrap&&(t.btnWrap.setStyle("height",""),t.btnEl.setStyle("height",""),t.btnInnerEl.setStyle("line-height",""))},calculate:function(e){var t,n,i,r,o=this,a=o.owner,s=e.btnElContext,l=e.btnInnerElContext,d=e.btnWrapContext;o.callParent(arguments),e.heightModel.shrinkWrap?(i=a.btnEl.getHeight(),e.isHtmlText&&(o.centerInnerEl(e,i),o.ieCenterIcon(e,i))):(t=e.getProp("height"))?(i=n=t-e.getFrameInfo().height-e.getPaddingInfo().height,(a.menu||a.split)&&"bottom"===a.arrowAlign&&(i-=d.getPaddingInfo().bottom),r=i,!(a.icon||a.iconCls||a.glyph)||"top"!==a.iconAlign&&"bottom"!==a.iconAlign||(r-=l.getPaddingInfo().height),d.setProp("height",n),s.setProp("height",i),e.isHtmlText?o.centerInnerEl(e,i):l.setProp("line-height",r+"px"),o.ieCenterIcon(e,i)):o.done=!1},centerInnerEl:function(e,t){var n=e.btnInnerElContext,i=this.owner.btnInnerEl.getHeight();e.heightModel.shrinkWrap&&t<i?e.btnElContext.setHeight(i):t>i&&n.setProp("padding-top",Math.round((t-i)/2)+n.getPaddingInfo().top)},ieCenterIcon:function(e,t){var n=this.owner.iconAlign;!Ext.isIEQuirks&&!Ext.isIE6||"left"!==n&&"right"!==n||e.btnIconElContext.setHeight(t)},publishInnerWidth:function(e,t){this.owner.getFrameInfo().table&&e.btnInnerElContext.setWidth(t-e.getFrameInfo().width-e.getPaddingInfo().width-e.btnWrapContext.getPaddingInfo().width)}}),Ext.define("Ext.util.TextMetrics",{statics:{shared:null,measure:function(e,t,n){var i=this,r=i.shared;return r||(r=i.shared=new i(e,n)),r.bind(e),r.setFixedWidth(n||"auto"),r.getSize(t)},destroy:function(){Ext.destroy(this.shared),this.shared=null}},constructor:function(e,t){var n=this.measure=Ext.getBody().createChild({cls:Ext.baseCSSPrefix+"textmetrics"});this.el=Ext.get(e),n.position("absolute"),n.setLocalXY(-1e3,-1e3),n.hide(),t&&n.setWidth(t)},getSize:function(e){var t,n=this.measure;return n.update(e),t=n.getSize(),n.update(""),t},bind:function(e){var t=this;t.el=Ext.get(e),t.measure.setStyle(t.el.getStyles("font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"))},setFixedWidth:function(e){this.measure.setWidth(e)},getWidth:function(e){return this.measure.dom.style.width="auto",this.getSize(e).width},getHeight:function(e){return this.getSize(e).height},destroy:function(){var e=this;e.measure.remove(),delete e.el,delete e.measure}},function(){Ext.Element.addMethods({getTextWidth:function(e,t,n){return Ext.Number.constrain(Ext.util.TextMetrics.measure(this.dom,Ext.value(e,this.dom.innerHTML,!0)).width,t||0,n||1e6)}})}),Ext.define("Ext.button.Button",{alias:"widget.button",extend:Ext.Component,alternateClassName:"Ext.Button",isButton:!0,componentLayout:"button",hidden:!1,disabled:!1,pressed:!1,enableToggle:!1,menuAlign:"tl-bl?",showEmptyMenu:!1,textAlign:"center",type:"button",clickEvent:"click",preventDefault:!0,handleMouseEvents:!0,tooltipType:"qtip",baseCls:Ext.baseCSSPrefix+"btn",pressedCls:"pressed",overCls:"over",focusCls:"focus",menuActiveCls:"menu-active",hrefTarget:"_blank",border:!0,childEls:["btnEl","btnWrap","btnInnerEl","btnIconEl"],renderTpl:['<div id="{id}-btnWrap" class="{baseCls}-wrap','<tpl if="splitCls"> {splitCls}</tpl>','{childElCls}" unselectable="on">','<a id="{id}-btnEl" class="{baseCls}-button" role="button" hidefocus="on" unselectable="on"','<tpl if="tabIndex != null>',' tabIndex="{tabIndex}"',"</tpl>",'<tpl if="href">',' href="{href}"','<tpl if="hrefTarget">',' target="{hrefTarget}"',"</tpl>","</tpl>",">",'<span id="{id}-btnInnerEl" class="{baseCls}-inner {innerCls}','{childElCls}" unselectable="on">',"{text}","</span>",'<span role="img" id="{id}-btnIconEl" class="{baseCls}-icon-el {iconCls}','{childElCls} {glyphCls}" unselectable="on" style="','<tpl if="iconUrl">background-image:url({iconUrl});</tpl>','<tpl if="glyph && glyphFontFamily">font-family:{glyphFontFamily};</tpl>">','<tpl if="glyph">&#{glyph};</tpl><tpl if="iconCls || iconUrl">&#160;</tpl>',"</span>","</a>","</div>",'<tpl if="closable">','<a id="{id}-closeEl" class="{baseCls}-close-btn" title="{closeText}" href="#"></a>',"</tpl>"],scale:"small",allowedScales:["small","medium","large"],iconAlign:"left",arrowAlign:"right",arrowCls:"arrow",maskOnDisable:!1,shrinkWrap:3,frame:!0,_triggerRegion:{},initComponent:function(){var e=this;e.addCls("x-unselectable"),e.callParent(arguments),e.addEvents("click","toggle","mouseover","mouseout","menushow","menuhide","menutriggerover","menutriggerout","textchange","iconchange","glyphchange"),e.menu&&(e.split=!0,e.menu=Ext.menu.Manager.get(e.menu),e.menu.ownerButton=e),e.url&&(e.href=e.url),e.href&&!e.hasOwnProperty("preventDefault")&&(e.preventDefault=!1),Ext.isString(e.toggleGroup)&&""!==e.toggleGroup&&(e.enableToggle=!0),e.html&&!e.text&&(e.text=e.html,delete e.html),e.glyphCls=e.baseCls+"-glyph"},getActionEl:function(){return this.btnEl},getFocusEl:function(){return this.useElForFocus?this.el:this.btnEl},onFocus:function(e){var t=this;t.useElForFocus=!0,t.callParent(arguments),t.useElForFocus=!1},onBlur:function(e){this.useElForFocus=!0,this.callParent(arguments),this.useElForFocus=!1},onDisable:function(){this.useElForFocus=!0,this.callParent(arguments),this.useElForFocus=!1},setComponentCls:function(){var e=this,t=e.getComponentCls();Ext.isEmpty(e.oldCls)||(e.removeClsWithUI(e.oldCls),e.removeClsWithUI(e.pressedCls)),e.oldCls=t,e.addClsWithUI(t)},getComponentCls:function(){var e=this,t=[];return e.iconCls||e.icon||e.glyph?e.text?t.push("icon-text-"+e.iconAlign):t.push("icon"):e.text&&t.push("noicon"),e.pressed&&t.push(e.pressedCls),t},beforeRender:function(){var e=this;e.callParent(),e.oldCls=e.getComponentCls(),e.addClsWithUI(e.oldCls),Ext.applyIf(e.renderData,e.getTemplateArgs())},onRender:function(){var e,t,n,i=this;i.doc=Ext.getDoc(),i.callParent(arguments),t=i.el,i.tooltip&&i.setTooltip(i.tooltip,!0),i.handleMouseEvents?(n={scope:i,mouseover:i.onMouseOver,mouseout:i.onMouseOut,mousedown:i.onMouseDown},i.split&&(n.mousemove=i.onMouseMove)):n={scope:i},i.menu&&(i.mon(i.menu,{scope:i,show:i.onMenuShow,hide:i.onMenuHide}),i.keyMap=new Ext.util.KeyMap({target:i.el,key:Ext.EventObject.DOWN,handler:i.onDownKey,scope:i})),i.repeat?i.mon(new Ext.util.ClickRepeater(t,Ext.isObject(i.repeat)?i.repeat:{}),"click",i.onRepeatClick,i):n[i.clickEvent]?e=!0:n[i.clickEvent]=i.onClick,i.mon(t,n),e&&i.mon(t,i.clickEvent,i.onClick,i),Ext.button.Manager.register(i)},getTemplateArgs:function(){var e,t=this,n=t.glyph,i=Ext._glyphFontFamily;return"string"==typeof n&&(n=(e=n.split("@"))[0],i=e[1]),{href:t.getHref(),hrefTarget:t.hrefTarget,type:t.type,innerCls:t.getInnerCls(),splitCls:t.getSplitCls(),iconUrl:t.icon,iconCls:t.iconCls,glyph:n,glyphCls:n?t.glyphCls:"",glyphFontFamily:i,text:t.text||"&#160;",tabIndex:null==t.tabIndex?0:t.tabIndex}},setHref:function(e){this.href=e,this.btnEl.dom.href=this.getHref()},getHref:function(){var e=this,t=e.href;return!!t&&Ext.urlAppend(t,Ext.Object.toQueryString(Ext.apply({},e.params,e.baseParams)))},setParams:function(e){this.params=e,this.btnEl.dom.href=this.getHref()},getSplitCls:function(){var e=this;return e.split?e.baseCls+"-"+e.arrowCls+" "+e.baseCls+"-"+e.arrowCls+"-"+e.arrowAlign:""},getInnerCls:function(){return this.textAlign?this.baseCls+"-inner-"+this.textAlign:""},setIcon:function(e){e=e||"";var t=this,n=t.btnIconEl,i=t.icon||"";return t.icon=e,e!=i&&(n&&(n.setStyle("background-image",e?"url("+e+")":""),t.setComponentCls(),t.didIconStateChange(i,e)&&t.updateLayout()),t.fireEvent("iconchange",t,i,e)),t},setIconCls:function(e){e=e||"";var t=this,n=t.btnIconEl,i=t.iconCls||"";return t.iconCls=e,i!=e&&(n&&(n.removeCls(i),n.addCls(e||""),t.setComponentCls(),t.didIconStateChange(i,e)&&t.updateLayout()),t.fireEvent("iconchange",t,i,e)),t},setGlyph:function(e){e=e||0;var t,n,i=this,r=i.btnIconEl,o=i.glyph;return i.glyph=e,r&&("string"==typeof e&&(e=(n=e.split("@"))[0],t=n[1]||Ext._glyphFontFamily),e?o!=e&&(r.dom.innerHTML="&#"+e+";"):r.dom.innerHTML="",t&&r.setStyle("font-family",t)),i.fireEvent("glyphchange",i,i.glyph,o),i},setTooltip:function(e,t){var n=this;return n.rendered?(t&&e||n.clearTip(),e&&(Ext.quickTipsActive&&Ext.isObject(e)?(Ext.tip.QuickTipManager.register(Ext.apply({target:n.btnEl.id},e)),n.tooltip=e):n.btnEl.dom.setAttribute(n.getTipAttr(),e))):n.tooltip=e,n},setTextAlign:function(e){var t=this,n=t.btnEl;return n&&(n.removeCls(t.baseCls+"-inner-"+t.textAlign),n.addCls(t.baseCls+"-inner-"+e)),t.textAlign=e,t},getTipAttr:function(){return"qtip"==this.tooltipType?"data-qtip":"title"},getRefItems:function(e){var t,n=this.menu;return n&&(t=n.getRefItems(e)).unshift(n),t||[]},clearTip:function(){var e=this,t=e.btnEl;Ext.quickTipsActive&&Ext.isObject(e.tooltip)?Ext.tip.QuickTipManager.unregister(t):t.dom.removeAttribute(e.getTipAttr())},beforeDestroy:function(){var e=this;e.rendered&&e.clearTip(),e.menu&&!1!==e.destroyMenu&&Ext.destroy(e.menu),Ext.destroy(e.btnInnerEl,e.repeater),e.callParent()},onDestroy:function(){var e=this;e.rendered&&(e.doc.un("mouseover",e.monitorMouseOver,e),e.doc.un("mouseup",e.onMouseUp,e),delete e.doc,Ext.destroy(e.keyMap),delete e.keyMap),Ext.button.Manager.unregister(e),e.callParent()},setHandler:function(e,t){return this.handler=e,this.scope=t,this},setText:function(e){e=e||"";var t=this,n=t.text||"";return e!=n&&(t.text=e,t.rendered&&(t.btnInnerEl.update(e||"&#160;"),t.setComponentCls(),Ext.isStrict&&Ext.isIE8&&t.el.repaint(),t.updateLayout()),t.fireEvent("textchange",t,n,e)),t},didIconStateChange:function(e,t){var n=Ext.isEmpty(t);return Ext.isEmpty(e)?!n:n},getText:function(){return this.text},toggle:function(e,t){var n=this;return(e=void 0===e?!n.pressed:!!e)!==n.pressed&&(n.rendered&&n[e?"addClsWithUI":"removeClsWithUI"](n.pressedCls),n.pressed=e,t||(n.fireEvent("toggle",n,e),Ext.callback(n.toggleHandler,n.scope||n,[n,e]))),n},maybeShowMenu:function(){var e=this;!e.menu||e.hasVisibleMenu()||e.ignoreNextClick||e.showMenu(!0)},showMenu:function(e){var t=this,n=t.menu;return t.rendered&&(t.tooltip&&Ext.quickTipsActive&&"title"!=t.getTipAttr()&&Ext.tip.QuickTipManager.getQuickTip().cancelShow(t.btnEl),n.isVisible()&&n.hide(),(!e||t.showEmptyMenu||n.items.getCount()>0)&&n.showBy(t.el,t.menuAlign,Ext.isIEQuirks||Ext.isIE6?[-2,-2]:void 0)),t},hideMenu:function(){return this.hasVisibleMenu()&&this.menu.hide(),this},hasVisibleMenu:function(){var e=this.menu;return e&&e.rendered&&e.isVisible()},onRepeatClick:function(e,t){this.onClick(t)},onClick:function(e){var t=this;(t.preventDefault||t.disabled&&t.getHref()&&e)&&e.preventDefault(),"keydown"!==e.type&&0!==e.button||t.disabled||(t.doToggle(),t.maybeShowMenu(),t.fireHandler(e))},fireHandler:function(e){var t=this,n=t.handler;!1!==t.fireEvent("click",t,e)&&(n&&n.call(t.scope||t,t,e),t.blur())},doToggle:function(){var e=this;!e.enableToggle||!1===e.allowDepress&&e.pressed||e.toggle()},onMouseOver:function(e){var t=this;t.disabled||e.within(t.el,!0,!0)||t.onMouseEnter(e)},onMouseOut:function(e){var t=this;e.within(t.el,!0,!0)||(t.overMenuTrigger&&t.onMenuTriggerOut(e),t.onMouseLeave(e))},onMouseMove:function(e){var t,n,i=this,r=i.el,o=i.overMenuTrigger;i.split&&((t="right"===i.arrowAlign?e.getX()-i.getX():e.getY()-r.getY())>(n=i.getTriggerRegion()).begin&&t<n.end?o||i.onMenuTriggerOver(e):o&&i.onMenuTriggerOut(e))},getTriggerRegion:function(){var e=this,t=e._triggerRegion,n=e.getTriggerSize(),i="right"===e.arrowAlign?e.getWidth():e.getHeight();return t.begin=i-n,t.end=i,t},getTriggerSize:function(){var e,t,n=this,i=n.triggerSize;return null==i&&(t=(e=n.arrowAlign).charAt(0),i=n.triggerSize=n.el.getFrameWidth(t)+n.getBtnWrapFrameWidth(t),n.frameSize&&(i=n.triggerSize+=n.frameSize[e])),i},getBtnWrapFrameWidth:function(e){return this.btnWrap.getFrameWidth(e)},addOverCls:function(){this.disabled||this.addClsWithUI(this.overCls)},removeOverCls:function(){this.removeClsWithUI(this.overCls)},onMouseEnter:function(e){this.fireEvent("mouseover",this,e)},onMouseLeave:function(e){this.fireEvent("mouseout",this,e)},onMenuTriggerOver:function(e){var t=this,n=t.arrowTooltip;t.overMenuTrigger=!0,t.split&&n&&t.btnWrap.dom.setAttribute(t.getTipAttr(),n),t.fireEvent("menutriggerover",t,t.menu,e)},onMenuTriggerOut:function(e){var t=this;delete t.overMenuTrigger,t.split&&t.arrowTooltip&&t.btnWrap.dom.setAttribute(t.getTipAttr(),""),t.fireEvent("menutriggerout",t,t.menu,e)},enable:function(e){var t=this;return t.callParent(arguments),t.removeClsWithUI("disabled"),t},disable:function(e){var t=this;return t.callParent(arguments),t.addClsWithUI("disabled"),t.removeClsWithUI(t.overCls),t.btnInnerEl&&Ext.isIE7m&&t.btnInnerEl.repaint(),t},setScale:function(e){var t=this,n=t.ui.replace("-"+t.scale,"");if(!Ext.Array.contains(t.allowedScales,e))throw"#setScale: scale must be an allowed scale ("+t.allowedScales.join(", ")+")";t.scale=e,t.setUI(n)},setUI:function(e){var t=this;t.scale&&!e.match(t.scale)&&(e=e+"-"+t.scale),t.callParent([e])},onMouseDown:function(e){var t=this;t.disabled||0!==e.button||(t.addClsWithUI(t.pressedCls),t.doc.on("mouseup",t.onMouseUp,t))},onMouseUp:function(e){var t=this;0===e.button&&(t.pressed||t.removeClsWithUI(t.pressedCls),t.doc.un("mouseup",t.onMouseUp,t))},onMenuShow:function(e){var t=this;t.ignoreNextClick=0,t.addClsWithUI(t.menuActiveCls),t.fireEvent("menushow",t,t.menu)},onMenuHide:function(e){var t=this;t.removeClsWithUI(t.menuActiveCls),t.ignoreNextClick=Ext.defer(t.restoreClick,250,t),t.fireEvent("menuhide",t,t.menu)},restoreClick:function(){this.ignoreNextClick=0},onDownKey:function(){var e=this;e.disabled||e.menu&&e.showMenu()}}),Ext.define("Ext.layout.container.boxOverflow.Menu",{extend:Ext.layout.container.boxOverflow.None,alternateClassName:"Ext.layout.boxOverflow.Menu",noItemsMenuText:'<div class="'+Ext.baseCSSPrefix+'toolbar-no-items">(None)</div>',constructor:function(e){var t=this;t.callParent(arguments),t.triggerButtonCls=t.triggerButtonCls||Ext.baseCSSPrefix+"box-menu-after",t.menuItems=[]},beginLayout:function(e){this.callParent(arguments),this.clearOverflow(e)},beginLayoutCycle:function(e,t){this.callParent(arguments),t||(this.clearOverflow(e),this.layout.cacheChildItems(e))},onRemove:function(e){Ext.Array.remove(this.menuItems,e)},getSuffixConfig:function(){var e=this,t=e.layout,n=t.owner,i=n.id;return e.menu=new Ext.menu.Menu({listeners:{scope:e,beforeshow:e.beforeMenuShow}}),e.menuTrigger=new Ext.button.Button({id:i+"-menu-trigger",cls:Ext.layout.container.Box.prototype.innerCls+" "+e.triggerButtonCls+" "+Ext.baseCSSPrefix+"toolbar-item",plain:n.usePlainButtons,ownerCt:n,ownerLayout:t,iconCls:Ext.baseCSSPrefix+e.getOwnerType(n)+"-more-icon",ui:n instanceof Ext.toolbar.Toolbar?"default-toolbar":"default",menu:e.menu,showEmptyMenu:!0,getSplitCls:function(){return""}}),e.menuTrigger.getRenderTree()},getOverflowCls:function(){return Ext.baseCSSPrefix+this.layout.direction+"-box-overflow-body"},handleOverflow:function(e){var t=this,n=t.layout.names,i=e.state.boxPlan,r=[null,null];return t.showTrigger(e),"vertical"!==t.layout.direction&&(r[n.heightIndex]=(i.maxSize-t.menuTrigger[n.getHeight]())/2,t.menuTrigger.setPosition.apply(t.menuTrigger,r)),{reservedSpace:t.triggerTotalWidth}},captureChildElements:function(){var e=this,t=e.menuTrigger,n=e.layout.names;t.rendering&&(t.finishRender(),e.triggerTotalWidth=t[n.getWidth]()+t.el.getMargin(n.parallelMargins))},_asLayoutRoot:{isRoot:!0},clearOverflow:function(e){var t,n=this,i=n.menuItems,r=0,o=i.length,a=n.layout.owner,s=n._asLayoutRoot;for(a.suspendLayouts(),n.captureChildElements(),n.hideTrigger(),a.resumeLayouts();r<o;r++)(t=i[r]).suspendLayouts(),t.show(),t.resumeLayouts(s);i.length=0},showTrigger:function(e){var t,n,i,r,o=this,a=o.layout,s=a.owner,l=a.names,d=l.x,c=l.width,u=e.state.boxPlan.targetSize[c],h=e.childItems,f=h.length,p=o.menuTrigger;for(p.suspendLayouts(),p.show(),p.resumeLayouts(o._asLayoutRoot),u-=o.triggerTotalWidth,s.suspendLayouts(),o.menuItems.length=0,i=0;i<f;i++)(r=(t=h[i]).props)[d]+r[c]>u&&(n=t.target,o.menuItems.push(n),n.hide());s.resumeLayouts()},hideTrigger:function(){var e=this.menuTrigger;e&&e.hide()},beforeMenuShow:function(e){var t,n,i=this,r=i.menuItems,o=0,a=r.length,s=function(e,t){return e.isXType("buttongroup")&&!(t instanceof Ext.toolbar.Separator)};for(e.suspendLayouts(),i.clearMenu(),e.removeAll();o<a;o++)t=r[o],!o&&t instanceof Ext.toolbar.Separator||(n&&(s(t,n)||s(n,t))&&e.add("-"),i.addComponentToMenu(e,t),n=t);e.items.length<1&&e.add(i.noItemsMenuText),e.resumeLayouts()},createMenuConfig:function(e,t){var n=this,i=Ext.apply({},e.initialConfig),r=e.toggleGroup;return Ext.copyTo(i,e,["iconCls","icon","itemId","disabled","handler","scope","menu","tabIndex"]),Ext.apply(i,{text:e.overflowText||e.text,hideOnClick:t,destroyMenu:!1,listeners:{}}),e.isFormField?(i.value=e.getValue(),i.listeners.change=function(t,n,i){e.setValue(n)}):(r||e.enableToggle)&&Ext.apply(i,{hideOnClick:!1,group:r,checked:e.pressed,handler:function(t,n){e.onClick(n)}}),e.isButton&&!e.changeListenersAdded&&(e.on({textchange:n.onButtonAttrChange,iconchange:n.onButtonAttrChange,toggle:n.onButtonToggle}),e.changeListenersAdded=!0),delete i.ownerCt,delete i.xtype,delete i.id,i},onButtonAttrChange:function(e){var t=e.overflowClone;t.suspendLayouts(),t.setText(e.text),t.setIcon(e.icon),t.setIconCls(e.iconCls),t.resumeLayouts(!0)},onButtonToggle:function(e,t){e.overflowClone.checked!==t&&e.overflowClone.setChecked(t)},addComponentToMenu:function(e,t){var n,i,r,o=this;if(t instanceof Ext.toolbar.Separator)e.add("-");else if(t.isComponent)if(t.isXType("splitbutton"))t.overflowClone=e.add(o.createMenuConfig(t,!0));else if(t.isXType("button"))t.overflowClone=e.add(o.createMenuConfig(t,!t.menu));else if(t.isXType("buttongroup"))for(r=(i=t.items.items).length,n=0;n<r;n++)o.addComponentToMenu(e,i[n]);else t.overflowClone=e.add(Ext.create(Ext.getClassName(t),o.createMenuConfig(t)))},clearMenu:function(){var e,t,n,i,r=this.menu;if(r&&r.items)for(n=(e=r.items.items).length,t=0;t<n;t++)(i=e[t]).setMenu&&i.setMenu(null)},destroy:function(){var e=this.menuTrigger;e&&!this.layout.owner.items.contains(e)&&delete e.ownerCt,Ext.destroy(this.menu,e)}}),Ext.define("Ext.layout.container.boxOverflow.Scroller",{extend:Ext.layout.container.boxOverflow.None,alternateClassName:"Ext.layout.boxOverflow.Scroller",mixins:{observable:Ext.util.Observable},animateScroll:!1,scrollIncrement:20,wheelIncrement:10,scrollRepeatInterval:60,scrollDuration:400,scrollerCls:Ext.baseCSSPrefix+"box-scroller",constructor:function(e,t){var n=this;n.layout=e,Ext.apply(n,t||{}),n.mixins.observable.constructor.call(n),n.addEvents("scroll"),n.scrollPosition=0,n.scrollSize=0},getPrefixConfig:function(){var e,t=this,n=t.layout.owner;return t.initCSSClasses(),e=Ext.layout.container.Box.prototype.innerCls+" "+t.beforeCtCls,n.plain&&(e+=" "+t.scrollerCls+"-plain"),{cls:e,cn:{id:n.id+"-before-scroller",cls:t.scrollerCls+" "+t.beforeScrollerCls,style:"display:none"}}},getSuffixConfig:function(){var e=this,t=e.layout.owner,n=Ext.layout.container.Box.prototype.innerCls+" "+e.afterCtCls;return t.plain&&(n+=" "+e.scrollerCls+"-plain"),{cls:n,cn:{id:e.layout.owner.id+"-after-scroller",cls:e.scrollerCls+" "+e.afterScrollerCls,style:"display:none"}}},getOverflowCls:function(){return Ext.baseCSSPrefix+this.layout.direction+"-box-overflow-body"},initCSSClasses:function(){var e=this,t=Ext.baseCSSPrefix,n=e.layout,i=n.names,r=i.beforeX,o=i.afterX,a=e.getOwnerType(n.owner);e.beforeCtCls=e.beforeCtCls||t+"box-scroller-"+r,e.afterCtCls=e.afterCtCls||t+"box-scroller-"+o,e.beforeScrollerCls=e.beforeScrollerCls||t+a+"-scroll-"+r,e.afterScrollerCls=e.afterScrollerCls||t+a+"-scroll-"+o},beginLayout:function(e){e.innerCtScrollPos=this.getElScrollPos(),this.callParent(arguments)},completeLayout:function(e){var t,n=this,i=e.state.boxPlan,r=n.layout.names;i&&i.tooNarrow&&(t=e.childItems[e.childItems.length-1],n.scrollSize=t.props[r.x]+t.props[r.width],n.updateScrollButtons()),this.callParent(arguments)},finishedLayout:function(e){var t=Math.min(this.getMaxScrollPosition(),e.innerCtScrollPos);this.setElScrollPos(t)},setElScrollPos:function(e){var t=this.layout;"vertical"===t.direction?t.innerCt.dom.scrollTop=e:t.innerCt.setScrollLeft(e)},getElScrollPos:function(){var e=this.layout;return"vertical"===e.direction?e.innerCt.dom.scrollTop:e.innerCt.getScrollLeft()},handleOverflow:function(e){var t=this,n=t.layout.names.getWidth;return t.showScrollers(),{reservedSpace:t.beforeCt[n]()+t.afterCt[n]()}},captureChildElements:function(){var e,t,n,i,r,o,a=this,s=a.layout.owner.el;a.beforeCt||(o="-hover",i="-pressed",n=a.scrollerCls+o,r=a.scrollerCls+i,e=a.beforeScroller=s.getById(a.layout.owner.id+"-before-scroller"),t=a.afterScroller=s.getById(a.layout.owner.id+"-after-scroller"),a.beforeCt=e.up(""),a.afterCt=t.up(""),a.createWheelListener(),e.addClsOnOver(n),e.addClsOnOver(a.beforeScrollerCls+o),e.addClsOnClick(r),e.addClsOnClick(a.beforeScrollerCls+i),t.addClsOnOver(n),t.addClsOnOver(a.afterScrollerCls+o),t.addClsOnClick(r),t.addClsOnClick(a.afterScrollerCls+i),e.setVisibilityMode(Ext.Element.DISPLAY),t.setVisibilityMode(Ext.Element.DISPLAY),a.beforeRepeater=new Ext.util.ClickRepeater(e,{interval:a.scrollRepeatInterval,handler:a.scrollLeft,scope:a}),a.afterRepeater=new Ext.util.ClickRepeater(t,{interval:a.scrollRepeatInterval,handler:a.scrollRight,scope:a}))},createWheelListener:function(){var e=this;e.layout.innerCt.on({mousewheel:function(t){e.scrollBy(t.getWheelDelta()*e.wheelIncrement*-1,!1)},stopEvent:!0})},clearOverflow:function(){this.hideScrollers()},showScrollers:function(){var e=this;e.captureChildElements(),e.beforeScroller.show(),e.afterScroller.show(),e.layout.owner.addClsWithUI("vertical"===e.layout.direction?"vertical-scroller":"scroller")},hideScrollers:function(){var e=this;void 0!==e.beforeScroller&&(e.beforeScroller.hide(),e.afterScroller.hide(),e.layout.owner.removeClsWithUI("vertical"===e.layout.direction?"vertical-scroller":"scroller"))},destroy:function(){var e=this;Ext.destroy(e.beforeRepeater,e.afterRepeater,e.beforeScroller,e.afterScroller,e.beforeCt,e.afterCt)},scrollBy:function(e,t){this.scrollTo(this.getScrollPosition()+e,t)},getScrollAnim:function(){return{duration:this.scrollDuration,callback:this.updateScrollButtons,scope:this}},updateScrollButtons:function(){var e,t,n,i,r,o=this,a="-disabled";null!=o.beforeScroller&&null!=o.afterScroller&&(e=o.atExtremeBefore()?"addCls":"removeCls",t=o.atExtremeAfter()?"addCls":"removeCls",n=[r=o.scrollerCls+a,o.beforeScrollerCls+a],i=[r,o.afterScrollerCls+a],o.beforeScroller[e](n),o.afterScroller[t](i),o.scrolling=!1)},scrollLeft:function(){this.scrollBy(-this.scrollIncrement,!1)},scrollRight:function(){this.scrollBy(this.scrollIncrement,!1)},getScrollPosition:function(){var e=this;e.layout;return isNaN(e.scrollPosition)?e.getElScrollPos():e.scrollPosition},getMaxScrollPosition:function(){var e=this.layout,t=this.scrollSize-e.innerCt[e.names.getWidth]();return t<0?0:t},atExtremeBefore:function(){return!this.getScrollPosition()},atExtremeAfter:function(){return this.getScrollPosition()>=this.getMaxScrollPosition()},scrollTo:function(e,t){var n=this,i=n.layout,r=n.getScrollPosition(),o=Ext.Number.constrain(e,0,n.getMaxScrollPosition());o==r||n.scrolling||(n.scrollPosition=NaN,void 0===t&&(t=n.animateScroll),i.innerCt.scrollTo(i.names.beforeX,o,!!t&&n.getScrollAnim()),t?n.scrolling=!0:n.updateScrollButtons(),n.fireEvent("scroll",n,o,!!t&&n.getScrollAnim()))},scrollToItem:function(e,t){var n,i,r,o=this,a=o.layout,s=a.owner,l=a.names;void 0!==(e=o.getItem(e))&&(e==s.items.first()?r=0:e===s.items.last()?r=o.getMaxScrollPosition():(n=o.getItemVisibility(e)).fullyVisible||(r=(i=e.getBox(!1,!0))[l.x],n.hiddenEnd&&(r-=o.layout.innerCt[l.getWidth]()-i[l.width])),o.scrollTo(r,t))},getItemVisibility:function(e){var t=this,n=t.getItem(e).getBox(!0,!0),i=t.layout,r=i.names,o=n[r.x],a=o+n[r.width],s=t.getScrollPosition(),l=s+i.innerCt[r.getWidth]();return{hiddenStart:o<s,hiddenEnd:a>l,fullyVisible:o>s&&a<l}}}),Ext.define("Ext.util.Offset",{statics:{fromObject:function(e){return new this(e.x,e.y)}},constructor:function(e,t){return this.x=null==e||isNaN(e)?0:e,this.y=null==t||isNaN(t)?0:t,this},copy:function(){return new Ext.util.Offset(this.x,this.y)},copyFrom:function(e){this.x=e.x,this.y=e.y},toString:function(){return"Offset["+this.x+","+this.y+"]"},equals:function(e){return e instanceof this.statics()||Ext.Error.raise("Offset must be an instance of Ext.util.Offset"),this.x==e.x&&this.y==e.y},round:function(e){if(isNaN(e))this.x=Math.round(this.x),this.y=Math.round(this.y);else{var t=Math.pow(10,e);this.x=Math.round(this.x*t)/t,this.y=Math.round(this.y*t)/t}},isZero:function(){return 0==this.x&&0==this.y}}),Ext.define("Ext.util.Region",{statics:{getRegion:function(e){return Ext.fly(e).getRegion()},from:function(e){return new this(e.top,e.right,e.bottom,e.left)}},constructor:function(e,t,n,i){var r=this;r.y=r.top=r[1]=e,r.right=t,r.bottom=n,r.x=r.left=r[0]=i},contains:function(e){var t=this;return e.x>=t.x&&e.right<=t.right&&e.y>=t.y&&e.bottom<=t.bottom},intersect:function(e){var t=this,n=Math.max(t.y,e.y),i=Math.min(t.right,e.right),r=Math.min(t.bottom,e.bottom),o=Math.max(t.x,e.x);return r>n&&i>o&&new this.self(n,i,r,o)},union:function(e){var t=this,n=Math.min(t.y,e.y),i=Math.max(t.right,e.right),r=Math.max(t.bottom,e.bottom),o=Math.min(t.x,e.x);return new this.self(n,i,r,o)},constrainTo:function(e){var t=this,n=Ext.Number.constrain;return t.top=t.y=n(t.top,e.y,e.bottom),t.bottom=n(t.bottom,e.y,e.bottom),t.left=t.x=n(t.left,e.x,e.right),t.right=n(t.right,e.x,e.right),t},adjust:function(e,t,n,i){var r=this;return r.top=r.y+=e,r.left=r.x+=i,r.right+=t,r.bottom+=n,r},getOutOfBoundOffset:function(e,t){if(Ext.isObject(e)){t=e;var n=new Ext.util.Offset;return n.x=this.getOutOfBoundOffsetX(t.x),n.y=this.getOutOfBoundOffsetY(t.y),n}return"x"==e?this.getOutOfBoundOffsetX(t):this.getOutOfBoundOffsetY(t)},getOutOfBoundOffsetX:function(e){return e<=this.x?this.x-e:e>=this.right?this.right-e:0},getOutOfBoundOffsetY:function(e){return e<=this.y?this.y-e:e>=this.bottom?this.bottom-e:0},isOutOfBound:function(e,t){return Ext.isObject(e)?(t=e,this.isOutOfBoundX(t.x)||this.isOutOfBoundY(t.y)):"x"==e?this.isOutOfBoundX(t):this.isOutOfBoundY(t)},isOutOfBoundX:function(e){return e<this.x||e>this.right},isOutOfBoundY:function(e){return e<this.y||e>this.bottom},restrict:function(e,t,n){var i;return Ext.isObject(e)?(n=t,(i=(t=e).copy?t.copy():{x:t.x,y:t.y}).x=this.restrictX(t.x,n),i.y=this.restrictY(t.y,n),i):"x"==e?this.restrictX(t,n):this.restrictY(t,n)},restrictX:function(e,t){return t||(t=1),e<=this.x?e-=(e-this.x)*t:e>=this.right&&(e-=(e-this.right)*t),e},restrictY:function(e,t){return t||(t=1),e<=this.y?e-=(e-this.y)*t:e>=this.bottom&&(e-=(e-this.bottom)*t),e},getSize:function(){return{width:this.right-this.x,height:this.bottom-this.y}},copy:function(){return new this.self(this.y,this.right,this.bottom,this.x)},copyFrom:function(e){var t=this;return t.top=t.y=t[1]=e.y,t.right=e.right,t.bottom=e.bottom,t.left=t.x=t[0]=e.x,this},toString:function(){return"Region["+this.top+","+this.right+","+this.bottom+","+this.left+"]"},translateBy:function(e,t){1==arguments.length&&(t=e.y,e=e.x);var n=this;return n.top=n.y+=t,n.right+=e,n.bottom+=t,n.left=n.x+=e,n},round:function(){var e=this;return e.top=e.y=Math.round(e.y),e.right=Math.round(e.right),e.bottom=Math.round(e.bottom),e.left=e.x=Math.round(e.x),e},equals:function(e){return this.top==e.top&&this.right==e.right&&this.bottom==e.bottom&&this.left==e.left}}),Ext.define("Ext.dd.DragDropManager",{singleton:!0,alternateClassName:["Ext.dd.DragDropMgr","Ext.dd.DDM"],ids:{},handleIds:{},dragCurrent:null,dragOvers:{},deltaX:0,deltaY:0,preventDefault:!0,stopPropagation:!0,initialized:!1,locked:!1,init:function(){this.initialized=!0},POINT:0,INTERSECT:1,mode:0,notifyOccluded:!1,dragCls:Ext.baseCSSPrefix+"dd-drag-current",_execOnAll:function(e,t){var n,i,r;for(n in this.ids)for(i in this.ids[n])r=this.ids[n][i],this.isTypeOfDD(r)&&r[e].apply(r,t)},_onLoad:function(){this.init();var e=Ext.EventManager;e.on(document,"mouseup",this.handleMouseUp,this,!0),e.on(document,"mousemove",this.handleMouseMove,this,!0),e.on(window,"unload",this._onUnload,this,!0),e.on(window,"resize",this._onResize,this,!0)},_onResize:function(e){this._execOnAll("resetConstraints",[])},lock:function(){this.locked=!0},unlock:function(){this.locked=!1},isLocked:function(){return this.locked},locationCache:{},useCache:!0,clickPixelThresh:3,clickTimeThresh:350,dragThreshMet:!1,clickTimeout:null,startX:0,startY:0,regDragDrop:function(e,t){this.initialized||this.init(),this.ids[t]||(this.ids[t]={}),this.ids[t][e.id]=e},removeDDFromGroup:function(e,t){this.ids[t]||(this.ids[t]={});var n=this.ids[t];n&&n[e.id]&&delete n[e.id]},_remove:function(e){for(var t in e.groups)t&&this.ids[t]&&this.ids[t][e.id]&&delete this.ids[t][e.id];delete this.handleIds[e.id]},regHandle:function(e,t){this.handleIds[e]||(this.handleIds[e]={}),this.handleIds[e][t]=t},isDragDrop:function(e){return!!this.getDDById(e)},getRelated:function(e,t){var n,i,r,o=[];for(n in e.groups)for(i in this.ids[n])r=this.ids[n][i],this.isTypeOfDD(r)&&(t&&!r.isTarget||(o[o.length]=r));return o},isLegalTarget:function(e,t){var n,i,r=this.getRelated(e,!0);for(n=0,i=r.length;n<i;++n)if(r[n].id==t.id)return!0;return!1},isTypeOfDD:function(e){return e&&e.__ygDragDrop},isHandle:function(e,t){return this.handleIds[e]&&this.handleIds[e][t]},getDDById:function(e){var t,n;for(t in this.ids)if((n=this.ids[t][e])instanceof Ext.dd.DDTarget)return n;return null},handleMouseDown:function(e,t){var n,i=this;Ext.quickTipsActive&&Ext.tip.QuickTipManager.ddDisable(),i.dragCurrent&&i.handleMouseUp(e),i.currentTarget=e.getTarget(),i.dragCurrent=t,n=t.getEl(),Ext.isIE&&n.setCapture&&n.setCapture(),i.startX=e.getPageX(),i.startY=e.getPageY(),i.deltaX=i.startX-n.offsetLeft,i.deltaY=i.startY-n.offsetTop,i.dragThreshMet=!1,i.clickTimeout=setTimeout(function(){i.startDrag(i.startX,i.startY)},i.clickTimeThresh)},startDrag:function(e,t){var n,i=this,r=i.dragCurrent;clearTimeout(i.clickTimeout),r&&(r.b4StartDrag(e,t),r.startDrag(e,t),(n=r.getDragEl())&&Ext.fly(n).addCls(i.dragCls)),i.dragThreshMet=!0},handleMouseUp:function(e){var t=this;Ext.quickTipsActive&&Ext.tip.QuickTipManager.ddEnable(),t.dragCurrent&&(Ext.isIE&&document.releaseCapture&&document.releaseCapture(),clearTimeout(t.clickTimeout),t.dragThreshMet&&t.fireEvents(e,!0),t.stopDrag(e),t.stopEvent(e))},stopEvent:function(e){this.stopPropagation&&e.stopPropagation(),this.preventDefault&&e.preventDefault()},stopDrag:function(e){var t,n=this,i=n.dragCurrent;i&&(n.dragThreshMet&&((t=i.getDragEl())&&Ext.fly(t).removeCls(n.dragCls),i.b4EndDrag(e),i.endDrag(e)),n.dragCurrent.onMouseUp(e)),n.dragCurrent=null,n.dragOvers={}},handleMouseMove:function(e){var t,n,i=this,r=i.dragCurrent;return!r||(i.dragThreshMet||(t=Math.abs(i.startX-e.getPageX()),n=Math.abs(i.startY-e.getPageY()),(t>i.clickPixelThresh||n>i.clickPixelThresh)&&i.startDrag(i.startX,i.startY)),i.dragThreshMet&&(r.b4Drag(e),r.onDrag(e),r.moveOnly||i.fireEvents(e,!1)),i.stopEvent(e),!0)},fireEvents:function(e,t){var n,i,r,o,a,s,l,d,c,u=this,h=u.dragCurrent,f=e.getPoint(),p=[],g=[],m=[],x=[],y=[],E=[];if(h&&!h.isLocked()){for(l in u.notifyOccluded||Ext.supports.PointerEvents&&!Ext.isIE10m&&!Ext.isOpera||h.deltaX<0||h.deltaY<0||(i=(n=h.getDragEl()).style.top,n.style.top="-10000px",a=e.getXY(),e.target=document.elementFromPoint(a[0],a[1]),n.style.top=i),u.dragOvers)r=u.dragOvers[l],u.isTypeOfDD(r)&&(u.notifyOccluded?this.isOverTarget(f,r,u.mode)||m.push(r):e.within(r.getEl())||m.push(r),g[l]=!0,delete u.dragOvers[l]);for(c in h.groups)if("string"==typeof c)for(l in u.ids[c])if(r=u.ids[c][l],u.isTypeOfDD(r)&&(o=r.getEl())&&r.isTarget&&!r.isLocked()&&Ext.fly(o).isVisible(!0)&&(r!=h||!1===h.ignoreSelf))if(u.notifyOccluded)-1!==(r.zIndex=u.getZIndex(o))&&(s=!0),p.push(r);else if(e.within(r.getEl())){p.push(r);break}for(s&&Ext.Array.sort(p,u.byZIndex),l=0,d=p.length;l<d&&(r=p[l],!u.isOverTarget(f,r,u.mode)||(t?y.push(r):(g[r.id]?x.push(r):E.push(r),u.dragOvers[r.id]=r),u.notifyOccluded));l++);if(u.mode)m.length&&(h.b4DragOut(e,m),h.onDragOut(e,m)),E.length&&h.onDragEnter(e,E),x.length&&(h.b4DragOver(e,x),h.onDragOver(e,x)),y.length&&(h.b4DragDrop(e,y),h.onDragDrop(e,y));else{for(l=0,d=m.length;l<d;++l)h.b4DragOut(e,m[l].id),h.onDragOut(e,m[l].id);for(l=0,d=E.length;l<d;++l)h.onDragEnter(e,E[l].id);for(l=0,d=x.length;l<d;++l)h.b4DragOver(e,x[l].id),h.onDragOver(e,x[l].id);for(l=0,d=y.length;l<d;++l)h.b4DragDrop(e,y[l].id),h.onDragDrop(e,y[l].id)}t&&!y.length&&h.onInvalidDrop(e)}},getZIndex:function(e){var t,n=document.body,i=-1;for(e=Ext.getDom(e);e!==n;)isNaN(t=Number(Ext.fly(e).getStyle("zIndex")))||(i=t),e=e.parentNode;return i},byZIndex:function(e,t){return e.zIndex<t.zIndex},getBestMatch:function(e){var t,n,i=null,r=e.length;if(1==r)i=e[0];else for(t=0;t<r;++t){if((n=e[t]).cursorIsOver){i=n;break}(!i||i.overlap.getArea()<n.overlap.getArea())&&(i=n)}return i},refreshCache:function(e){var t,n,i,r;for(t in e)if("string"==typeof t)for(n in this.ids[t])i=this.ids[t][n],this.isTypeOfDD(i)&&((r=this.getLocation(i))?this.locationCache[i.id]=r:delete this.locationCache[i.id])},verifyEl:function(e){if(e){var t;if(Ext.isIE)try{t=e.offsetParent}catch(e){}else t=e.offsetParent;if(t)return!0}return!1},getLocation:function(e){if(!this.isTypeOfDD(e))return null;if(e.getRegion)return e.getRegion();var t,n,i,r,o,a,s,l,d,c=e.getEl();try{t=Ext.Element.getXY(c)}catch(e){}return t?(i=(n=t[0])+c.offsetWidth,o=(r=t[1])+c.offsetHeight,a=r-e.padding[0],s=i+e.padding[1],l=o+e.padding[2],d=n-e.padding[3],new Ext.util.Region(a,s,l,d)):null},isOverTarget:function(e,t,n){var i,r,o,a,s=this.locationCache[t.id];return s&&this.useCache||(s=this.getLocation(t),this.locationCache[t.id]=s),!!s&&(t.cursorIsOver=s.contains(e),(i=this.dragCurrent)&&i.getTargetCoord&&(n||i.constrainX||i.constrainY)?(t.overlap=null,r=i.getTargetCoord(e.x,e.y),o=i.getDragEl(),!!(a=new Ext.util.Region(r.y,r.x+o.offsetWidth,r.y+o.offsetHeight,r.x).intersect(s))&&(t.overlap=a,!!n||t.cursorIsOver)):t.cursorIsOver)},_onUnload:function(e,t){Ext.dd.DragDropManager.unregAll()},unregAll:function(){for(var e in this.dragCurrent&&(this.stopDrag(),this.dragCurrent=null),this._execOnAll("unreg",[]),this.elementCache)delete this.elementCache[e];this.elementCache={},this.ids={}},elementCache:{},getElWrapper:function(e){var t=this.elementCache[e];return t&&t.el||(t=this.elementCache[e]=new this.ElementWrapper(Ext.getDom(e))),t},getElement:function(e){return Ext.getDom(e)},getCss:function(e){var t=Ext.getDom(e);return t?t.style:null},ElementWrapper:function(e){this.el=e||null,this.id=this.el&&e.id,this.css=this.el&&e.style},getPosX:function(e){return Ext.Element.getX(e)},getPosY:function(e){return Ext.Element.getY(e)},swapNode:function(e,t){if(e.swapNode)e.swapNode(t);else{var n=t.parentNode,i=t.nextSibling;i==e?n.insertBefore(e,t):t==e.nextSibling?n.insertBefore(t,e):(e.parentNode.replaceChild(t,e),n.insertBefore(e,i))}},getScroll:function(){var e=window.document,t=e.documentElement,n=e.body,i=0,r=0;return Ext.isGecko4?(i=window.scrollYOffset,r=window.scrollXOffset):t&&(t.scrollTop||t.scrollLeft)?(i=t.scrollTop,r=t.scrollLeft):n&&(i=n.scrollTop,r=n.scrollLeft),{top:i,left:r}},getStyle:function(e,t){return Ext.fly(e).getStyle(t)},getScrollTop:function(){return this.getScroll().top},getScrollLeft:function(){return this.getScroll().left},moveToEl:function(e,t){var n=Ext.Element.getXY(t);Ext.Element.setXY(e,n)},numericSort:function(e,t){return e-t},_timeoutCount:0,_addListeners:function(){document?this._onLoad():this._timeoutCount<=2e3&&(setTimeout(this._addListeners,10),document&&document.body&&(this._timeoutCount+=1))},handleWasClicked:function(e,t){if(this.isHandle(t,e.id))return!0;for(var n=e.parentNode;n;){if(this.isHandle(t,n.id))return!0;n=n.parentNode}return!1}},function(){this._addListeners()}),Ext.define("Ext.layout.container.Box",{alias:["layout.box"],extend:Ext.layout.container.Container,alternateClassName:"Ext.layout.BoxLayout",defaultMargins:{top:0,right:0,bottom:0,left:0},padding:0,pack:"start",flex:void 0,stretchMaxPartner:void 0,alignRoundingMethod:"round",type:"box",scrollOffset:0,itemCls:Ext.baseCSSPrefix+"box-item",targetCls:Ext.baseCSSPrefix+"box-layout-ct",targetElCls:Ext.baseCSSPrefix+"box-target",innerCls:Ext.baseCSSPrefix+"box-inner",availableSpaceOffset:0,reserveOffset:!0,manageMargins:!0,createsInnerCt:!0,childEls:["innerCt","targetEl"],renderTpl:["{%var oc,l=values.$comp.layout,oh=l.overflowHandler;","if (oh.getPrefixConfig!==Ext.emptyFn) {","if(oc=oh.getPrefixConfig())dh.generateMarkup(oc, out)","}%}",'<div id="{ownerId}-innerCt" class="{[l.innerCls]} {[oh.getOverflowCls()]}" role="presentation">','<div id="{ownerId}-targetEl" class="{targetElCls}">',"{%this.renderBody(out, values)%}","</div>","</div>","{%if (oh.getSuffixConfig!==Ext.emptyFn) {","if(oc=oh.getSuffixConfig())dh.generateMarkup(oc, out)","}%}",{disableFormats:!0,definitions:"var dh=Ext.DomHelper;"}],constructor:function(e){var t,n=this;n.callParent(arguments),n.flexSortFn=Ext.Function.bind(n.flexSort,n),n.initOverflowHandler(),"string"!=(t=typeof n.padding)&&"number"!=t||(n.padding=Ext.util.Format.parseBox(n.padding),n.padding.height=n.padding.top+n.padding.bottom,n.padding.width=n.padding.left+n.padding.right)},_percentageRe:/^\s*(\d+(?:\.\d*)?)\s*[%]\s*$/,getItemSizePolicy:function(e,t){var n=this,i=n.sizePolicy,r=n.align,o=e.flex,a=r,s=n.names,l=e[s.width],d=e[s.height],c=n._percentageRe,u=c.test(l),h="stretch"==r,f="stretchmax"==r,p=n.constrainAlign;return!t&&(h||o||u||p&&!f)&&(t=n.owner.getSizeModel()),h?!c.test(d)&&t[s.height].shrinkWrap&&(a="stretchmax"):f||(a=c.test(d)?"stretch":p&&!t[s.height].shrinkWrap?"stretchmax":""),(o||u)&&(t[s.width].shrinkWrap||(i=i.flex)),i[a]},flexSort:function(e,t){var n,i,r,o,a,s,l=this.names.maxWidth,d=this.names.minWidth,c=e.target,u=t.target,h=0;return r=c[l]||1/0,o=u[l]||1/0,n=c[d]||0,i=u[d]||0,a=isFinite(n)||isFinite(i),s=isFinite(r)||isFinite(o),(a||s)&&(s&&(h=r-o),0===h&&a&&(h=i-n)),h},isItemBoxParent:function(e){return!0},isItemShrinkWrap:function(e){return!0},roundFlex:function(e){return Math.ceil(e)},beginCollapse:function(e){"vertical"===this.direction&&e.collapsedVertical()?(e.collapseMemento.capture(["flex"]),delete e.flex):"horizontal"===this.direction&&e.collapsedHorizontal()&&(e.collapseMemento.capture(["flex"]),delete e.flex)},beginExpand:function(e){e.collapseMemento.restore(["flex"])},beginLayout:function(e){var t=this,n=t.owner,i=n.stretchMaxPartner,r=t.innerCt.dom.style,o=t.names;e.boxNames=o,t.overflowHandler.beginLayout(e),"string"==typeof i&&(i=Ext.getCmp(i)||n.query(i)[0]),e.stretchMaxPartner=i&&e.context.getCmp(i),t.callParent(arguments),e.innerCtContext=e.getEl("innerCt",t),t.scrollParallel=n.scrollFlags[o.x],t.scrollPerpendicular=n.scrollFlags[o.y],t.scrollParallel&&(t.scrollPos=n.getTargetEl().dom[o.scrollLeft]),r.width="",r.height=""},beginLayoutCycle:function(e,t){var n=this,i=n.align,r=e.boxNames,o=n.pack,a=r.heightModel;n.overflowHandler.beginLayoutCycle(e,t),n.callParent(arguments),e.parallelSizeModel=e[r.widthModel],e.perpendicularSizeModel=e[a],e.boxOptions={align:i={stretch:"stretch"==i,stretchmax:"stretchmax"==i,center:i==r.center,bottom:i==r.afterY},pack:o={center:"center"==o,end:"end"==o}},i.stretch&&e.perpendicularSizeModel.shrinkWrap&&(i.stretchmax=!0,i.stretch=!1),i.nostretch=!(i.stretch||i.stretchmax),e.parallelSizeModel.shrinkWrap&&(o.center=o.end=!1),n.cacheFlexes(e),n.targetEl.setWidth(2e4)},cacheFlexes:function(e){for(var t,n,i,r,o=e.boxNames,a=o.widthModel,s=o.heightModel,l=e.boxOptions.align.nostretch,d=0,c=e.childItems,u=c.length,h=[],f=0,p=o.minWidth,g=this._percentageRe,m=0,x=0;u--;)t=(n=c[u]).target,n[a].calculated&&(n.flex=i=t.flex,i?(d+=i,h.push(n),f+=t[p]||0):(r=g.exec(t[o.width]),n.percentageParallel=parseFloat(r[1])/100,++m)),l&&n[s].calculated&&(r=g.exec(t[o.height]),n.percentagePerpendicular=parseFloat(r[1])/100,++x);e.flexedItems=h,e.flexedMinSize=f,e.totalFlex=d,e.percentageWidths=m,e.percentageHeights=x,Ext.Array.sort(h,this.flexSortFn)},calculate:function(e){var t=this,n=t.getContainerSize(e),i=e.boxNames,r=e.state,o=r.boxPlan||(r.boxPlan={}),a=e.targetContext;o.targetSize=n,e.parallelSizeModel.shrinkWrap||n[i.gotWidth]?(r.parallelDone||(r.parallelDone=t.calculateParallel(e,i,o)),r.perpendicularDone||(r.perpendicularDone=t.calculatePerpendicular(e,i,o)),r.parallelDone&&r.perpendicularDone?(!t.owner.dock||!Ext.isIE7m&&!Ext.isIEQuirks||t.owner.width||t.horizontal||(o.isIEVerticalDock=!0,o.calculatedWidth=o.maxSize+e.getPaddingInfo().width+e.getFrameInfo().width,a!==e&&(o.calculatedWidth+=a.getPaddingInfo().width)),t.publishInnerCtSize(e,t.reserveOffset?t.availableSpaceOffset:0),t.done&&(e.childItems.length>1||e.stretchMaxPartner)&&e.boxOptions.align.stretchmax&&!r.stretchMaxDone&&(t.calculateStretchMax(e,i,o),r.stretchMaxDone=!0),t.overflowHandler.calculate(e)):t.done=!1):t.done=!1},calculateParallel:function(e,t,n){var i,r,o,a,s,l,d,c,u,h,f,p=this,g=t.width,m=e.childItems,x=t.beforeX,y=t.afterX,E=t.setWidth,v=m.length,b=e.flexedItems,C=b.length,w=e.boxOptions.pack,S=p.padding,I=n.targetSize[g],M=0,P=S[x],T=P+S[y]+p.scrollOffset+(p.reserveOffset?p.availableSpaceOffset:0),k=Ext.getScrollbarSize()[t.width];if(k&&p.scrollPerpendicular&&e.parallelSizeModel.shrinkWrap&&!e.boxOptions.align.stretch&&!e.perpendicularSizeModel.shrinkWrap){if(!e.state.perpendicularDone)return!1;u=!0}for(i=0;i<v;++i)if(M+=(r=(s=m[i]).marginInfo||s.getMarginInfo())[g],!s[t.widthModel].calculated&&(T+=h=s.getProp(g),isNaN(T)))return!1;if(T+=M,e.percentageWidths){if(f=I-M,isNaN(f))return!1;for(i=0;i<v;++i)(s=m[i]).percentageParallel&&(h=Math.ceil(f*s.percentageParallel),T+=h=s.setWidth(h))}if(e.parallelSizeModel.shrinkWrap)n.availableSpace=0,n.tooNarrow=!1;else if(n.availableSpace=I-T,n.tooNarrow=n.availableSpace<e.flexedMinSize,n.tooNarrow&&Ext.getScrollbarSize()[t.height]&&p.scrollParallel&&e.state.perpendicularDone)for(e.state.perpendicularDone=!1,i=0;i<v;++i)m[i].invalidate();for(c=T,o=n.availableSpace,a=e.totalFlex,i=0;i<C;i++)l=(s=b[i]).flex,d=p.roundFlex(l/a*o),c+=d=s[E](d),o=Math.max(0,o-d),a-=l;for(w.center?(P+=o/2)<0&&(P=0):w.end&&(P+=o),i=0;i<v;++i)P+=(r=(s=m[i]).marginInfo)[x],s.setProp(t.x,P),P+=r[y]+s.props[g];return c+=e.targetContext.getPaddingInfo()[g],e.state.contentWidth=c,u&&e.peek(t.contentHeight)>n.targetSize[t.height]&&(c+=k,e[t.hasOverflowY]=!0,e.target.componentLayout[t.setWidthInDom]=!0,e[t.invalidateScrollY]=Ext.isStrict&&Ext.isIE8),e[t.setContentWidth](c),!0},calculatePerpendicular:function(e,t,n){var i,r,o,a,s,l,d,c,u,h,f,p=this,g=e.perpendicularSizeModel.shrinkWrap,m=n.targetSize,x=e.childItems,y=x.length,E=Math.max,v=t.height,b=t.setHeight,C=t.beforeY,w=t.y,S=p.padding,I=S[C],M=m[v]-I-S[t.afterY],P=e.boxOptions.align,T=P.stretch,k=P.stretchmax,D=P.center,A=P.bottom,F=p.constrainAlign,L=0,O=0,R=p.onBeforeConstrainInvalidateChild,N=p.onAfterConstrainInvalidateChild,B=Ext.getScrollbarSize().height;if((T||(D||A)&&!g)&&isNaN(M))return!1;if(p.scrollParallel&&n.tooNarrow&&(g?h=!0:(M-=B,n.targetSize[v]-=B)),T)l=M;else{for(r=0;r<y;r++){if(a=((d=x[r]).marginInfo||d.getMarginInfo())[v],f=d.percentagePerpendicular){if(++O,g)continue;o=f*M-a,o=d[t.setHeight](o)}else o=d.getProp(v);if(!g&&F&&d[t.heightModel].shrinkWrap&&o>M&&(d.invalidate({before:R,after:N,layout:p,childHeight:M,names:t}),e.state.parallelDone=!1),isNaN(L=E(L,o+a,d.target[t.minHeight]||0)))return!1}if(h&&(L+=B,e[t.hasOverflowX]=!0,e.target.componentLayout[t.setHeightInDom]=!0,e[t.invalidateScrollX]=Ext.isStrict&&Ext.isIE8),(c=e.stretchMaxPartner)&&(e.setProp("maxChildHeight",L),(u=c.childItems)&&u.length&&(L=E(L,c.getProp("maxChildHeight")),isNaN(L))))return!1;e[t.setContentHeight](L+p.padding[v]+e.targetContext.getPaddingInfo()[v]),h&&(L-=B),n.maxSize=L,k?l=L:(D||A||O)&&(l=F?g?L:M:g?L:E(M,L),l-=e.innerCtContext.getBorderInfo()[v])}for(r=0;r<y;r++)i=I+(a=(d=x[r]).marginInfo||d.getMarginInfo())[C],T?d[b](l-a[v]):(f=d.percentagePerpendicular,g&&f&&(o=f*l-(a=d.marginInfo||d.getMarginInfo())[v],o=d.setHeight(o)),D?(s=l-d.props[v])>0&&(i=I+Math[p.alignRoundingMethod](s/2)):A&&(i=E(0,l-i-d.props[v]))),d.setProp(w,i);return!0},onBeforeConstrainInvalidateChild:function(e,t){var n=t.names.heightModel;e[n].constrainedMin||(e[n]=Ext.layout.SizeModel.calculated)},onAfterConstrainInvalidateChild:function(e,t){var n=t.names;e.setProp(n.beforeY,0),e[n.heightModel].calculated&&e[n.setHeight](t.childHeight)},calculateStretchMax:function(e,t,n){var i,r,o,a,s=this,l=t.height,d=t.width,c=e.childItems,u=c.length,h=n.maxSize,f=s.onBeforeStretchMaxInvalidateChild,p=s.onAfterStretchMaxInvalidateChild;for(o=0;o<u;++o)r=(i=c[o]).props,((a=h-i.getMarginInfo()[l])!=r[l]||i[t.heightModel].constrained)&&i.invalidate({before:f,after:p,layout:s,childWidth:r[d],childHeight:a,childX:r.x,childY:r.y,names:t})},onBeforeStretchMaxInvalidateChild:function(e,t){var n=t.names.heightModel;e[n].constrainedMax||(e[n]=Ext.layout.SizeModel.calculated)},onAfterStretchMaxInvalidateChild:function(e,t){var n=t.names,i=t.childHeight,r=t.childWidth;e.setProp("x",t.childX),e.setProp("y",t.childY),e[n.heightModel].calculated&&e[n.setHeight](i),e[n.widthModel].calculated&&e[n.setWidth](r)},completeLayout:function(e){var t,n,i,r,o,a=this,s=e.boxNames,l=e.invalidateScrollX,d=e.invalidateScrollY;a.overflowHandler.completeLayout(e),(l||d)&&(o=(t=(n=a.getTarget()).dom).style,l&&("auto"==(i=n.getStyle("overflowX"))?(i=o.overflowX,o.overflowX="scroll"):l=!1),d&&("auto"==(r=n.getStyle("overflowY"))?(r=o.overflowY,o.overflowY="scroll"):d=!1),(l||d)&&(t.scrollWidth,l&&(o.overflowX=i),d&&(o.overflowY=r))),a.scrollParallel&&(a.owner.getTargetEl().dom[s.scrollLeft]=a.scrollPos)},finishedLayout:function(e){this.overflowHandler.finishedLayout(e),this.callParent(arguments),this.targetEl.setWidth(e.innerCtContext.props.width)},publishInnerCtSize:function(e,t){var n,i=this,r=e.boxNames,o=r.height,a=r.width,s=e.boxOptions.align,l=i.owner.dock,d=i.padding,c=e.state.boxPlan,u=c.targetSize,h=u[o],f=e.innerCtContext,p=(e.parallelSizeModel.shrinkWrap||c.tooNarrow&&i.scrollParallel?e.state.contentWidth-e.targetContext.getPaddingInfo()[a]:u[a])-(t||0);s.stretch?n=h:(n=c.maxSize+d[r.beforeY]+d[r.afterY]+f.getBorderInfo()[o],e.perpendicularSizeModel.shrinkWrap||!s.center&&!s.bottom||(n=Math.max(h,n))),f[r.setWidth](p),f[r.setHeight](n),isNaN(p+n)&&(i.done=!1),!c.calculatedWidth||"left"!=l&&"right"!=l||e.setWidth(c.calculatedWidth,!0,!0)},onRemove:function(e){var t=this;t.callParent(arguments),t.overflowHandler&&t.overflowHandler.onRemove(e),e.layoutMarginCap==t.id&&delete e.layoutMarginCap},initOverflowHandler:function(){var e,t,n=this,i=n.overflowHandler;"string"==typeof i&&(i={type:i}),e="None",i&&void 0!==i.type&&(e=i.type),(t=Ext.layout.container.boxOverflow[e])[n.type]&&(t=t[n.type]),n.overflowHandler=Ext.create("Ext.layout.container.boxOverflow."+e,n,i)},getRenderTarget:function(){return this.targetEl},getElementTarget:function(){return this.innerCt},calculateChildBox:Ext.deprecated(),calculateChildBoxes:Ext.deprecated(),updateChildBoxes:Ext.deprecated(),destroy:function(){Ext.destroy(this.innerCt,this.overflowHandler),this.callParent(arguments)},getRenderData:function(){var e=this.callParent();return e.targetElCls=this.targetElCls,e}}),Ext.define("Ext.layout.container.HBox",{alias:["layout.hbox"],extend:Ext.layout.container.Box,alternateClassName:"Ext.layout.HBoxLayout",align:"top",constrainAlign:!1,type:"hbox",direction:"horizontal",horizontal:!0,names:{beforeX:"left",leftCap:"Left",afterX:"right",width:"width",contentWidth:"contentWidth",minWidth:"minWidth",maxWidth:"maxWidth",widthCap:"Width",widthModel:"widthModel",widthIndex:0,x:"x",scrollLeft:"scrollLeft",overflowX:"overflowX",hasOverflowX:"hasOverflowX",invalidateScrollX:"invalidateScrollX",parallelMargins:"lr",center:"middle",beforeY:"top",afterY:"bottom",height:"height",contentHeight:"contentHeight",minHeight:"minHeight",maxHeight:"maxHeight",heightCap:"Height",heightModel:"heightModel",heightIndex:1,y:"y",scrollTop:"scrollTop",overflowY:"overflowY",hasOverflowY:"hasOverflowY",invalidateScrollY:"invalidateScrollY",perpendicularMargins:"tb",getWidth:"getWidth",getHeight:"getHeight",setWidth:"setWidth",setHeight:"setHeight",gotWidth:"gotWidth",gotHeight:"gotHeight",setContentWidth:"setContentWidth",setContentHeight:"setContentHeight",setWidthInDom:"setWidthInDom",setHeightInDom:"setHeightInDom"},sizePolicy:{flex:{"":{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},stretch:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1},stretchmax:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:1}},"":{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},stretch:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},stretchmax:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:1}}}),Ext.define("Ext.layout.container.VBox",{alias:["layout.vbox"],extend:Ext.layout.container.Box,alternateClassName:"Ext.layout.VBoxLayout",align:"left",constrainAlign:!1,type:"vbox",direction:"vertical",horizontal:!1,names:{beforeX:"top",leftCap:"Top",afterX:"bottom",width:"height",contentWidth:"contentHeight",minWidth:"minHeight",maxWidth:"maxHeight",widthCap:"Height",widthModel:"heightModel",widthIndex:1,x:"y",scrollLeft:"scrollTop",overflowX:"overflowY",hasOverflowX:"hasOverflowY",invalidateScrollX:"invalidateScrollY",parallelMargins:"tb",center:"center",beforeY:"left",afterY:"right",height:"width",contentHeight:"contentWidth",minHeight:"minWidth",maxHeight:"maxWidth",heightCap:"Width",heightModel:"widthModel",heightIndex:0,y:"x",scrollTop:"scrollLeft",overflowY:"overflowX",hasOverflowY:"hasOverflowX",invalidateScrollY:"invalidateScrollX",perpendicularMargins:"lr",getWidth:"getHeight",getHeight:"getWidth",setWidth:"setHeight",setHeight:"setWidth",gotWidth:"gotHeight",gotHeight:"gotWidth",setContentWidth:"setContentHeight",setContentHeight:"setContentWidth",setWidthInDom:"setHeightInDom",setHeightInDom:"setWidthInDom"},sizePolicy:{flex:{"":{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},stretch:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1},stretchmax:{readsWidth:1,readsHeight:0,setsWidth:1,setsHeight:1}},"":{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},stretch:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},stretchmax:{readsWidth:1,readsHeight:1,setsWidth:1,setsHeight:0}}}),Ext.define("Ext.toolbar.Toolbar",{extend:Ext.container.Container,alias:"widget.toolbar",alternateClassName:"Ext.Toolbar",isToolbar:!0,baseCls:Ext.baseCSSPrefix+"toolbar",ariaRole:"toolbar",defaultType:"button",vertical:!1,enableOverflow:!1,menuTriggerCls:Ext.baseCSSPrefix+"toolbar-more-icon",trackMenus:!0,itemCls:Ext.baseCSSPrefix+"toolbar-item",statics:{shortcuts:{"-":"tbseparator"," ":"tbspacer"},shortcutsHV:{0:{"->":{xtype:"tbfill",height:0}},1:{"->":{xtype:"tbfill",width:0}}}},initComponent:function(){var e=this;!e.layout&&e.enableOverflow&&(e.layout={overflowHandler:"Menu"}),"right"!==e.dock&&"left"!==e.dock||(e.vertical=!0),e.layout=Ext.applyIf(Ext.isString(e.layout)?{type:e.layout}:e.layout||{},{type:e.vertical?"vbox":"hbox",align:e.vertical?"stretchmax":"middle"}),e.vertical&&e.addClsWithUI("vertical"),"footer"===e.ui&&(e.ignoreBorderManagement=!0),e.callParent(),e.addEvents("overflowchange")},getRefItems:function(e){var t,n=this,i=n.callParent(arguments),r=n.layout;return e&&n.enableOverflow&&(t=r.overflowHandler)&&t.menu&&(i=i.concat(t.menu.getRefItems(e))),i},lookupComponent:function(e){var t=arguments;if("string"==typeof e){var n=Ext.toolbar.Toolbar,i=n.shortcutsHV[this.vertical?1:0][e]||n.shortcuts[e];e="string"==typeof i?{xtype:i}:i?Ext.apply({},i):{xtype:"tbtext",text:e},this.applyDefaults(e),t=[e]}return this.callParent(t)},applyDefaults:function(e){return Ext.isString(e)||(e=this.callParent(arguments)),e},trackMenu:function(e,t){if(this.trackMenus&&e.menu){var n=t?"mun":"mon",i=this;i[n](e,"mouseover",i.onButtonOver,i),i[n](e,"menushow",i.onButtonMenuShow,i),i[n](e,"menuhide",i.onButtonMenuHide,i)}},onBeforeAdd:function(e){var t=this,n=e.isButton;n&&t.defaultButtonUI&&"default"===e.ui&&!e.hasOwnProperty("ui")?e.ui=t.defaultButtonUI:(n||e.isFormField)&&"footer"!==t.ui&&(e.ui=e.ui+"-toolbar"),e instanceof Ext.toolbar.Separator&&e.setUI(t.vertical?"vertical":"horizontal"),t.callParent(arguments)},onAdd:function(e){this.callParent(arguments),this.trackMenu(e)},onRemove:function(e){this.callParent(arguments),this.trackMenu(e,!0)},getChildItemsToDisable:function(){return this.items.getRange()},onButtonOver:function(e){this.activeMenuBtn&&this.activeMenuBtn!=e&&(this.activeMenuBtn.hideMenu(),e.showMenu(),this.activeMenuBtn=e)},onButtonMenuShow:function(e){this.activeMenuBtn=e},onButtonMenuHide:function(e){delete this.activeMenuBtn}}),Ext.define("Ext.layout.component.Dock",{extend:Ext.layout.component.Component,alias:"layout.dock",alternateClassName:"Ext.layout.component.AbstractDock",type:"dock",horzAxisProps:{name:"horz",oppositeName:"vert",dockBegin:"left",dockEnd:"right",horizontal:!0,marginBegin:"margin-left",maxSize:"maxWidth",minSize:"minWidth",pos:"x",setSize:"setWidth",shrinkWrapDock:"shrinkWrapDockWidth",size:"width",sizeModel:"widthModel"},vertAxisProps:{name:"vert",oppositeName:"horz",dockBegin:"top",dockEnd:"bottom",horizontal:!1,marginBegin:"margin-top",maxSize:"maxHeight",minSize:"minHeight",pos:"y",setSize:"setHeight",shrinkWrapDock:"shrinkWrapDockHeight",size:"height",sizeModel:"heightModel"},initializedBorders:-1,horizontalCollapsePolicy:{width:!0,x:!0},verticalCollapsePolicy:{height:!0,y:!0},finishRender:function(){var e,t,n=this;n.callParent(),e=n.getRenderTarget(),t=n.getDockedItems(),n.finishRenderItems(e,t)},isItemBoxParent:function(e){return!0},isItemShrinkWrap:function(e){return!0},noBorderClasses:[Ext.baseCSSPrefix+"docked-noborder-top",Ext.baseCSSPrefix+"docked-noborder-right",Ext.baseCSSPrefix+"docked-noborder-bottom",Ext.baseCSSPrefix+"docked-noborder-left"],noBorderClassesSides:{top:Ext.baseCSSPrefix+"docked-noborder-top",right:Ext.baseCSSPrefix+"docked-noborder-right",bottom:Ext.baseCSSPrefix+"docked-noborder-bottom",left:Ext.baseCSSPrefix+"docked-noborder-left"},borderWidthProps:{top:"border-top-width",right:"border-right-width",bottom:"border-bottom-width",left:"border-left-width"},handleItemBorders:function(){var e,t,n,i,r,o,a,s=this,l=s.owner,d=s.lastDockedItems,c=s.borders,u=l.dockedItems.generation,h=s.noBorderClassesSides,f=s.borderWidthProps,p=s.collapsed;if(s.initializedBorders!=u&&(!l.border||l.manageBodyBorders)){for(s.initializedBorders=u,s.collapsed=!1,s.lastDockedItems=t=s.getLayoutItems(),s.collapsed=p,e={top:[],right:[],bottom:[],left:[]},n=0,i=t.length;n<i;n++)o=(r=t[n]).dock,r.ignoreBorderManagement||(e[o].satisfied||(e[o].push(r),e[o].satisfied=!0),e.top.satisfied||"bottom"===o||e.top.push(r),e.right.satisfied||"left"===o||e.right.push(r),e.bottom.satisfied||"top"===o||e.bottom.push(r),e.left.satisfied||"right"===o||e.left.push(r));if(d)for(n=0,i=d.length;n<i;n++)(r=d[n]).isDestroyed||r.ignoreBorderManagement||l.manageBodyBorders||r.removeCls(s.noBorderClasses);if(c)for(a in c)l.manageBodyBorders&&c[a].satisfied&&l.setBodyStyle(f[a],"");for(a in e)if(i=e[a].length,l.manageBodyBorders)e[a].satisfied&&l.setBodyStyle(f[a],"1px");else{for(n=0;n<i;n++)e[a][n].addCls(h[a]);(e[a].satisfied||l.bodyBorder)&&!1!==l.bodyBorder||l.addBodyCls(h[a])}s.borders=e}},beforeLayoutCycle:function(e){var t,n,i=this.owner,r=this.sizeModels.shrinkWrap,o=i.shrinkWrapDock;i.collapsed&&(i.collapsedVertical()?(n=!0,e.measureDimensions=1):(t=!0,e.measureDimensions=2)),e.collapsedVert=n,e.collapsedHorz=t,n?e.heightModel=r:t&&(e.widthModel=r),o=!0===o?3:o||0,e.shrinkWrapDockHeight=1&o&&e.heightModel.shrinkWrap,e.shrinkWrapDockWidth=2&o&&e.widthModel.shrinkWrap},beginLayout:function(e){var t,n,i,r,o,a,s,l=this,d=l.owner,c=l.getLayoutItems(),u=e.context,h=c.length;for(l.callParent(arguments),(a=d.getCollapsed())!==l.lastCollapsedState&&Ext.isDefined(l.lastCollapsedState)&&(l.owner.collapsed?(e.isCollapsingOrExpanding=1,d.addClsWithUI(d.collapsedCls)):(e.isCollapsingOrExpanding=2,d.removeClsWithUI(d.collapsedCls),e.lastCollapsedState=l.lastCollapsedState)),l.lastCollapsedState=a,e.dockedItems=t=[],n=0;n<h;n++)(i=c[n]).rendered&&(s=i.dock,(r=u.getCmp(i)).dockedAt={x:0,y:0},r.offsets=o=Ext.Element.parseBox(i.offsets||0),r.horizontal="top"==s||"bottom"==s,o.width=o.left+o.right,o.height=o.top+o.bottom,t.push(r));e.bodyContext=e.getEl("body")},beginLayoutCycle:function(e){var t,n,i,r=this,o=e.dockedItems,a=o.length,s=r.owner,l=s.frameBody,d=r.lastHeightModel;for(r.callParent(arguments),r.owner.manageHeight?r.lastBodyDisplay&&(s.body.dom.style.display=r.lastBodyDisplay=""):("inline-block"!==r.lastBodyDisplay&&(s.body.dom.style.display=r.lastBodyDisplay="inline-block"),d&&d.shrinkWrap&&!e.heightModel.shrinkWrap&&(s.body.dom.style.marginBottom="")),e.widthModel.auto&&(e.widthModel.shrinkWrap&&s.el.setWidth(null),s.body.setWidth(null),l&&l.setWidth(null)),e.heightModel.auto&&(s.body.setHeight(null),l&&l.setHeight(null)),e.collapsedVert?e.setContentHeight(0):e.collapsedHorz&&e.setContentWidth(0),t=0;t<a;t++)if("right"==(i=(n=o[t].target).dock))n.setLocalX(0);else if("left"!=i)continue},calculate:function(e){var t,n,i,r,o,a=this,s=a.measureAutoDimensions(e,e.measureDimensions),l=e.state,d=l.horzDone,c=l.vertDone,u=e.bodyContext;for(e.borderInfo||e.getBorderInfo(),e.paddingInfo||e.getPaddingInfo(),e.frameInfo||e.getFrameInfo(),u.borderInfo||u.getBorderInfo(),u.paddingInfo||u.getPaddingInfo(),e.frameBorder||((t=e.framing)?(e.frameBorder=t.border,e.framePadding=t.padding):(e.frameBorder=e.borderInfo,e.framePadding=e.paddingInfo)),n=!d&&a.createAxis(e,s.contentWidth,e.widthModel,a.horzAxisProps,e.collapsedHorz),i=!c&&a.createAxis(e,s.contentHeight,e.heightModel,a.vertAxisProps,e.collapsedVert),r=0,o=e.dockedItems.length;o--;++r)n&&a.dockChild(e,n,o,r),i&&a.dockChild(e,i,o,r);n&&a.finishAxis(e,n)&&(l.horzDone=d=n),i&&a.finishAxis(e,i)&&(l.vertDone=c=i),d&&c&&a.finishConstraints(e,d,c)?a.finishPositions(e,d,c):a.done=!1},createAxis:function(e,t,n,i,r){var o,a,s,l=0,d=this.owner,c=d[i.maxSize],u=d[i.minSize]||0,h=i.dockBegin,f=i.dockEnd,p=i.pos,g=i.size,m=null!=c;return n.shrinkWrap?s=r?0:t+e.bodyContext.borderInfo[g]:(o=e.frameBorder,a=e.framePadding,l=o[h]+a[h],s=e.getProp(g)-(o[f]+a[f])),{shrinkWrap:n.shrinkWrap,sizeModel:n,initialBegin:l,begin:l,end:s,collapsed:r,horizontal:i.horizontal,ignoreFrameBegin:null,ignoreFrameEnd:null,initialSize:s-l,maxChildSize:0,hasMinMaxConstraints:(u||m)&&n.shrinkWrap,minSize:u,maxSize:m?c:1e9,bodyPosProp:this.owner.manageHeight?p:i.marginBegin,dockBegin:h,dockEnd:f,posProp:p,sizeProp:g,setSize:i.setSize,shrinkWrapDock:e[i.shrinkWrapDock],sizeModelName:i.sizeModel,dockedPixelsEnd:0}},dockChild:function(e,t,n,i){var r,o,a=this,s=e.dockedItems[t.shrinkWrap?n:i],l=s.target,d=l.dock,c=t.sizeProp;l.ignoreParentFrame&&e.isCollapsingOrExpanding&&s.clearMarginCache(),s.marginInfo||s.getMarginInfo(),d==t.dockBegin?r=t.shrinkWrap?a.dockOutwardBegin(e,s,l,t):a.dockInwardBegin(e,s,l,t):d==t.dockEnd?r=t.shrinkWrap?a.dockOutwardEnd(e,s,l,t):a.dockInwardEnd(e,s,l,t):t.shrinkWrapDock?(o=s.getProp(c)+s.marginInfo[c],t.maxChildSize=Math.max(t.maxChildSize,o),r=0):r=a.dockStretch(e,s,l,t),s.dockedAt[t.posProp]=r},dockInwardBegin:function(e,t,n,i){var r,o,a,s=i.begin,l=i.sizeProp,d=n.ignoreParentFrame;return d&&(i.ignoreFrameBegin=t,a=n.dock,s-=(r=e.frameBorder[a])+e.framePadding[a]),n.overlay||(o=t.getProp(l)+t.marginInfo[l],i.begin+=o,d&&(i.begin-=r)),s},dockInwardEnd:function(e,t,n,i){var r,o=i.sizeProp,a=t.getProp(o)+t.marginInfo[o],s=i.end-a;return n.overlay||(i.end=s),n.ignoreParentFrame&&(i.ignoreFrameEnd=t,s+=(r=e.frameBorder[n.dock])+e.framePadding[n.dock],i.end+=r),s},dockOutwardBegin:function(e,t,n,i){var r=i.begin,o=i.sizeProp;return i.collapsed?i.ignoreFrameBegin=i.ignoreFrameEnd=t:n.ignoreParentFrame&&(i.ignoreFrameBegin=t),n.overlay||(r-=t.getProp(o)+t.marginInfo[o],i.begin=r),r},dockOutwardEnd:function(e,t,n,i){var r,o=i.end,a=i.sizeProp;return r=t.getProp(a)+t.marginInfo[a],i.collapsed?i.ignoreFrameBegin=i.ignoreFrameEnd=t:n.ignoreParentFrame&&(i.ignoreFrameEnd=t),n.overlay||(i.end=o+r,i.dockedPixelsEnd+=r),o},dockStretch:function(e,t,n,i){var r,o=n.dock,a=i.sizeProp,s="top"==o||"bottom"==o,l=e.frameBorder,d=t.offsets,c=e.framePadding,u=s?"right":"bottom",h=s?"left":"top",f=i.begin+d[h];return!1!==n.stretch&&(r=i.end-f-d[u],n.ignoreParentFrame&&(f-=c[h]+l[h],r+=c[a]+l[a]),r-=t.marginInfo[a],t[i.setSize](r)),f},finishAxis:function(e,t){if(isNaN(t.maxChildSize))return!1;var n,i,r,o,a=t.begin,s=t.end-a,l=t.collapsed,d=t.setSize,c=t.dockBegin,u=t.dockEnd,h=e.framePadding,f=e.frameBorder,p=f[c],g=e.framing,m=g&&g[c],x=l?0:h[c],y=t.sizeProp,E=t.ignoreFrameBegin,v=t.ignoreFrameEnd,b=e.bodyContext,C=Math.max(p+x-m,0);return t.shrinkWrap?(i=t.initialSize,g?n=(r=-a+p+x)-m-C:r=(n=-a)+x,l||(s+=h[y]),E?(r-=p,n-=p,E.dockedAt[t.posProp]-=x):s+=p,l||(v?v.dockedAt[t.posProp]+=h[u]:s+=f[u]),t.size=s,t.horizontal||this.owner.manageHeight||(o=!1)):(g?(r=0,n=a-m-C):(r=-p,n=a-x-p),i=s),t.delta=r,b[d](i,o),b.setProp(t.bodyPosProp,n),!isNaN(s)},beforeInvalidateShrinkWrapDock:function(e,t){var n=t.axis.sizeModelName;e[n].constrainedMin||(e[n]=Ext.layout.SizeModel.calculated)},afterInvalidateShrinkWrapDock:function(e,t){var n,i=t.axis,r=t.layout;e[i.sizeModelName].calculated&&(n=r.dockStretch(t.ownerContext,e,e.target,i),e.setProp(i.posProp,i.delta+n))},finishConstraints:function(e,t,n){var i,r,o,a,s,l,d,c,u,h,f=this,p=f.sizeModels,g=t.shrinkWrap,m=n.shrinkWrap,x=f.owner;if(g&&(l=t.size,d=t.collapsed?0:t.minSize,c=t.maxSize,u=t.maxChildSize,(h=Math.max(l,u))>c?(s=p.constrainedMax,o=c):h<d?(s=p.constrainedMin,o=d):l<u?(s=p.constrainedDock,x.dockConstrainedWidth=o=u):o=l),m&&(l=n.size,d=n.collapsed?0:n.minSize,c=n.maxSize,u=n.maxChildSize,(h=Math.max(l,u+l-n.initialSize))>c?(a=p.constrainedMax,r=c):h<d?(a=p.constrainedMin,r=d):l<u?(a=p.constrainedDock,x.dockConstrainedHeight=r=u):(e.collapsedVert||x.manageHeight||(i=!1,e.bodyContext.setProp("margin-bottom",n.dockedPixelsEnd)),r=l)),s||a){if(s&&a&&s.constrainedMax&&a.constrainedByMin)return e.invalidate({widthModel:s}),!1;if(!e.widthModel.calculatedFromShrinkWrap&&!e.heightModel.calculatedFromShrinkWrap)return e.invalidate({widthModel:s,heightModel:a}),!1}else f.invalidateAxes(e,t,n);return g&&(e.setWidth(o),s&&(e.widthModel=s)),m&&(e.setHeight(r,i),a&&(e.heightModel=a)),!0},invalidateAxes:function(e,t,n){var i,r,o,a,s,l,d,c,u=this.beforeInvalidateShrinkWrapDock,h=this.afterInvalidateShrinkWrapDock,f=t.end-t.begin,p=n.initialSize,g=t.shrinkWrapDock&&t.maxChildSize<f,m=n.shrinkWrapDock&&n.maxChildSize<p;if(g||m)for(m&&(n.begin=n.initialBegin,n.end=n.begin+n.initialSize),o=0,r=(i=e.dockedItems).length;o<r;++o)l=(a=i[o]).horizontal,d=null,g&&l?(c=t.sizeProp,s=f,d=t):m&&!l&&(c=n.sizeProp,s=p,d=n),d&&(s-=a.getMarginInfo()[c])!==a.props[c]&&a.invalidate({before:u,after:h,axis:d,ownerContext:e,layout:this})},finishPositions:function(e,t,n){var i,r,o=e.dockedItems,a=o.length,s=t.delta,l=n.delta;for(i=0;i<a;++i)(r=o[i]).setProp("x",s+r.dockedAt.x),r.setProp("y",l+r.dockedAt.y)},finishedLayout:function(e){var t=e.target;this.callParent(arguments),e.animatePolicy||(1===e.isCollapsingOrExpanding?t.afterCollapse(!1):2===e.isCollapsingOrExpanding&&t.afterExpand(!1))},getAnimatePolicy:function(e){var t,n,i=this;return 1==e.isCollapsingOrExpanding?t=i.lastCollapsedState:2==e.isCollapsingOrExpanding&&(t=e.lastCollapsedState),"left"==t||"right"==t?n=i.horizontalCollapsePolicy:"top"!=t&&"bottom"!=t||(n=i.verticalCollapsePolicy),n},getDockedItems:function(e,t){var n,i,r,o,a,s,l=this,d="visual"===e,c=d?Ext.ComponentQuery.query("[rendered]",l.owner.dockedItems.items):l.owner.dockedItems.items,u=c&&c.length&&!1!==e;if(null==t)r=u&&!d?c.slice():c;else{for(r=[],o=0,s=c.length;o<s;++o)a="top"==(i=c[o].dock)||"left"==i,(t?a:!a)&&r.push(c[o]);u=u&&r.length}return u&&(n="render"==(e=e||"render"),Ext.Array.sort(r,function(t,i){var r,o;return!n||(r=l.owner.dockOrder[t.dock])===(o=l.owner.dockOrder[i.dock])||r+o?(r=l.getItemWeight(t,e),o=l.getItemWeight(i,e),void 0!==r&&void 0!==o?r-o:0):r-o})),r||[]},getItemWeight:function(e,t){var n=e.weight||this.owner.defaultDockWeights[e.dock];return n[t]||n},getLayoutItems:function(){var e,t,n,i,r,o=this;if(o.owner.collapsed)r=o.owner.getCollapsedDockedItems();else for(t=(e=o.getDockedItems("visual")).length,r=[],i=0;i<t;i++)(n=e[i]).hidden||r.push(n);return r},measureContentWidth:function(e){var t=e.bodyContext;return t.el.getWidth()-t.getBorderInfo().width},measureContentHeight:function(e){var t=e.bodyContext;return t.el.getHeight()-t.getBorderInfo().height},redoLayout:function(e){var t=this.owner;1==e.isCollapsingOrExpanding?(t.reExpander&&t.reExpander.el.show(),t.addClsWithUI(t.collapsedCls),e.redo(!0)):2==e.isCollapsingOrExpanding&&(t.removeClsWithUI(t.collapsedCls),e.bodyContext.redo())},renderChildren:function(){var e=this,t=e.getDockedItems(),n=e.getRenderTarget();e.handleItemBorders(),e.renderItems(t,n)},renderItems:function(e,t){var n,i,r,o,a=this,s=e.length,l=0,d=0,c=0,u=a.getRenderTarget().dom.childNodes,h=u.length;for(n=0,i=0;n<h&&(r=u[n],!Ext.fly(r).hasCls(Ext.baseCSSPrefix+"resizable-handle"));n++){for(i=0;i<s&&(!(o=e[i]).rendered||o.el.dom!==r);i++);i===s&&c++}for(;l<s;l++,d++)o=e[l],l!==d||"right"!==o.dock&&"bottom"!==o.dock||(d+=c),o&&!o.rendered?a.renderItem(o,t,d):a.isValidParent(o,t,d)||a.moveItem(o,t,d)},undoLayout:function(e){var t=this.owner;1==e.isCollapsingOrExpanding?(t.reExpander&&t.reExpander.el.hide(),t.removeClsWithUI(t.collapsedCls),e.undo(!0)):2==e.isCollapsingOrExpanding&&(t.addClsWithUI(t.collapsedCls),e.bodyContext.undo())},sizePolicy:{nostretch:{setsWidth:0,setsHeight:0},horz:{shrinkWrap:{setsWidth:1,setsHeight:0,readsWidth:1},stretch:{setsWidth:1,setsHeight:0}},vert:{shrinkWrap:{setsWidth:0,setsHeight:1,readsHeight:1},stretch:{setsWidth:0,setsHeight:1}},stretchV:{setsWidth:0,setsHeight:1},autoStretchH:{readsWidth:1,setsWidth:1,setsHeight:0},autoStretchV:{readsHeight:1,setsWidth:0,setsHeight:1}},getItemSizePolicy:function(e,t){var n,i,r=this,o=r.sizePolicy,a=r.owner.shrinkWrapDock;return!1===e.stretch?o.nostretch:(a=!0===a?3:a||0,(i="left"==(n=e.dock)||"right"==n)?(o=o.vert,a&=1):(o=o.horz,a&=2),a&&(t||(t=r.owner.getSizeModel()),t[i?"height":"width"].shrinkWrap)?o.shrinkWrap:o.stretch)},configureItem:function(e,t){this.callParent(arguments),e.addCls(Ext.baseCSSPrefix+"docked"),e.addClsWithUI(this.getDockCls(e.dock))},getDockCls:function(e){return"docked-"+e},afterRemove:function(e){this.callParent(arguments),this.itemCls&&e.el.removeCls(this.itemCls+"-"+e.dock);var t=e.el.dom;!e.destroying&&t&&t.parentNode.removeChild(t),this.childrenChanged=!0},borderCollapseMap:{},getBorderCollapseTable:function(){var e,t=this.borderCollapseMap,n=this.owner,i=n.baseCls,r=n.ui;return(e=(t=t[i]||(t[i]={}))[r])||(i+="-"+r+"-outer-border-",t[r]=e=[0,i+"l",i+"b",i+"bl",i+"r",i+"rl",i+"rb",i+"rbl",i+"t",i+"tl",i+"tb",i+"tbl",i+"tr",i+"trl",i+"trb",i+"trbl"]),e}}),Ext.define("Ext.panel.AbstractPanel",{extend:Ext.container.Container,mixins:{docking:Ext.container.DockingContainer},baseCls:Ext.baseCSSPrefix+"panel",isPanel:!0,contentPaddingProperty:"bodyPadding",shrinkWrapDock:!1,componentLayout:"dock",childEls:["body"],renderTpl:["{% this.renderDockedItems(out,values,0); %}",Ext.isIE7m||Ext.isIEQuirks?'<div style="position:relative"></div>':"",'<div id="{id}-body" class="{baseCls}-body<tpl if="bodyCls"> {bodyCls}</tpl>',' {baseCls}-body-{ui}<tpl if="uiCls">','<tpl for="uiCls"> {parent.baseCls}-body-{parent.ui}-{.}</tpl>','</tpl>{childElCls}"','<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>',"{%this.renderContainer(out,values);%}","</div>","{% this.renderDockedItems(out,values,1); %}"],bodyPosProps:{x:"x",y:"y"},border:!0,emptyArray:[],initComponent:function(){this.initBorderProps(),this.callParent()},initBorderProps:function(){var e=this;e.frame&&e.border&&void 0===e.bodyBorder&&(e.bodyBorder=!1),e.frame&&e.border&&(!1===e.bodyBorder||0===e.bodyBorder)&&(e.manageBodyBorders=!0)},beforeDestroy:function(){this.destroyDockedItems(),this.callParent()},initItems:function(){this.callParent(),this.initDockingItems()},initRenderData:function(){var e=this,t=e.callParent();return e.initBodyStyles(),e.protoBody.writeTo(t),delete e.protoBody,t},getComponent:function(e){var t=this.callParent(arguments);return void 0!==t||Ext.isNumber(e)||(t=this.getDockedComponent(e)),t},getProtoBody:function(){var e=this,t=e.protoBody;return t||(e.protoBody=t=new Ext.util.ProtoElement({cls:e.bodyCls,style:e.bodyStyle,clsProp:"bodyCls",styleProp:"bodyStyle",styleIsText:!0})),t},initBodyStyles:function(){var e=this,t=e.getProtoBody();void 0!==e.bodyPadding&&(e.layout.managePadding?t.setStyle("padding",0):t.setStyle("padding",this.unitizeBox(!0===e.bodyPadding?5:e.bodyPadding))),e.initBodyBorder()},initBodyBorder:function(){var e=this;e.frame&&e.bodyBorder&&(Ext.isNumber(e.bodyBorder)||(e.bodyBorder=1),e.getProtoBody().setStyle("border-width",this.unitizeBox(e.bodyBorder)))},getCollapsedDockedItems:function(){var e=this;return!1===e.header||"placeholder"==e.collapseMode?e.emptyArray:[e.getReExpander()]},setBodyStyle:function(e,t){var n=this,i=n.rendered?n.body:n.getProtoBody();return Ext.isFunction(e)&&(e=e()),1==arguments.length?(Ext.isString(e)&&(e=Ext.Element.parseStyles(e)),i.setStyle(e)):i.setStyle(e,t),n},addBodyCls:function(e){var t=this;return(t.rendered?t.body:t.getProtoBody()).addCls(e),t},removeBodyCls:function(e){var t=this;return(t.rendered?t.body:t.getProtoBody()).removeCls(e),t},addUIClsToElement:function(e){var t=this,n=t.callParent(arguments);return t.addBodyCls([Ext.baseCSSPrefix+e,t.baseCls+"-body-"+e,t.baseCls+"-body-"+t.ui+"-"+e]),n},removeUIClsFromElement:function(e){var t=this,n=t.callParent(arguments);return t.removeBodyCls([Ext.baseCSSPrefix+e,t.baseCls+"-body-"+e,t.baseCls+"-body-"+t.ui+"-"+e]),n},addUIToElement:function(){var e=this;e.callParent(arguments),e.addBodyCls(e.baseCls+"-body-"+e.ui)},removeUIFromElement:function(){var e=this;e.callParent(arguments),e.removeBodyCls(e.baseCls+"-body-"+e.ui)},getTargetEl:function(){return this.body},applyTargetCls:function(e){this.getProtoBody().addCls(e)},getRefItems:function(e){var t=this.callParent(arguments);return this.getDockingRefItems(e,t)},setupRenderTpl:function(e){this.callParent(arguments),this.setupDockingRenderTpl(e)}}),Ext.define("Ext.panel.Header",{extend:Ext.container.Container,alias:"widget.header",isHeader:!0,defaultType:"tool",indicateDrag:!1,weight:-1,componentLayout:"body",childEls:["body"],renderTpl:['<div id="{id}-body" class="{headerCls}-body {baseCls}-body {bodyCls} {bodyTargetCls}','<tpl for="uiCls"> {parent.baseCls}-body-{parent.ui}-{.}</tpl>"','<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>',"{%this.renderContainer(out,values)%}","</div>"],headingTpl:['<span id="{id}-textEl" class="{headerCls}-text {cls}-text" unselectable="on">{title}</span>'],shrinkWrap:3,titlePosition:0,headerCls:Ext.baseCSSPrefix+"header",initComponent:function(){var e=this,t=e.hasOwnProperty("titlePosition"),n=e.items,i=t?e.titlePosition:n?n.length:0,r=[e.orientation,e.getDockName()],o=e.ownerCt;e.addEvents("click","dblclick"),e.indicateDragCls=e.headerCls+"-draggable",e.title=e.title||"&#160;",e.tools=e.tools||[],n=e.items=n?Ext.Array.slice(n):[],e.orientation=e.orientation||"horizontal",e.dock=e.dock?e.dock:"horizontal"==e.orientation?"top":"left",(o?o.border||o.frame:e.border)||r.push(e.orientation+"-noborder"),e.addClsWithUI(r),e.addCls([e.headerCls,e.headerCls+"-"+e.orientation]),e.indicateDrag&&e.addCls(e.indicateDragCls),(e.iconCls||e.icon||e.glyph)&&(e.initIconCmp(),t||n.length||++i,n.push(e.iconCmp)),e.titleCmp=new Ext.Component({ariaRole:"heading",focusable:!1,noWrap:!0,flex:1,rtl:e.rtl,id:e.id+"_hd",style:e.titleAlign?"text-align:"+e.titleAlign:"",cls:e.headerCls+"-text-container "+e.baseCls+"-text-container "+e.baseCls+"-text-container-"+e.ui,renderTpl:e.getTpl("headingTpl"),renderData:{title:e.title,cls:e.baseCls,headerCls:e.headerCls,ui:e.ui},childEls:["textEl"],autoEl:{unselectable:"on"},listeners:{render:e.onTitleRender,scope:e}}),e.layout="vertical"==e.orientation?{type:"vbox",align:"center",alignRoundingMethod:"ceil"}:{type:"hbox",align:"middle",alignRoundingMethod:"floor"},Ext.Array.push(n,e.tools),e.tools.length=0,e.callParent(),n.length<i&&(i=n.length),e.titlePosition=i,e.insert(i,e.titleCmp),e.on({dblclick:e.onDblClick,click:e.onClick,element:"el",scope:e})},initIconCmp:function(){var e,t=this,n=[t.headerCls+"-icon",t.baseCls+"-icon",t.iconCls];t.glyph&&n.push(t.baseCls+"-glyph"),e={focusable:!1,src:Ext.BLANK_IMAGE_URL,cls:n,baseCls:t.baseCls+"-icon",id:t.id+"-iconEl",iconCls:t.iconCls,glyph:t.glyph},Ext.isEmpty(t.icon)||(delete e.iconCls,e.src=t.icon),t.iconCmp=new Ext.Img(e)},beforeRender:function(){this.protoEl.unselectable(),this.callParent()},afterLayout:function(){var e,t,n,i,r=this;"vertical"===r.orientation&&(r.adjustTitlePosition(),(t=r.frameTR)&&(e=r.frameBR,n=r.frameTL,i=r.getWidth()-t.getPadding("r")-(n?n.getPadding("l"):r.el.getBorderWidth("l"))+"px",e.setStyle("background-position-x",i),t.setStyle("background-position-x",i)),Ext.isIE7&&Ext.isStrict&&r.frame&&r.el.repaint())},beforeLayout:function(){this.callParent(),this.syncBeforeAfterTitleClasses()},adjustTitlePosition:function(){var e,t=this.titleCmp;!Ext.isIE9m&&t&&(e=t.el).setStyle("left",e.getWidth()+"px")},onTitleRender:function(){"vertical"===this.orientation&&this.titleCmp.el.setVertical(90)},addUIClsToElement:function(e){var t,n,i=this,r=i.callParent(arguments),o=[i.baseCls+"-body-"+e,i.baseCls+"-body-"+i.ui+"-"+e];if(i.bodyCls){for(t=i.bodyCls.split(" "),n=0;n<o.length;n++)Ext.Array.contains(t,o[n])||t.push(o[n]);i.bodyCls=t.join(" ")}else i.bodyCls=o.join(" ");return r},removeUIClsFromElement:function(e){var t,n,i=this,r=i.callParent(arguments),o=[i.baseCls+"-body-"+e,i.baseCls+"-body-"+i.ui+"-"+e];if(i.bodyCls){for(t=i.bodyCls.split(" "),n=0;n<o.length;n++)Ext.Array.remove(t,o[n]);i.bodyCls=t.join(" ")}return r},addUIToElement:function(){var e,t,n=this;n.callParent(arguments),t=n.baseCls+"-body-"+n.ui,n.rendered?n.bodyCls?n.body.addCls(n.bodyCls):n.body.addCls(t):n.bodyCls?(e=n.bodyCls.split(" "),Ext.Array.contains(e,t)||e.push(t),n.bodyCls=e.join(" ")):n.bodyCls=t,n.titleCmp&&n.titleCmp.rendered&&n.titleCmp.addCls(n.baseCls+"-text-container-"+n.ui)},removeUIFromElement:function(){var e,t,n=this;n.callParent(arguments),t=n.baseCls+"-body-"+n.ui,n.rendered?n.bodyCls?n.body.removeCls(n.bodyCls):n.body.removeCls(t):n.bodyCls?(e=n.bodyCls.split(" "),Ext.Array.remove(e,t),n.bodyCls=e.join(" ")):n.bodyCls=t,n.titleCmp&&n.titleCmp.rendered&&n.titleCmp.removeCls(n.baseCls+"-text-container-"+n.ui)},onClick:function(e){this.fireClickEvent("click",e)},onDblClick:function(e){this.fireClickEvent("dblclick",e)},fireClickEvent:function(e,t){var n="."+Ext.panel.Tool.prototype.baseCls;t.getTarget(n)||this.fireEvent(e,this,t)},getFocusEl:function(){return this.el},getTargetEl:function(){return this.body||this.frameBody||this.el},applyTargetCls:function(e){this.bodyTargetCls=e},setTitle:function(e){var t=this,n=t.titleCmp;t.title=e,n.rendered?(n.textEl.update(t.title||"&#160;"),n.updateLayout()):t.titleCmp.on({render:function(){t.setTitle(e)},single:!0})},getMinWidth:function(){var e,t,n,i=this,r=i.titleCmp.textEl.dom,o=i.tools;if(r.style.display="inline",e=r.offsetWidth,r.style.display="",o&&(t=o.length))for(n=0;n<t;n++)o[n].el&&(e+=o[n].el.dom.offsetWidth);return i.iconCmp&&(e+=i.iconCmp.el.dom.offsetWidth),e+10},setIconCls:function(e){var t=this,n=!e||!e.length,i=t.iconCmp;t.iconCls=e,t.iconCmp||n?i&&(n?(t.iconCmp.destroy(),delete t.iconCmp):(i.removeCls(i.iconCls),i.addCls(e),i.iconCls=e)):(t.initIconCmp(),t.insert(0,t.iconCmp))},setIcon:function(e){var t=this,n=!e||!e.length,i=t.iconCmp;t.icon=e,t.iconCmp||n?i&&(n?(t.iconCmp.destroy(),delete t.iconCmp):i.setSrc(t.icon)):(t.initIconCmp(),t.insert(0,t.iconCmp))},setGlyph:function(e){var t=this,n=t.iconCmp;t.iconCmp?n&&(e?t.iconCmp.setGlyph(e):(t.iconCmp.destroy(),delete t.iconCmp)):(t.initIconCmp(),t.insert(0,t.iconCmp))},getTools:function(){return this.tools.slice()},addTool:function(e){this.add(Ext.ComponentManager.create(e,"tool"))},syncBeforeAfterTitleClasses:function(){var e,t,n,i,r=this,o=r.items,a=o.items,s=r.titlePosition,l=a.length,d=o.generation,c=r.syncBeforeAfterGen;if(c!==d)for(r.syncBeforeAfterGen=d,n=0;n<l;++n)e=(i=a[n]).afterTitleCls||(i.afterTitleCls=i.baseCls+"-after-title"),t=i.beforeTitleCls||(i.beforeTitleCls=i.baseCls+"-before-title"),!r.title||n<s?(c&&i.removeCls(e),i.addCls(t)):n>s&&(c&&i.removeCls(t),i.addCls(e))},onAdd:function(e,t){var n=this.tools;this.callParent(arguments),e.isTool&&(n.push(e),n[e.type]=e)},initRenderData:function(){return Ext.applyIf(this.callParent(),{bodyCls:this.bodyCls,bodyTargetCls:this.bodyTargetCls,headerCls:this.headerCls})},getDockName:function(){return this.dock}}),Ext.define("Ext.dd.DragDrop",{constructor:function(e,t,n){e&&this.init(e,t,n)},id:null,config:null,dragElId:null,handleElId:null,invalidHandleTypes:null,invalidHandleIds:null,invalidHandleClasses:null,startPageX:0,startPageY:0,groups:null,locked:!1,lock:function(){this.locked=!0},moveOnly:!1,unlock:function(){this.locked=!1},isTarget:!0,padding:null,_domRef:null,__ygDragDrop:!0,constrainX:!1,constrainY:!1,minX:0,maxX:0,minY:0,maxY:0,maintainOffset:!1,xTicks:null,yTicks:null,primaryButtonOnly:!0,available:!1,hasOuterHandles:!1,b4StartDrag:function(e,t){},startDrag:function(e,t){},b4Drag:function(e){},onDrag:function(e){},onDragEnter:function(e,t){},b4DragOver:function(e){},onDragOver:function(e,t){},b4DragOut:function(e){},onDragOut:function(e,t){},b4DragDrop:function(e){},onDragDrop:function(e,t){},onInvalidDrop:function(e){},b4EndDrag:function(e){},endDrag:function(e){},b4MouseDown:function(e){},onMouseDown:function(e){},onMouseUp:function(e){},onAvailable:function(){},defaultPadding:{left:0,right:0,top:0,bottom:0},constrainTo:function(e,t,n){Ext.isNumber(t)&&(t={left:t,right:t,top:t,bottom:t}),t=t||this.defaultPadding;var i,r,o,a,s=Ext.get(this.getEl()).getBox(),l=Ext.get(e),d=l.getScroll(),c=l.dom;i=c==document.body?{x:d.left,y:d.top,width:Ext.Element.getViewWidth(),height:Ext.Element.getViewHeight()}:{x:(r=l.getXY())[0],y:r[1],width:c.clientWidth,height:c.clientHeight},o=s.y-i.y,a=s.x-i.x,this.resetConstraints(),this.setXConstraint(a-(t.left||0),i.width-a-s.width-(t.right||0),this.xTickSize),this.setYConstraint(o-(t.top||0),i.height-o-s.height-(t.bottom||0),this.yTickSize)},getEl:function(){return this._domRef||(this._domRef=Ext.getDom(this.id)),this._domRef},getDragEl:function(){return Ext.getDom(this.dragElId)},init:function(e,t,n){this.initTarget(e,t,n),Ext.EventManager.on(this.id,"mousedown",this.handleMouseDown,this)},initTarget:function(e,t,n){this.config=n||{},this.DDMInstance=Ext.dd.DragDropManager,this.groups={},"string"!=typeof e&&(e=Ext.id(e)),this.id=e,this.addToGroup(t||"default"),this.handleElId=e,this.setDragElId(e),this.invalidHandleTypes={A:"A"},this.invalidHandleIds={},this.invalidHandleClasses=[],this.applyConfig(),this.handleOnAvailable()},applyConfig:function(){this.padding=this.config.padding||[0,0,0,0],this.isTarget=!1!==this.config.isTarget,this.maintainOffset=this.config.maintainOffset,this.primaryButtonOnly=!1!==this.config.primaryButtonOnly},handleOnAvailable:function(){this.available=!0,this.resetConstraints(),this.onAvailable()},setPadding:function(e,t,n,i){this.padding=t||0===t?n||0===n?[e,t,n,i]:[e,t,e,t]:[e,e,e,e]},setInitPosition:function(e,t){var n,i,r,o=this.getEl();this.DDMInstance.verifyEl(o)&&(n=e||0,i=t||0,r=Ext.Element.getXY(o),this.initPageX=r[0]-n,this.initPageY=r[1]-i,this.lastPageX=r[0],this.lastPageY=r[1],this.setStartPosition(r))},setStartPosition:function(e){var t=e||Ext.Element.getXY(this.getEl());this.deltaSetXY=null,this.startPageX=t[0],this.startPageY=t[1]},addToGroup:function(e){this.groups[e]=!0,this.DDMInstance.regDragDrop(this,e)},removeFromGroup:function(e){this.groups[e]&&delete this.groups[e],this.DDMInstance.removeDDFromGroup(this,e)},setDragElId:function(e){this.dragElId=e},setHandleElId:function(e){"string"!=typeof e&&(e=Ext.id(e)),this.handleElId=e,this.DDMInstance.regHandle(this.id,e)},setOuterHandleElId:function(e){"string"!=typeof e&&(e=Ext.id(e)),Ext.EventManager.on(e,"mousedown",this.handleMouseDown,this),this.setHandleElId(e),this.hasOuterHandles=!0},unreg:function(){Ext.EventManager.un(this.id,"mousedown",this.handleMouseDown,this),this._domRef=null,this.DDMInstance._remove(this)},destroy:function(){this.unreg()},isLocked:function(){return this.DDMInstance.isLocked()||this.locked},handleMouseDown:function(e,t){var n,i=this;i.primaryButtonOnly&&0!=e.button||i.isLocked()||(i.DDMInstance.refreshCache(i.groups),(i.hasOuterHandles||i.DDMInstance.isOverTarget(e.getPoint(),i))&&i.clickValidator(e)&&(n=Ext.Element.getActiveElement(),i.setStartPosition(),i.b4MouseDown(e),i.onMouseDown(e),i.DDMInstance.handleMouseDown(e,i),n&&Ext.fly(n).blur(),i.DDMInstance.stopEvent(e)))},clickValidator:function(e){var t=e.getTarget();return this.isValidHandleChild(t)&&(this.id==this.handleElId||this.DDMInstance.handleWasClicked(t,this.id))},addInvalidHandleType:function(e){var t=e.toUpperCase();this.invalidHandleTypes[t]=t},addInvalidHandleId:function(e){"string"!=typeof e&&(e=Ext.id(e)),this.invalidHandleIds[e]=e},addInvalidHandleClass:function(e){this.invalidHandleClasses.push(e)},removeInvalidHandleType:function(e){var t=e.toUpperCase();delete this.invalidHandleTypes[t]},removeInvalidHandleId:function(e){"string"!=typeof e&&(e=Ext.id(e)),delete this.invalidHandleIds[e]},removeInvalidHandleClass:function(e){for(var t=0,n=this.invalidHandleClasses.length;t<n;++t)this.invalidHandleClasses[t]==e&&delete this.invalidHandleClasses[t]},isValidHandleChild:function(e){var t,n,i,r=!0;try{t=e.nodeName.toUpperCase()}catch(n){t=e.nodeName}for(r=(r=r&&!this.invalidHandleTypes[t])&&!this.invalidHandleIds[e.id],n=0,i=this.invalidHandleClasses.length;r&&n<i;++n)r=!Ext.fly(e).hasCls(this.invalidHandleClasses[n]);return r},setXTicks:function(e,t){this.xTicks=[],this.xTickSize=t;var n,i={};for(n=this.initPageX;n>=this.minX;n-=t)i[n]||(this.xTicks[this.xTicks.length]=n,i[n]=!0);for(n=this.initPageX;n<=this.maxX;n+=t)i[n]||(this.xTicks[this.xTicks.length]=n,i[n]=!0);Ext.Array.sort(this.xTicks,this.DDMInstance.numericSort)},setYTicks:function(e,t){this.yTicks=[],this.yTickSize=t;var n,i={};for(n=this.initPageY;n>=this.minY;n-=t)i[n]||(this.yTicks[this.yTicks.length]=n,i[n]=!0);for(n=this.initPageY;n<=this.maxY;n+=t)i[n]||(this.yTicks[this.yTicks.length]=n,i[n]=!0);Ext.Array.sort(this.yTicks,this.DDMInstance.numericSort)},setXConstraint:function(e,t,n){this.leftConstraint=e,this.rightConstraint=t,this.minX=this.initPageX-e,this.maxX=this.initPageX+t,n&&this.setXTicks(this.initPageX,n),this.constrainX=!0},clearConstraints:function(){this.constrainX=!1,this.constrainY=!1,this.clearTicks()},clearTicks:function(){this.xTicks=null,this.yTicks=null,this.xTickSize=0,this.yTickSize=0},setYConstraint:function(e,t,n){this.topConstraint=e,this.bottomConstraint=t,this.minY=this.initPageY-e,this.maxY=this.initPageY+t,n&&this.setYTicks(this.initPageY,n),this.constrainY=!0},resetConstraints:function(){if(this.initPageX||0===this.initPageX){var e=this.maintainOffset?this.lastPageX-this.initPageX:0,t=this.maintainOffset?this.lastPageY-this.initPageY:0;this.setInitPosition(e,t)}else this.setInitPosition();this.constrainX&&this.setXConstraint(this.leftConstraint,this.rightConstraint,this.xTickSize),this.constrainY&&this.setYConstraint(this.topConstraint,this.bottomConstraint,this.yTickSize)},getTick:function(e,t){if(t){if(t[0]>=e)return t[0];var n,i,r,o;for(n=0,i=t.length;n<i;++n)if(t[r=n+1]&&t[r]>=e)return o=e-t[n],t[r]-e>o?t[n]:t[r];return t[t.length-1]}return e},toString:function(){return"DragDrop "+this.id}}),Ext.define("Ext.dd.DD",{extend:Ext.dd.DragDrop,constructor:function(e,t,n){e&&this.init(e,t,n)},scroll:!0,autoOffset:function(e,t){var n=e-this.startPageX,i=t-this.startPageY;this.setDelta(n,i)},setDelta:function(e,t){this.deltaX=e,this.deltaY=t},setDragElPos:function(e,t){var n=this.getDragEl();this.alignElWithMouse(n,e,t)},alignElWithMouse:function(e,t,n){var i,r,o,a,s=this.getTargetCoord(t,n),l=e.dom?e:Ext.fly(e,"_dd"),d=l.getSize(),c=Ext.Element;return this.deltaSetXY?(i=this.cachedViewportSize,this.setLocalXY(l,Math.max(0,Math.min(s.x+this.deltaSetXY[0],i.width-d.width)),Math.max(0,Math.min(s.y+this.deltaSetXY[1],i.height-d.height)))):(i=this.cachedViewportSize={width:c.getDocumentWidth(),height:c.getDocumentHeight()},r=[Math.max(0,Math.min(s.x,i.width-d.width)),Math.max(0,Math.min(s.y,i.height-d.height))],l.setXY(r),o=this.getLocalX(l),a=l.getLocalY(),this.deltaSetXY=[o-s.x,a-s.y]),this.cachePosition(s.x,s.y),this.autoScroll(s.x,s.y,e.offsetHeight,e.offsetWidth),s},cachePosition:function(e,t){if(e)this.lastPageX=e,this.lastPageY=t;else{var n=Ext.Element.getXY(this.getEl());this.lastPageX=n[0],this.lastPageY=n[1]}},autoScroll:function(e,t,n,i){if(this.scroll){var r=Ext.Element.getViewHeight(),o=Ext.Element.getViewWidth(),a=this.DDMInstance.getScrollTop(),s=this.DDMInstance.getScrollLeft(),l=n+t,d=i+e,c=r+a-t-this.deltaY,u=o+s-e-this.deltaX,h=document.all?80:30;l>r&&c<40&&window.scrollTo(s,a+h),t<a&&a>0&&t-a<40&&window.scrollTo(s,a-h),d>o&&u<40&&window.scrollTo(s+h,a),e<s&&s>0&&e-s<40&&window.scrollTo(s-h,a)}},getTargetCoord:function(e,t){var n=e-this.deltaX,i=t-this.deltaY;return this.constrainX&&(n<this.minX&&(n=this.minX),n>this.maxX&&(n=this.maxX)),this.constrainY&&(i<this.minY&&(i=this.minY),i>this.maxY&&(i=this.maxY)),{x:n=this.getTick(n,this.xTicks),y:i=this.getTick(i,this.yTicks)}},applyConfig:function(){this.callParent(),this.scroll=!1!==this.config.scroll},b4MouseDown:function(e){this.autoOffset(e.getPageX(),e.getPageY())},b4Drag:function(e){this.setDragElPos(e.getPageX(),e.getPageY())},toString:function(){return"DD "+this.id},getLocalX:function(e){return e.getLocalX()},setLocalXY:function(e,t,n){e.setLocalXY(t,n)}}),Ext.define("Ext.dd.DDProxy",{extend:Ext.dd.DD,statics:{dragElId:"ygddfdiv"},constructor:function(e,t,n){e&&(this.init(e,t,n),this.initFrame())},resizeFrame:!0,centerFrame:!1,createFrame:function(){var e,t,n=this,i=document.body;i&&i.firstChild?(e=this.getDragEl())||((e=document.createElement("div")).id=this.dragElId,(t=e.style).position="absolute",t.visibility="hidden",t.cursor="move",t.border="2px solid #aaa",t.zIndex=999,i.insertBefore(e,i.firstChild)):setTimeout(function(){n.createFrame()},50)},initFrame:function(){this.createFrame()},applyConfig:function(){this.callParent(),this.resizeFrame=!1!==this.config.resizeFrame,this.centerFrame=this.config.centerFrame,this.setDragElId(this.config.dragElId||Ext.dd.DDProxy.dragElId)},showFrame:function(e,t){this.getEl();var n=this.getDragEl(),i=n.style;this._resizeProxy(),this.centerFrame&&this.setDelta(Math.round(parseInt(i.width,10)/2),Math.round(parseInt(i.height,10)/2)),this.setDragElPos(e,t),Ext.fly(n).show()},_resizeProxy:function(){if(this.resizeFrame){var e=this.getEl();Ext.fly(this.getDragEl()).setSize(e.offsetWidth,e.offsetHeight)}},b4MouseDown:function(e){var t=e.getPageX(),n=e.getPageY();this.autoOffset(t,n),this.setDragElPos(t,n)},b4StartDrag:function(e,t){this.showFrame(e,t)},b4EndDrag:function(e){Ext.fly(this.getDragEl()).hide()},endDrag:function(e){var t=this.getEl(),n=this.getDragEl();n.style.visibility="",this.beforeMove(),t.style.visibility="hidden",Ext.dd.DDM.moveToEl(t,n),n.style.visibility="hidden",t.style.visibility="",this.afterDrag()},beforeMove:function(){},afterDrag:function(){},toString:function(){return"DDProxy "+this.id}}),Ext.define("Ext.dd.StatusProxy",{extend:Ext.Component,animRepair:!1,childEls:["ghost"],renderTpl:['<div class="'+Ext.baseCSSPrefix+'dd-drop-icon"></div><div id="{id}-ghost" class="'+Ext.baseCSSPrefix+'dd-drag-ghost"></div>'],repairCls:Ext.baseCSSPrefix+"dd-drag-repair",constructor:function(e){var t=this;e=e||{},Ext.apply(t,{hideMode:"visibility",hidden:!0,floating:!0,id:t.id||Ext.id(),cls:Ext.baseCSSPrefix+"dd-drag-proxy "+this.dropNotAllowed,shadow:e.shadow||!1,renderTo:Ext.getDetachedBody()}),t.callParent(arguments),this.dropStatus=this.dropNotAllowed},dropAllowed:Ext.baseCSSPrefix+"dd-drop-ok",dropNotAllowed:Ext.baseCSSPrefix+"dd-drop-nodrop",setStatus:function(e){e=e||this.dropNotAllowed,this.dropStatus!=e&&(this.el.replaceCls(this.dropStatus,e),this.dropStatus=e)},reset:function(e){var t=this,n=Ext.baseCSSPrefix+"dd-drag-proxy ";t.el.replaceCls(n+t.dropAllowed,n+t.dropNotAllowed),t.dropStatus=t.dropNotAllowed,e&&t.ghost.update("")},update:function(e){"string"==typeof e?this.ghost.update(e):(this.ghost.update(""),e.style.margin="0",this.ghost.dom.appendChild(e));var t=this.ghost.dom.firstChild;t&&Ext.fly(t).setStyle("float","none")},getGhost:function(){return this.ghost},hide:function(e){this.callParent(),e&&this.reset(!0)},stop:function(){this.anim&&this.anim.isAnimated&&this.anim.isAnimated()&&this.anim.stop()},sync:function(){this.el.sync()},repair:function(e,t,n){var i=this;i.callback=t,i.scope=n,e&&!1!==i.animRepair?(i.el.addCls(i.repairCls),i.el.hideUnders(!0),i.anim=i.el.animate({duration:i.repairDuration||500,easing:"ease-out",to:{x:e[0],y:e[1]},stopAnimation:!0,callback:i.afterRepair,scope:i})):i.afterRepair()},afterRepair:function(){var e=this;e.hide(!0),e.el.removeCls(e.repairCls),"function"==typeof e.callback&&e.callback.call(e.scope||e),delete e.callback,delete e.scope}}),Ext.define("Ext.dd.DragSource",{extend:Ext.dd.DDProxy,dropAllowed:Ext.baseCSSPrefix+"dd-drop-ok",dropNotAllowed:Ext.baseCSSPrefix+"dd-drop-nodrop",animRepair:!0,repairHighlightColor:"c3daf9",constructor:function(e,t){this.el=Ext.get(e),this.dragData||(this.dragData={}),Ext.apply(this,t),this.proxy||(this.proxy=new Ext.dd.StatusProxy({id:this.el.id+"-drag-status-proxy",animRepair:this.animRepair})),this.callParent([this.el.dom,this.ddGroup||this.group,{dragElId:this.proxy.id,resizeFrame:!1,isTarget:!1,scroll:!0===this.scroll}]),this.dragging=!1},getDragData:function(e){return this.dragData},onDragEnter:function(e,t){var n,i=Ext.dd.DragDropManager.getDDById(t);this.cachedTarget=i,!1!==this.beforeDragEnter(i,e,t)&&(i.isNotifyTarget?(n=i.notifyEnter(this,e,this.dragData),this.proxy.setStatus(n)):this.proxy.setStatus(this.dropAllowed),this.afterDragEnter&&this.afterDragEnter(i,e,t))},beforeDragEnter:function(e,t,n){return!0},onDragOver:function(e,t){var n,i=this.cachedTarget||Ext.dd.DragDropManager.getDDById(t);!1!==this.beforeDragOver(i,e,t)&&(i.isNotifyTarget&&(n=i.notifyOver(this,e,this.dragData),this.proxy.setStatus(n)),this.afterDragOver&&this.afterDragOver(i,e,t))},beforeDragOver:function(e,t,n){return!0},onDragOut:function(e,t){var n=this.cachedTarget||Ext.dd.DragDropManager.getDDById(t);!1!==this.beforeDragOut(n,e,t)&&(n.isNotifyTarget&&n.notifyOut(this,e,this.dragData),this.proxy.reset(),this.afterDragOut&&this.afterDragOut(n,e,t)),this.cachedTarget=null},beforeDragOut:function(e,t,n){return!0},onDragDrop:function(e,t){var n=this.cachedTarget||Ext.dd.DragDropManager.getDDById(t);!1!==this.beforeDragDrop(n,e,t)&&(n.isNotifyTarget?!1!==n.notifyDrop(this,e,this.dragData)?this.onValidDrop(n,e,t):this.onInvalidDrop(n,e,t):this.onValidDrop(n,e,t),this.afterDragDrop&&this.afterDragDrop(n,e,t)),delete this.cachedTarget},beforeDragDrop:function(e,t,n){return!0},onValidDrop:function(e,t,n){this.hideProxy(),this.afterValidDrop&&this.afterValidDrop(e,t,n)},getRepairXY:function(e,t){return this.el.getXY()},onInvalidDrop:function(e,t,n){t||(t=e,e=null,n=t.getTarget().id),this.beforeInvalidDrop(e,t,n),this.cachedTarget&&(this.cachedTarget.isNotifyTarget&&this.cachedTarget.notifyOut(this,t,this.dragData),this.cacheTarget=null),this.proxy.repair(this.getRepairXY(t,this.dragData),this.afterRepair,this),this.afterInvalidDrop&&this.afterInvalidDrop(t,n)},afterRepair:function(){var e=this;Ext.enableFx&&e.el.highlight(e.repairHighlightColor),e.dragging=!1},beforeInvalidDrop:function(e,t,n){return!0},handleMouseDown:function(e){if(!this.dragging){var t=this.getDragData(e);t&&!1!==this.onBeforeDrag(t,e)&&(this.dragData=t,this.proxy.stop(),this.callParent(arguments))}},onBeforeDrag:function(e,t){return!0},onStartDrag:Ext.emptyFn,alignElWithMouse:function(){return this.proxy.ensureAttachedToBody(!0),this.callParent(arguments)},startDrag:function(e,t){this.proxy.reset(),this.proxy.hidden=!1,this.dragging=!0,this.proxy.update(""),this.onInitDrag(e,t),this.proxy.show()},onInitDrag:function(e,t){var n=this.el.dom.cloneNode(!0);return n.id=Ext.id(),this.proxy.update(n),this.onStartDrag(e,t),!0},getProxy:function(){return this.proxy},hideProxy:function(){this.proxy.hide(),this.proxy.reset(!0),this.dragging=!1},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups)},b4EndDrag:function(e){},endDrag:function(e){this.onEndDrag(this.dragData,e)},onEndDrag:function(e,t){},autoOffset:function(e,t){this.setDelta(-12,-20)},destroy:function(){this.callParent(),Ext.destroy(this.proxy)}}),Ext.define("Ext.panel.Proxy",{alternateClassName:"Ext.dd.PanelProxy",moveOnDrag:!0,constructor:function(e,t){var n=this;n.panel=e,n.id=n.panel.id+"-ddproxy",Ext.apply(n,t)},insertProxy:!0,setStatus:Ext.emptyFn,reset:Ext.emptyFn,update:Ext.emptyFn,stop:Ext.emptyFn,sync:Ext.emptyFn,getEl:function(){return this.ghost.el},getGhost:function(){return this.ghost},getProxy:function(){return this.proxy},hide:function(){var e=this;e.ghost&&(e.proxy&&(e.proxy.remove(),delete e.proxy),e.panel.unghost(null,e.moveOnDrag),delete e.ghost)},show:function(){var e,t=this;t.ghost||(e=t.panel.getSize(),t.panel.el.setVisibilityMode(Ext.Element.DISPLAY),t.ghost=t.panel.ghost(),t.insertProxy&&(t.proxy=t.panel.el.insertSibling({cls:Ext.baseCSSPrefix+"panel-dd-spacer"}),t.proxy.setSize(e)))},repair:function(e,t,n){this.hide(),Ext.callback(t,n||this)},moveProxy:function(e,t){this.proxy&&e.insertBefore(this.proxy.dom,t)}}),Ext.define("Ext.panel.DD",{extend:Ext.dd.DragSource,constructor:function(e,t){var n=this;n.panel=e,n.dragData={panel:e},n.panelProxy=new Ext.panel.Proxy(e,t),n.proxy=n.panelProxy.proxy,n.callParent([e.el,t]),n.setupEl(e)},setupEl:function(e){var t=this,n=e.header,i=e.body;n&&(t.setHandleElId(n.id),i=n.el),i?(i.setStyle("cursor","move"),t.scroll=!1):e.on("boxready",t.setupEl,t,{single:!0})},showFrame:Ext.emptyFn,startDrag:Ext.emptyFn,b4StartDrag:function(e,t){this.panelProxy.show()},b4MouseDown:function(e){var t=e.getPageX(),n=e.getPageY();this.autoOffset(t,n)},onInitDrag:function(e,t){return this.onStartDrag(e,t),!0},createFrame:Ext.emptyFn,getDragEl:function(e){var t=this.panelProxy.ghost;if(t)return t.el.dom},endDrag:function(e){this.panelProxy.hide(),this.panel.saveState()},autoOffset:function(e,t){e-=this.startPageX,t-=this.startPageY,this.setDelta(e,t)},onInvalidDrop:function(e,t,n){var i=this;i.beforeInvalidDrop(e,t,n),i.cachedTarget&&(i.cachedTarget.isNotifyTarget&&i.cachedTarget.notifyOut(i,t,i.dragData),i.cacheTarget=null),i.afterInvalidDrop&&i.afterInvalidDrop(t,n)}}),Ext.define("Ext.util.Memento",function(){function e(e,t,n,i){e[i?i+n:n]=t[n]}function t(e,t,n){delete e[n]}function n(e,t,n,r){var o=r?r+n:n,a=e[o];(a||e.hasOwnProperty(o))&&i(t,n,a)}function i(e,t,n){Ext.isDefined(n)?e[t]=n:delete e[t]}function r(e,t,n,i,r){if(t)if(Ext.isArray(i)){var o,a=i.length;for(o=0;o<a;o++)e(t,n,i[o],r)}else e(t,n,i,r)}return{data:null,target:null,constructor:function(e,t){e&&(this.target=e,t&&this.capture(t))},capture:function(t,n,i){var o=this;r(e,o.data||(o.data={}),n||o.target,t,i)},remove:function(e){r(t,this.data,null,e)},restore:function(e,t,i,o){r(n,this.data,i||this.target,e,o),!1!==t&&this.remove(e)},restoreAll:function(e,t){var n,r=t||this.target,o=this.data;for(n in o)o.hasOwnProperty(n)&&i(r,n,o[n]);!1!==e&&delete this.data}}}()),Ext.define("Ext.panel.Panel",{extend:Ext.panel.AbstractPanel,alias:"widget.panel",alternateClassName:"Ext.Panel",collapsedCls:"collapsed",animCollapse:Ext.enableFx,minButtonWidth:75,collapsed:!1,collapseFirst:!0,hideCollapseTool:!1,titleCollapse:void 0,floatable:!0,collapsible:void 0,closable:!1,closeAction:"destroy",placeholderCollapseHideMode:Ext.Element.VISIBILITY,preventHeader:!1,header:void 0,headerPosition:"top",frame:!1,frameHeader:!0,manageHeight:!0,constrain:!1,constrainHeader:!1,initComponent:function(){var e=this;e.addEvents("beforeclose","close","beforeexpand","beforecollapse","expand","collapse","titlechange","iconchange","iconclschange","glyphchange","float","unfloat"),e.collapsible&&this.addStateEvents(["expand","collapse"]),e.unstyled&&e.setUI("plain"),e.frame&&e.setUI(e.ui+"-framed"),e.bridgeToolbars(),e.callParent(),e.collapseDirection=e.collapseDirection||e.headerPosition||Ext.Component.DIRECTION_TOP,e.hiddenOnCollapse=new Ext.dom.CompositeElement},beforeDestroy:function(){var e=this;Ext.destroy(e.placeholder,e.ghostPanel,e.dd),e.callParent()},initAria:function(){this.callParent(),this.initHeaderAria()},getFocusEl:function(){return this.el},initHeaderAria:function(){var e=this.el,t=this.header;e&&t&&e.dom.setAttribute("aria-labelledby",t.titleCmp.id)},getHeader:function(){return this.header},setTitle:function(e){var t=this,n=t.title,i=t.header,r=t.reExpander,o=t.placeholder;t.title=e,i?i.isHeader?i.setTitle(e):i.title=e:t.updateHeader(),r&&r.setTitle(e),o&&o.setTitle&&o.setTitle(e),t.fireEvent("titlechange",t,e,n)},setIconCls:function(e){var t=this,n=t.iconCls,i=t.header,r=t.placeholder;t.iconCls=e,i?i.isHeader?i.setIconCls(e):i.iconCls=e:t.updateHeader(),r&&r.setIconCls&&r.setIconCls(e),t.fireEvent("iconclschange",t,e,n)},setIcon:function(e){var t=this,n=t.icon,i=t.header,r=t.placeholder;t.icon=e,i?i.isHeader?i.setIcon(e):i.icon=e:t.updateHeader(),r&&r.setIcon&&r.setIcon(e),t.fireEvent("iconchange",t,e,n)},setGlyph:function(e){var t=this,n=t.glyph,i=t.header,r=t.placeholder;t.glyph=e,i?i.isHeader?i.setGlyph(e):i.glyph=e:t.updateHeader(),r&&r.setGlyph&&r.setIcon(e),t.fireEvent("glyphchange",t,e,n)},bridgeToolbars:function(){var e,t,n=this,i=[],r=n.minButtonWidth;function o(e,t,i){return Ext.isArray(e)?e={xtype:"toolbar",items:e}:e.xtype||(e.xtype="toolbar"),e.dock=t,"left"!=t&&"right"!=t||(e.vertical=!0),i&&(e.layout=Ext.applyIf(e.layout||{},{pack:{left:"start",center:"center"}[n.buttonAlign]||"end"})),e}n.tbar&&(i.push(o(n.tbar,"top")),n.tbar=null),n.bbar&&(i.push(o(n.bbar,"bottom")),n.bbar=null),n.buttons&&(n.fbar=n.buttons,n.buttons=null),n.fbar&&((e=o(n.fbar,"bottom",!0)).ui="footer",r&&(t=e.defaults,e.defaults=function(e){var n=t||{};return!(!e.xtype||"button"===e.xtype||e.isComponent&&e.isXType("button"))||"minWidth"in n||(n=Ext.apply({minWidth:r},n)),n}),i.push(e),n.fbar=null),n.lbar&&(i.push(o(n.lbar,"left")),n.lbar=null),n.rbar&&(i.push(o(n.rbar,"right")),n.rbar=null),n.dockedItems?(Ext.isArray(n.dockedItems)||(n.dockedItems=[n.dockedItems]),n.dockedItems=n.dockedItems.concat(i)):n.dockedItems=i},isPlaceHolderCollapse:function(){return"placeholder"==this.collapseMode},onBoxReady:function(){this.callParent(),this.collapsed&&this.setHiddenDocked()},beforeRender:function(){var e,t=this;t.callParent(),t.initTools(),t.preventHeader||!1===t.header||t.updateHeader(),t.collapsed&&(t.isPlaceHolderCollapse()?t.hidden||(t.hidden=!0,t.preventCollapseFire=!0,t.placeholderCollapse(),delete t.preventCollapseFire,e=t.collapsed,t.collapsed=!1):(t.beginCollapse(),t.addClsWithUI(t.collapsedCls))),e&&(t.collapsed=e)},initTools:function(){var e=this;e.tools=e.tools?Ext.Array.clone(e.tools):[],!e.collapsible||e.hideCollapseTool||!1===e.header||e.preventHeader||(e.collapseDirection=e.collapseDirection||e.headerPosition||"top",e.collapseTool=e.expandTool=Ext.widget({xtype:"tool",type:e.collapsed&&!e.isPlaceHolderCollapse()?"expand-"+e.getOppositeDirection(e.collapseDirection):"collapse-"+e.collapseDirection,handler:e.toggleCollapse,scope:e}),e.collapseFirst&&e.tools.unshift(e.collapseTool)),e.addTools(),e.closable&&(e.addClsWithUI("closable"),e.addTool(Ext.widget({xtype:"tool",type:"close",handler:Ext.Function.bind(e.close,e,[])}))),e.collapseTool&&!e.collapseFirst&&e.addTool(e.collapseTool)},addTools:Ext.emptyFn,close:function(){!1!==this.fireEvent("beforeclose",this)&&this.doClose()},doClose:function(){this.fireEvent("close",this),this[this.closeAction]()},updateHeader:function(e){var t=this,n=t.header,i=t.title,r=t.tools,o=t.icon||t.iconCls,a="left"==t.headerPosition||"right"==t.headerPosition;Ext.isObject(n)||!1!==n&&(e||i||o||r&&r.length||t.collapsible&&!t.titleCollapse)?(n&&n.isHeader?n.show():(n=t.header=Ext.widget(Ext.apply({xtype:"header",title:i,titleAlign:t.titleAlign,orientation:a?"vertical":"horizontal",dock:t.headerPosition||"top",textCls:t.headerTextCls,iconCls:t.iconCls,icon:t.icon,glyph:t.glyph,baseCls:t.baseCls+"-header",tools:r,ui:t.ui,id:t.id+"_header",overCls:t.headerOverCls,indicateDrag:t.draggable,frame:(t.frame||t.alwaysFramed)&&t.frameHeader,ignoreParentFrame:t.frame||t.overlapHeader,ignoreBorderManagement:t.frame||t.ignoreHeaderBorderManagement,ownerCt:t,listeners:t.collapsible&&t.titleCollapse?{click:t.toggleCollapse,scope:t}:null},t.header)),t.addDocked(n,0)),t.initHeaderAria()):n&&n.hide()},setUI:function(e){var t=this;t.callParent(arguments),t.header&&t.header.rendered&&t.header.setUI(e)},getDefaultContentTarget:function(){return this.body},getTargetEl:function(){var e=this;return e.body||e.protoBody||e.frameBody||e.el},isVisible:function(e){var t=this;return t.collapsed&&t.placeholder?t.placeholder.isVisible(e):t.callParent(arguments)},onHide:function(){var e=this;e.collapsed&&e.placeholder?e.placeholder.hide():e.callParent(arguments)},onShow:function(){var e=this;e.collapsed&&e.isPlaceHolderCollapse()?(e.hidden=!0,e.placeholderCollapse()):e.callParent(arguments)},onRemoved:function(e){var t=this;t.placeholder&&!e&&t.ownerCt.remove(t.placeholder,!1),t.callParent(arguments)},addTool:function(e){Ext.isArray(e)||(e=[e]);var t,n,i=this,r=i.header,o=e.length;for(t=0;t<o;t++)n=e[t],r&&r.isHeader?r.addTool(n):i.tools.push(n);i.updateHeader()},getOppositeDirection:function(e){var t=Ext.Component;switch(e){case t.DIRECTION_TOP:return t.DIRECTION_BOTTOM;case t.DIRECTION_RIGHT:return t.DIRECTION_LEFT;case t.DIRECTION_BOTTOM:return t.DIRECTION_TOP;case t.DIRECTION_LEFT:return t.DIRECTION_RIGHT}},getWidthAuthority:function(){return this.collapsed&&this.collapsedHorizontal()?1:this.callParent()},getHeightAuthority:function(){return this.collapsed&&this.collapsedVertical()?1:this.callParent()},collapsedHorizontal:function(){var e=this.getCollapsed();return"left"==e||"right"==e},collapsedVertical:function(){var e=this.getCollapsed();return"top"==e||"bottom"==e},restoreDimension:function(){var e=this.collapseDirection;return"top"===e||"bottom"===e?"height":"width"},getCollapsed:function(){var e=this;return!0===e.collapsed?e.collapseDirection:e.collapsed},getState:function(){var e,t=this,n=t.callParent();return n=t.addPropertyToState(n,"collapsed"),t.collapsed&&(e=(e=t.collapseMemento)&&e.data,t.collapsedVertical()?(n&&delete n.height,e&&(n=t.addPropertyToState(n,"height",e.height))):(n&&delete n.width,e&&(n=t.addPropertyToState(n,"width",e.width)))),n},findReExpander:function(e){var t,n,i=Ext.Component,r=this.dockedItems.items,o=r.length;if("mini"!=this.collapseMode)switch(e){case i.DIRECTION_TOP:case i.DIRECTION_BOTTOM:for(n=0;n<o;n++)if(!(t=r[n]).hidden&&t.isHeader&&(!t.dock||"top"==t.dock||"bottom"==t.dock))return t;break;case i.DIRECTION_LEFT:case i.DIRECTION_RIGHT:for(n=0;n<o;n++)if(!(t=r[n]).hidden&&t.isHeader&&("left"==t.dock||"right"==t.dock))return t;break;default:throw"Panel#findReExpander must be passed a valid collapseDirection"}},getReExpander:function(e){var t=this,n=e||t.collapseDirection,i=t.reExpander||t.findReExpander(n);return t.expandDirection=t.getOppositeDirection(n),i||(t.reExpander=i=t.createReExpander(n,{dock:n,cls:Ext.baseCSSPrefix+"docked "+t.baseCls+"-"+t.ui+"-collapsed"}),t.dockedItems.insert(0,i)),i},createReExpander:function(e,t){var n=this,i="left"==e,r="right"==e,o=i||r,a=Ext.apply({hideMode:"offsets",title:n.title||"&#160;",titleAlign:n.titleAlign,orientation:o?"vertical":"horizontal",textCls:n.headerTextCls,icon:n.icon,iconCls:n.iconCls,glyph:n.glyph,baseCls:n.self.prototype.baseCls+"-header",ui:n.ui,frame:n.frame&&n.frameHeader,ignoreParentFrame:n.frame||n.overlapHeader,indicateDrag:n.draggable,collapseImmune:!0,ownerCt:n.ownerCt,ownerLayout:n.componentLayout},t);return"mini"==n.collapseMode&&(o?a.width=1:a.height=1),n.hideCollapseTool||((i||r&&n.isPlaceHolderCollapse())&&(a.titlePosition=1),a.tools=[{xtype:"tool",type:"expand-"+n.getOppositeDirection(e),uiCls:["top"],handler:n.toggleCollapse,scope:n}]),(a=new Ext.panel.Header(a)).addClsWithUI(n.getHeaderCollapsedClasses(a)),a},getHeaderCollapsedClasses:function(e){var t,n=this,i=n.collapsedCls;return t=[i,i+"-"+e.getDockName()],n.border&&(!n.frame||n.frame&&Ext.supports.CSS3BorderRadius)&&t.push(i+"-border-"+e.getDockName()),t},beginCollapse:function(){var e,t=this,n=t.lastBox,i=t.rendered,r=t.collapseMemento||(t.collapseMemento=new Ext.util.Memento(t)),o=t.getSizeModel(),a=t.header;r.capture(["height","minHeight","width","minWidth"]),n&&r.capture(t.restoreDimension(),n,"last."),t.collapsedVertical()?(o.width.shrinkWrap&&(t.width=i?t.getWidth():t.width||t.minWidth||100),delete t.height,t.minHeight=0):t.collapsedHorizontal()&&(o.height.shrinkWrap&&(t.height=i?t.getHeight():t.height||t.minHeight||100),delete t.width,t.minWidth=0),t.ownerCt&&t.ownerCt.getLayout().beginCollapse(t),t.isPlaceHolderCollapse()||!1===a||(a===(e=t.getReExpander())?(a.collapseImmune=!0,a.getHierarchyState().collapseImmune=!0,a.addClsWithUI(t.getHeaderCollapsedClasses(a)),a.rendered&&a.updateFrame()):e.el&&(e.el.show(),e.hidden=!1)),t.resizer&&t.resizer.disable()},beginExpand:function(){var e,t=this,n=t.lastBox,i=t.collapseMemento,r=this.restoreDimension(),o=t.header;i&&(i.restore(["minHeight","minWidth",r]),n&&i.restore(r,!0,n,"last.")),t.ownerCt&&t.ownerCt.getLayout().beginExpand(t),t.isPlaceHolderCollapse()||!1===o||(o===(e=t.getReExpander())?(delete o.collapseImmune,delete o.getHierarchyState().collapseImmune,o.removeClsWithUI(t.getHeaderCollapsedClasses(o)),o.rendered&&o.updateFrame()):(e.hidden=!0,e.el.hide())),t.resizer&&t.resizer.enable()},collapse:function(e,t){var n=this,i=e||n.collapseDirection,r=n.ownerCt;return n.isCollapsingOrExpanding?n:(arguments.length<2&&(t=n.animCollapse),n.collapsed||!1===n.fireEvent("beforecollapse",n,e,t)?n:r&&n.isPlaceHolderCollapse()?n.placeholderCollapse(e,t):(n.collapsed=i,n.beginCollapse(),n.getHierarchyState().collapsed=!0,n.fireHierarchyEvent("collapse"),n.doCollapseExpand(1,t)))},doCollapseExpand:function(e,t){var n=this,i=n.animCollapse,r=n.ownerLayout;return n.animCollapse=t,n.isCollapsingOrExpanding=e,t&&n.addCls(Ext.baseCSSPrefix+"animating-size"),r&&!t?r.onContentChange(n):n.updateLayout({isRoot:!0}),n.animCollapse=i,n},afterCollapse:function(e){var t=this,n=t.ownerLayout;t.isCollapsingOrExpanding=0,t.collapseTool&&t.collapseTool.setType("expand-"+t.getOppositeDirection(t.collapseDirection)),e&&t.removeCls(Ext.baseCSSPrefix+"animating-size"),n&&e&&n.onContentChange(t),t.setHiddenDocked(),t.fireEvent("collapse",t)},setHiddenDocked:function(){var e,t,n=this,i=n.hiddenOnCollapse,r=n.getDockedItems(),o=r.length,a=0;for(!1!==n.header&&(t=n.getReExpander()),i.add(n.body);a<o;a++)(e=r[a])&&e!==t&&e.el&&i.add(e.el);i.setStyle("visibility","hidden")},restoreHiddenDocked:function(){var e=this.hiddenOnCollapse;e.setStyle("visibility",""),e.clear()},getPlaceholder:function(e){var t=this,n=e||t.collapseDirection,i=null,r=t.placeholder,o=t.floatable,a=t.titleCollapse;return r||((o||t.collapsible&&a)&&(i={click:{fn:!a&&o?t.floatCollapsedPanel:t.toggleCollapse,element:"el",scope:t}}),t.placeholder=r=Ext.widget(t.createReExpander(n,{id:t.id+"-placeholder",listeners:i}))),r.placeholderFor||(r.isComponent||(t.placeholder=r=t.lookupComponent(r)),Ext.applyIf(r,{margins:t.margins,placeholderFor:t}),r.addCls([Ext.baseCSSPrefix+"region-collapsed-placeholder",Ext.baseCSSPrefix+"region-collapsed-"+n+"-placeholder",t.collapsedCls])),r},placeholderCollapse:function(e,t){var n,i=this,r=i.ownerCt,o=e||i.collapseDirection,a=Ext.baseCSSPrefix+"border-region-slide-in",s=i.getPlaceholder(e);return i.isCollapsingOrExpanding=1,i.hidden=!0,i.collapsed=o,s.rendered?(s.el.dom.parentNode!==i.el.dom.parentNode&&i.el.dom.parentNode.insertBefore(s.el.dom,i.el.dom),s.hidden=!1,s.el.show(),r.updateLayout()):r.insert(r.items.indexOf(i),s),i.rendered?(i.el.setVisibilityMode(i.placeholderCollapseHideMode),t?(i.el.addCls(a),s.el.hide(),n=i.convertCollapseDir(o),i.el.slideOut(n,{preserveScroll:!0,duration:Ext.Number.from(t,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){i.el.removeCls(a),s.el.show().setStyle("display","none").slideIn(n,{easing:"linear",duration:100,listeners:{afteranimate:function(){s.focus(),i.isCollapsingOrExpanding=0,i.fireEvent("collapse",i)}}})}}})):(i.el.hide(),i.isCollapsingOrExpanding=0,i.fireEvent("collapse",i))):(i.isCollapsingOrExpanding=0,i.preventCollapseFire||i.fireEvent("collapse",i)),i},floatCollapsedPanel:function(){var e,t,n=this,i=n.placeholder,r=i.getSize(),o=Ext.baseCSSPrefix+"border-region-slide-in",a=n.collapsed,s=n.ownerCt||n;if(!n.isSliding)if(n.el.hasCls(o))n.slideOutFloatedPanel();else{switch(n.isSliding=!0,i.el.hide(),i.hidden=!0,n.el.show(),n.hidden=!1,n.collapsed=!1,s.updateLayout(),e=n.getBox(!1,!0),i.el.show(),i.hidden=!1,n.el.hide(),n.hidden=!0,n.collapsed=a,s.updateLayout(),n.slideOutTask=n.slideOutTask||new Ext.util.DelayedTask(n.slideOutFloatedPanel,n),i.el.on("mouseleave",n.onMouseLeaveFloated,n),n.el.on("mouseleave",n.onMouseLeaveFloated,n),i.el.on("mouseenter",n.onMouseEnterFloated,n),n.el.on("mouseenter",n.onMouseEnterFloated,n),n.el.addCls(o),n.floated=!0,n.collapseTool&&n.collapseTool.el.hide(),n.collapsed){case"top":n.setLocalXY(e.x,e.y+r.height-1);break;case"right":n.setLocalXY(e.x-r.width+1,e.y);break;case"bottom":n.setLocalXY(e.x,e.y-r.height+1);break;case"left":n.setLocalXY(e.x+r.width-1,e.y)}t=n.convertCollapseDir(n.collapsed),n.floatedFromCollapse=n.collapsed,n.collapsed=n.hidden=!1,n.el.slideIn(t,{preserveScroll:!0,duration:Ext.Number.from(n.animCollapse,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){n.isSliding=!1,n.fireEvent("float",n)}}})}},onMouseLeaveFloated:function(e){this.slideOutTask.delay(500)},onMouseEnterFloated:function(e){this.slideOutTask.cancel()},isLayoutRoot:function(){return!!this.floatedFromCollapse||this.callParent()},slideOutFloatedPanel:function(){var e,t=this,n=this.el;t.isSliding||t.isDestroyed||(t.isSliding=!0,t.floated=!1,t.slideOutFloatedPanelBegin(),"string"==typeof t.collapsed&&(e=t.convertCollapseDir(t.collapsed)),n.slideOut(e,{preserveScroll:!0,duration:Ext.Number.from(t.animCollapse,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){t.slideOutFloatedPanelEnd(),t.el.removeCls(Ext.baseCSSPrefix+"border-region-slide-in")}}}))},slideOutFloatedPanelBegin:function(){var e=this,t=e.placeholder.el,n=e.el;e.collapsed=e.floatedFromCollapse,e.hidden=!0,e.floatedFromCollapse=null,t.un("mouseleave",e.onMouseLeaveFloated,e),n.un("mouseleave",e.onMouseLeaveFloated,e),t.un("mouseenter",e.onMouseEnterFloated,e),n.un("mouseenter",e.onMouseEnterFloated,e)},slideOutFloatedPanelEnd:function(){var e=this;e.collapseTool&&e.collapseTool.el.show(),e.isSliding=!1,e.fireEvent("unfloat",e)},expand:function(e){var t=this;return t.isCollapsingOrExpanding?t:(arguments.length||(e=t.animCollapse),t.collapsed||t.floatedFromCollapse?!1===t.fireEvent("beforeexpand",t,e)?t:(delete this.getHierarchyState().collapsed,t.isPlaceHolderCollapse()?t.placeholderExpand(e):(t.restoreHiddenDocked(),t.beginExpand(),t.collapsed=!1,t.doCollapseExpand(2,e))):t)},placeholderExpand:function(e){var t,n,i=this,r=i.collapsed,o=Ext.baseCSSPrefix+"border-region-slide-in",a=i.ownerLayout?i.ownerLayout.centerRegion:null;return Ext.AbstractComponent.layoutSuspendCount&&(e=!1),i.floatedFromCollapse&&(n=i.getPosition(!0),i.slideOutFloatedPanelBegin(),i.slideOutFloatedPanelEnd(),i.floated=!1),e?(Ext.suspendLayouts(),i.placeholder.hide(),i.el.show(),i.hidden=i.collapsed=!1,a&&!n&&(a.hidden=!0),Ext.resumeLayouts(!0),a.hidden=!1,i.el.addCls(o),i.isCollapsingOrExpanding=2,n?(t=i.getXY(),i.setLocalXY(n[0],n[1]),i.setXY([t[0],t[1]],{duration:Ext.Number.from(e,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){i.el.removeCls(o),i.isCollapsingOrExpanding=0,i.fireEvent("expand",i)}}})):(i.el.hide(),i.placeholder.el.show(),i.placeholder.hidden=!1,i.hidden=!1,i.el.slideIn(i.convertCollapseDir(r),{preserveScroll:!0,duration:Ext.Number.from(e,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){i.el.removeCls(o),i.placeholder.hide(),i.updateLayout(),i.isCollapsingOrExpanding=0,i.fireEvent("expand",i)}}}))):(i.floated=i.collapsed=!1,Ext.suspendLayouts(),i.placeholder.hide(),i.show(),Ext.resumeLayouts(!0),i.fireEvent("expand",i)),i},afterExpand:function(e){var t=this,n=t.ownerLayout;t.isCollapsingOrExpanding=0,t.collapseTool&&t.collapseTool.setType("collapse-"+t.collapseDirection),e&&t.removeCls(Ext.baseCSSPrefix+"animating-size"),n&&e&&n.onContentChange(t),t.fireEvent("expand",t),t.fireHierarchyEvent("expand")},setBorder:function(e,t){if(!t){var n=this,i=n.header;e=e?!0===e?"1px":Ext.Element.unitizeBox(e):0,i&&(i.isHeader?i.setBorder(e):i.border=e),n.rendered&&!1!==n.bodyBorder&&n.body.setStyle("border-width",e),n.updateLayout(),n.border=e}},toggleCollapse:function(){return this.collapsed||this.floatedFromCollapse?this.expand():this.collapse()},getKeyMap:function(){return this.keyMap||(this.keyMap=new Ext.util.KeyMap(Ext.apply({target:this.el},this.keys)))},initDraggable:function(){this.simpleDrag?this.initSimpleDraggable():this.dd=new Ext.panel.DD(this,Ext.isBoolean(this.draggable)?null:this.draggable)},initSimpleDraggable:function(){var e,t,n=this;n.header||n.updateHeader(!0),n.header&&(e=Ext.applyIf({el:n.el,delegate:"#"+Ext.escapeId(n.header.id)},n.draggable),(n.constrain||n.constrainHeader)&&(e.constrain=n.constrain,e.constrainDelegate=n.constrainHeader,e.constrainTo=n.constrainTo||n.container),t=n.dd=new Ext.util.ComponentDragger(this,e),n.relayEvents(t,["dragstart","drag","dragend"]),n.maximized&&t.disable())},ghostTools:function(){var e,t,n,i=[],r=this.header,o=r?r.query("tool[hidden=false]"):[];if(o.length)for(e=0,t=o.length;e<t;e++)n=o[e],i.push({type:n.type});else i=[{type:"placeholder"}];return i},ghost:function(e){var t,n=this,i=n.ghostPanel,r=n.getBox();return i?i.el.show():(i=new Ext.panel.Panel({renderTo:Ext.getBody(),floating:{shadow:!1},frame:n.frame&&!n.alwaysFramed,alwaysFramed:n.alwaysFramed,overlapHeader:n.overlapHeader,headerPosition:n.headerPosition,baseCls:n.baseCls,cls:n.baseCls+"-ghost "+(e||"")}),n.ghostPanel=i),n.ghostPanel.hidden=!1,i.floatParent=n.floatParent,n.floating?i.setZIndex(Ext.Number.from(n.el.getStyle("zIndex"),0)):i.toFront(),n.preventHeader||!1===n.header||((t=i.header)&&(t.suspendLayouts(),Ext.Array.forEach(t.query("tool"),t.remove,t),t.resumeLayouts()),i.addTool(n.ghostTools()),i.setTitle(n.title),n.iconCls?i.setIconCls(n.iconCls):n.icon?i.setIcon(n.icon):n.glyph&&i.setGlyph(n.glyph),i.header.addCls(Ext.baseCSSPrefix+"header-ghost")),i.setPagePosition(r.x,r.y),i.setSize(r.width,r.height),n.el.hide(),i},unghost:function(e,t){var n=this;n.ghostPanel&&(!1!==e&&(n.el.show(),!1!==t&&(n.setPagePosition(n.ghostPanel.getXY()),"offsets"==n.hideMode&&delete n.el.hideModeStyles),Ext.defer(n.focus,10,n)),n.ghostPanel.el.hide(),n.ghostPanel.hidden=!0)},beginDrag:function(){this.floatingDescendants&&this.floatingDescendants.hide()},endDrag:function(){this.floatingDescendants&&this.floatingDescendants.show()},initResizable:function(){this.callParent(arguments),this.collapsed&&this.resizer.disable()},convertCollapseDir:function(e){return e.substr(0,1)}},function(){this.prototype.animCollapse=Ext.enableFx}),Ext.define("Ext.tip.Tip",{extend:Ext.panel.Panel,alternateClassName:"Ext.Tip",minWidth:40,maxWidth:300,shadow:"sides",defaultAlign:"tl-bl?",constrainPosition:!0,autoRender:!0,hidden:!0,baseCls:Ext.baseCSSPrefix+"tip",floating:{shadow:!0,shim:!0},focusOnToFront:!1,closeAction:"hide",ariaRole:"tooltip",alwaysFramed:!0,frameHeader:!1,initComponent:function(){var e=this;e.floating=Ext.apply({},{shadow:e.shadow,constrain:e.constrainPosition},e.self.prototype.floating),e.callParent(arguments),e.constrain=e.constrain||e.constrainPosition},showAt:function(e){var t=this;this.callParent(arguments),t.isVisible()&&(t.setPagePosition(e[0],e[1]),(t.constrainPosition||t.constrain)&&t.doConstrain(),t.toFront(!0))},showBy:function(e,t){this.showAt(this.getAlignToXY(e,t||this.defaultAlign))},initDraggable:function(){var e=this;e.draggable={el:e.getDragEl(),delegate:e.header.el,constrain:e,constrainTo:e.el.dom.parentNode},Ext.Component.prototype.initDraggable.call(e)},ghost:void 0,unghost:void 0}),Ext.define("Ext.tip.ToolTip",{extend:Ext.tip.Tip,alias:"widget.tooltip",alternateClassName:"Ext.ToolTip",autoHide:!0,showDelay:500,hideDelay:200,dismissDelay:5e3,trackMouse:!1,anchorToTarget:!0,anchorOffset:0,targetCounter:0,quickShowInterval:250,initComponent:function(){var e=this;e.callParent(arguments),e.lastActive=new Date,e.setTarget(e.target),e.origAnchor=e.anchor},onRender:function(e,t){var n=this;n.callParent(arguments),n.anchorCls=Ext.baseCSSPrefix+"tip-anchor-"+n.getAnchorPosition(),n.anchorEl=n.el.createChild({cls:Ext.baseCSSPrefix+"tip-anchor "+n.anchorCls})},setTarget:function(e){var t,n=this,i=Ext.get(e);n.target&&(t=Ext.get(n.target),n.mun(t,"mouseover",n.onTargetOver,n),n.mun(t,"mouseout",n.onTargetOut,n),n.mun(t,"mousemove",n.onMouseMove,n)),n.target=i,i&&n.mon(i,{freezeEvent:!0,mouseover:n.onTargetOver,mouseout:n.onTargetOut,mousemove:n.onMouseMove,scope:n}),n.anchor&&(n.anchorTarget=n.target)},onMouseMove:function(e){var t,n=this,i=n.delegate?e.getTarget(n.delegate):n.triggerElement=!0;i?(n.targetXY=e.getXY(),i===n.triggerElement?!n.hidden&&n.trackMouse&&(t=n.getTargetXY(),n.constrainPosition&&(t=n.el.adjustForConstraints(t,n.el.parent())),n.setPagePosition(t)):(n.hide(),n.lastActive=new Date(0),n.onTargetOver(e))):!n.closable&&n.isVisible()&&!1!==n.autoHide&&n.hide()},getTargetXY:function(){var e,t,n,i,r,o,a,s,l,d,c,u,h=this;if(h.delegate&&(h.anchorTarget=h.triggerElement),h.anchor){if(h.targetCounter++,t=h.getOffsets(),n=h.anchorToTarget&&!h.trackMouse?h.getAlignToXY(h.anchorTarget,h.getAnchorAlign()):h.targetXY,i=Ext.Element.getViewWidth()-5,r=Ext.Element.getViewHeight()-5,o=document.documentElement,a=document.body,s=(o.scrollLeft||a.scrollLeft||0)+5,l=(o.scrollTop||a.scrollTop||0)+5,d=[n[0]+t[0],n[1]+t[1]],c=h.getSize(),u=h.constrainPosition,h.anchorEl.removeCls(h.anchorCls),h.targetCounter<2&&u){if(d[0]<s)return h.anchorToTarget&&(h.defaultAlign="l-r",h.mouseOffset&&(h.mouseOffset[0]*=-1)),h.anchor="left",h.getTargetXY();if(d[0]+c.width>i)return h.anchorToTarget&&(h.defaultAlign="r-l",h.mouseOffset&&(h.mouseOffset[0]*=-1)),h.anchor="right",h.getTargetXY();if(d[1]<l)return h.anchorToTarget&&(h.defaultAlign="t-b",h.mouseOffset&&(h.mouseOffset[1]*=-1)),h.anchor="top",h.getTargetXY();if(d[1]+c.height>r)return h.anchorToTarget&&(h.defaultAlign="b-t",h.mouseOffset&&(h.mouseOffset[1]*=-1)),h.anchor="bottom",h.getTargetXY()}return h.anchorCls=Ext.baseCSSPrefix+"tip-anchor-"+h.getAnchorPosition(),h.anchorEl.addCls(h.anchorCls),h.targetCounter=0,d}return e=h.getMouseOffset(),h.targetXY?[h.targetXY[0]+e[0],h.targetXY[1]+e[1]]:e},getMouseOffset:function(){var e=this,t=e.anchor?[0,0]:[15,18];return e.mouseOffset&&(t[0]+=e.mouseOffset[0],t[1]+=e.mouseOffset[1]),t},getAnchorPosition:function(){var e,t=this;switch(t.anchor?t.tipAnchor=t.anchor.charAt(0):((e=t.defaultAlign.match(/^([a-z]+)-([a-z]+)(\?)?$/))||Ext.Error.raise('The AnchorTip.defaultAlign value "'+t.defaultAlign+'" is invalid.'),t.tipAnchor=e[1].charAt(0)),t.tipAnchor){case"t":return"top";case"b":return"bottom";case"r":return"right"}return"left"},getAnchorAlign:function(){switch(this.anchor){case"top":return"tl-bl";case"left":return"tl-tr";case"right":return"tr-tl";default:return"bl-tl"}},getOffsets:function(){var e,t,n=this,i=n.getAnchorPosition().charAt(0);if(n.anchorToTarget&&!n.trackMouse)switch(i){case"t":t=[0,9];break;case"b":t=[0,-13];break;case"r":t=[-13,0];break;default:t=[9,0]}else switch(i){case"t":t=[-15-n.anchorOffset,30];break;case"b":t=[-19-n.anchorOffset,-13-n.el.dom.offsetHeight];break;case"r":t=[-15-n.el.dom.offsetWidth,-13-n.anchorOffset];break;default:t=[25,-13-n.anchorOffset]}return e=n.getMouseOffset(),t[0]+=e[0],t[1]+=e[1],t},onTargetOver:function(e){var t,n=this;n.disabled||e.within(n.target.dom,!0)||(t=e.getTarget(n.delegate))&&(n.triggerElement=t,n.triggerEvent=e,n.clearTimer("hide"),n.targetXY=e.getXY(),n.delayShow())},delayShow:function(){var e=this;e.hidden&&!e.showTimer?Ext.Date.getElapsed(e.lastActive)<e.quickShowInterval?e.show():e.showTimer=Ext.defer(e.showFromDelay,e.showDelay,e):e.hidden||!1===e.autoHide||e.show()},showFromDelay:function(){this.fromDelayShow=!0,this.show(),delete this.fromDelayShow},onShowVeto:function(){this.callParent(),delete this.triggerElement,this.clearTimer("show")},onTargetOut:function(e){var t=this;t.disabled||e.within(t.target.dom,!0)||(t.clearTimer("show"),!1!==t.autoHide&&t.delayHide())},delayHide:function(){var e=this;e.hidden||e.hideTimer||(e.hideTimer=Ext.defer(e.hide,e.hideDelay,e))},hide:function(){var e=this;e.clearTimer("dismiss"),e.lastActive=new Date,e.anchorEl&&e.anchorEl.hide(),e.callParent(arguments),delete e.triggerElement},show:function(){var e=this;this.callParent(),!1===this.hidden&&(e.setPagePosition(-1e4,-1e4),e.anchor&&(e.anchor=e.origAnchor),e.calledFromShowAt||e.showAt(e.getTargetXY()),e.anchor?(e.syncAnchor(),e.anchorEl.show()):e.anchorEl.hide())},showAt:function(e){var t=this;t.lastActive=new Date,t.clearTimers(),t.calledFromShowAt=!0,t.isVisible()||this.callParent(arguments),t.isVisible()&&(t.setPagePosition(e[0],e[1]),(t.constrainPosition||t.constrain)&&t.doConstrain(),t.toFront(!0),t.el.sync(!0),t.dismissDelay&&!1!==t.autoHide&&(t.dismissTimer=Ext.defer(t.hide,t.dismissDelay,t)),t.anchor?(t.syncAnchor(),t.anchorEl.isVisible()||t.anchorEl.show()):t.anchorEl.hide()),delete t.calledFromShowAt},syncAnchor:function(){var e,t,n,i=this;switch(i.tipAnchor.charAt(0)){case"t":e="b",t="tl",n=[20+i.anchorOffset,1];break;case"r":e="l",t="tr",n=[-1,12+i.anchorOffset];break;case"b":e="t",t="bl",n=[20+i.anchorOffset,-1];break;default:e="r",t="tl",n=[1,12+i.anchorOffset]}i.anchorEl.alignTo(i.el,e+"-"+t,n),i.anchorEl.setStyle("z-index",parseInt(i.el.getZIndex(),10)||1).setVisibilityMode(Ext.Element.DISPLAY)},setPagePosition:function(e,t){var n=this;n.callParent(arguments),n.anchor&&n.syncAnchor()},clearTimer:function(e){e+="Timer",clearTimeout(this[e]),delete this[e]},clearTimers:function(){var e=this;e.clearTimer("show"),e.clearTimer("dismiss"),e.clearTimer("hide")},onShow:function(){var e=this;e.callParent(),e.mon(Ext.getDoc(),"mousedown",e.onDocMouseDown,e)},onHide:function(){var e=this;e.callParent(),e.mun(Ext.getDoc(),"mousedown",e.onDocMouseDown,e)},onDocMouseDown:function(e){var t=this;t.closable||e.within(t.el.dom)||(t.disable(),Ext.defer(t.doEnable,100,t))},doEnable:function(){this.isDestroyed||this.enable()},onDisable:function(){this.callParent(),this.clearTimers(),this.hide()},beforeDestroy:function(){var e=this;e.clearTimers(),Ext.destroy(e.anchorEl),delete e.anchorEl,delete e.target,delete e.anchorTarget,delete e.triggerElement,e.callParent()},onDestroy:function(){Ext.getDoc().un("mousedown",this.onDocMouseDown,this),this.callParent()}}),Ext.define("Ext.tip.QuickTip",{extend:Ext.tip.ToolTip,alias:"widget.quicktip",alternateClassName:"Ext.QuickTip",interceptTitles:!1,title:"&#160;",tagConfig:{namespace:"data-",attribute:"qtip",width:"qwidth",target:"target",title:"qtitle",hide:"hide",cls:"qclass",align:"qalign",anchor:"anchor",showDelay:"qshowDelay"},initComponent:function(){var e=this;e.target=e.target||Ext.getDoc(),e.targets=e.targets||{},e.callParent()},register:function(e){for(var t,n,i,r=Ext.isArray(e)?e:arguments,o=0,a=r.length;o<a;o++)if(t=(e=r[o]).target)if(Ext.isArray(t))for(n=0,i=t.length;n<i;n++)this.targets[Ext.id(t[n])]=e;else this.targets[Ext.id(t)]=e},unregister:function(e){delete this.targets[Ext.id(e)]},cancelShow:function(e){var t=this,n=t.activeTarget;e=Ext.get(e).dom,t.isVisible()?n&&n.el==e&&t.hide():n&&n.el==e&&t.clearTimer("show")},getTipCfg:function(e){var t,n=e.getTarget(),i=n.title;return this.interceptTitles&&i&&Ext.isString(i)?(n.qtip=i,n.removeAttribute("title"),e.preventDefault(),{text:i}):(t=this.tagConfig,(n=e.getTarget("["+t.namespace+t.attribute+"]"))?{target:n,text:n.getAttribute(t.namespace+t.attribute)}:void 0)},onTargetOver:function(e){var t,n,i,r,o,a,s,l,d,c,u,h=this,f=e.getTarget(h.delegate);if(!h.disabled&&(h.targetXY=e.getXY(),f&&1===f.nodeType&&f!=document.documentElement&&f!=document.body))if(!h.activeTarget||f!=h.activeTarget.el&&!Ext.fly(h.activeTarget.el).contains(f)){if(f){for(u in l=h.targets)if(l.hasOwnProperty(u)&&(c=l[u],(d=Ext.fly(c.target))&&(d.dom===f||d.contains(f)))){i=d.dom;break}if(i)return h.activeTarget=h.targets[i.id],h.activeTarget.el=f,h.anchor=h.activeTarget.anchor,h.anchor&&(h.anchorTarget=f),(t=parseInt(h.activeTarget.showDelay,10))&&(n=h.showDelay,h.showDelay=t),h.delayShow(),void(t&&(h.showDelay=n))}i=Ext.fly(f,"_quicktip-target"),o=(r=h.tagConfig).namespace,(a=h.getTipCfg(e))&&(a.target&&(f=a.target,i=Ext.fly(f,"_quicktip-target")),s=i.getAttribute(o+r.hide),h.activeTarget={el:f,text:a.text,width:+i.getAttribute(o+r.width)||null,autoHide:"user"!=s&&"false"!==s,title:i.getAttribute(o+r.title),cls:i.getAttribute(o+r.cls),align:i.getAttribute(o+r.align),showDelay:parseInt(i.getAttribute(o+r.showDelay),10)},h.anchor=i.getAttribute(o+r.anchor),h.anchor&&(h.anchorTarget=f),(t=parseInt(h.activeTarget.showDelay,10))&&(n=h.showDelay,h.showDelay=t),h.delayShow(),t&&(h.showDelay=n))}else h.targetTextEmpty()?(h.onShowVeto(),delete h.activeTarget):(h.clearTimer("hide"),h.show())},onTargetOut:function(e){var t,n,i=this,r=i.activeTarget;r&&e.within(i.activeTarget.el)&&!i.getTipCfg(e)||(i.clearTimer("show"),delete i.activeTarget,!1!==i.autoHide&&((t=r&&parseInt(r.hideDelay,10))&&(n=i.hideDelay,i.hideDelay=t),i.delayHide(),t&&(i.hideDelay=n)))},targetTextEmpty:function(){var e,t=this,n=t.activeTarget,i=t.tagConfig;return!(!n||!(e=n.el)||e.getAttribute(i.namespace+i.attribute)||t.targets[n.target])},show:function(){var e=this;if(e.fromDelayShow&&e.targetTextEmpty())return e.onShowVeto(),void delete e.activeTarget;e.callParent(arguments)},showAt:function(e){var t,n=this,i=n.activeTarget,r=n.header;i&&(n.rendered||(n.render(Ext.getBody()),n.activeTarget=i),n.suspendLayouts(),i.title?(n.setTitle(i.title),r.show()):r&&r.hide(),n.update(i.text),n.autoHide=i.autoHide,n.dismissDelay=i.dismissDelay||n.dismissDelay,i.mouseOffset&&(e[0]+=i.mouseOffset[0],e[1]+=i.mouseOffset[1]),(t=n.lastCls)&&(n.removeCls(t),delete n.lastCls),(t=i.cls)&&(n.addCls(t),n.lastCls=t),n.setWidth(i.width),n.anchor?n.constrainPosition=!1:i.align?(e=n.getAlignToXY(i.el,i.align),n.constrainPosition=!1):n.constrainPosition=!0,n.resumeLayouts(!0)),n.callParent([e])},hide:function(){delete this.activeTarget,this.callParent()}}),Ext.define("Ext.tip.QuickTipManager",function(){var e,t=!1;return{singleton:!0,alternateClassName:"Ext.QuickTips",init:function(n,i){if(!e){if(!Ext.isReady)return void Ext.onReady(function(){Ext.tip.QuickTipManager.init(n,i)});var r=Ext.apply({disabled:t,id:"ext-quicktips-tip"},i),o=r.className,a=r.xtype;o?delete r.className:a&&(o="widget."+a,delete r.xtype),!1!==n&&(r.renderTo=document.body,"BODY"!=r.renderTo.tagName.toUpperCase()&&Ext.Error.raise({sourceClass:"Ext.tip.QuickTipManager",sourceMethod:"init",msg:"Cannot init QuickTipManager: no document body"})),e=Ext.create(o||"Ext.tip.QuickTip",r),Ext.quickTipsActive=!0}},destroy:function(){e&&(e.destroy(),e=void 0)},ddDisable:function(){e&&!t&&e.disable()},ddEnable:function(){e&&!t&&e.enable()},enable:function(){e&&e.enable(),t=!1},disable:function(){e&&e.disable(),t=!0},isEnabled:function(){return void 0!==e&&!e.disabled},getQuickTip:function(){return e},register:function(){e.register.apply(e,arguments)},unregister:function(){e.unregister.apply(e,arguments)},tips:function(){e.register.apply(e,arguments)}}}()),Ext.define("Ext.layout.container.Table",{alias:["layout.table"],extend:Ext.layout.container.Container,alternateClassName:"Ext.layout.TableLayout",monitorResize:!1,type:"table",createsInnerCt:!0,targetCls:Ext.baseCSSPrefix+"table-layout-ct",tableCls:Ext.baseCSSPrefix+"table-layout",cellCls:Ext.baseCSSPrefix+"table-layout-cell",tableAttrs:null,getItemSizePolicy:function(e){return this.autoSizePolicy},initHierarchyState:function(e){e.inShrinkWrapTable=!0},getLayoutItems:function(){var e,t,n=[],i=this.callParent(),r=i.length;for(t=0;t<r;t++)(e=i[t]).hidden||n.push(e);return n},getHiddenItems:function(){for(var e,t=[],n=this.owner.items.items,i=n.length,r=0;r<i;++r)(e=n[r]).rendered&&e.hidden&&t.push(e);return t},renderChildren:function(){var e,t,n,i,r,o,a,s,l=this,d=l.getLayoutItems(),c=l.owner.getTargetEl().child("table",!0).tBodies[0],u=c.rows,h=0,f=d.length,p=l.getHiddenItems();for(e=l.calculateCells(d);h<f;h++)if(n=(t=e[h]).rowIdx,i=t.cellIdx,r=d[h],(o=u[n])||(o=c.insertRow(n),l.trAttrs&&o.set(l.trAttrs)),s=a=Ext.get(o.cells[i]||o.insertCell(i)),l.needsDivWrap()&&(s=a.first()||a.createChild({tag:"div"})).setWidth(null),r.rendered?l.isValidParent(r,s,n,i,c)||l.moveItem(r,s,0):l.renderItem(r,s,0),l.tdAttrs&&a.set(l.tdAttrs),r.tdAttrs&&a.set(r.tdAttrs),a.set({colSpan:r.colspan||1,rowSpan:r.rowspan||1,id:r.cellId||"",cls:l.cellCls+" "+(r.cellCls||"")}),!e[h+1]||e[h+1].rowIdx!==n)for(i++;o.cells[i];)o.deleteCell(i);for(n++;c.rows[n];)c.deleteRow(n);for(h=0,f=p.length;h<f;++h)l.ensureInDocument(p[h].getEl())},ensureInDocument:function(e){for(var t=e.dom.parentNode;t;){if("BODY"==t.tagName.toUpperCase())return;t=t.parentNode}Ext.getDetachedBody().appendChild(e)},calculate:function(e){if(e.hasDomProp("containerChildrenSizeDone")){var t=e.targetContext,n=e.widthModel.shrinkWrap,i=e.heightModel.shrinkWrap,r=i||n,o=r&&t.el.child("table",!0),a=r&&t.getPaddingInfo();n&&e.setContentWidth(o.offsetWidth+a.width,!0),i&&e.setContentHeight(o.offsetHeight+a.height,!0)}else this.done=!1},finalizeLayout:function(){if(this.needsDivWrap()){var e,t,n=this.getLayoutItems(),i=n.length;for(e=0;e<i;e++)t=n[e],Ext.fly(t.el.dom.parentNode).setWidth(t.getWidth())}(Ext.isIE6||Ext.isIEQuirks)&&this.owner.getTargetEl().child("table").repaint()},calculateCells:function(e){for(var t,n,i=[],r=0,o=0,a=0,s=this.columns||1/0,l=[],d=0,c=e.length;d<c;d++){for(n=e[d];o>=s||l[o]>0;)if(o>=s)for(o=0,a=0,r++,t=0;t<s;t++)l[t]>0&&l[t]--;else o++;for(i.push({rowIdx:r,cellIdx:a}),t=n.colspan||1;t;--t)l[o]=n.rowspan||1,++o;++a}return i},getRenderTree:function(){var e,t,n,i,r,o,a,s,l=this,d=l.getLayoutItems(),c=[],u=Ext.apply({tag:"table",role:"presentation",cls:l.tableCls,cellspacing:0,cellpadding:0,cn:{tag:"tbody",cn:c}},l.tableAttrs),h=l.tdAttrs,f=l.needsDivWrap(),p=d.length;for(e=l.calculateCells(d),t=0;t<p;t++)n=d[t],o=(i=e[t]).rowIdx,a=i.cellIdx,(r=c[o])||(r=c[o]={tag:"tr",cn:[]},l.trAttrs&&Ext.apply(r,l.trAttrs)),s=r.cn[a]={tag:"td"},h&&Ext.apply(s,h),Ext.apply(s,{colSpan:n.colspan||1,rowSpan:n.rowspan||1,id:n.cellId||"",cls:l.cellCls+" "+(n.cellCls||"")}),f&&(s=s.cn={tag:"div"}),l.configureItem(n),s.cn=n.getRenderTree();return u},isValidParent:function(e,t,n,i){var r,o;return 3===arguments.length?(o=e.el.up("table"))&&o.dom.parentNode===t.dom:(r=this.owner.getTargetEl().child("table",!0).tBodies[0].rows[n].cells[i],e.el.dom.parentNode===r)},needsDivWrap:function(){return Ext.isOpera10_5}}),Ext.define("Ext.data.IdGenerator",{isGenerator:!0,constructor:function(e){var t=this;Ext.apply(t,e),t.id&&(Ext.data.IdGenerator.all[t.id]=t)},getRecId:function(e){return e.modelName+"-"+e.internalId},statics:{all:{},get:function(e){var t,n,i;if("string"==typeof e)n=i=e,e=null;else{if(e.isGenerator)return e;n=e.id||e.type,i=e.type}return(t=this.all[n])||(t=Ext.create("idgen."+i,e)),t}}}),Ext.define("Ext.data.SortTypes",{singleton:!0,none:Ext.identityFn,stripTagsRE:/<\/?[^>]+>/gi,asText:function(e){return String(e).replace(this.stripTagsRE,"")},asUCText:function(e){return String(e).toUpperCase().replace(this.stripTagsRE,"")},asUCString:function(e){return String(e).toUpperCase()},asDate:function(e){return e?Ext.isDate(e)?e.getTime():Date.parse(String(e)):0},asFloat:function(e){var t=parseFloat(String(e).replace(/,/g,""));return isNaN(t)?0:t},asInt:function(e){var t=parseInt(String(e).replace(/,/g,""),10);return isNaN(t)?0:t}}),Ext.define("Ext.data.Types",{singleton:!0},function(){var e=Ext.data.SortTypes;Ext.apply(Ext.data.Types,{stripRe:/[\$,%]/g,AUTO:{sortType:e.none,type:"auto"},STRING:{convert:function(e){var t=this.useNull?null:"";return null==e?t:String(e)},sortType:e.asUCString,type:"string"},INT:{convert:function(e){return"number"==typeof e?parseInt(e):null!=e&&""!==e?parseInt(String(e).replace(Ext.data.Types.stripRe,""),10):this.useNull?null:0},sortType:e.none,type:"int"},FLOAT:{convert:function(e){return"number"==typeof e?e:null!=e&&""!==e?parseFloat(String(e).replace(Ext.data.Types.stripRe,""),10):this.useNull?null:0},sortType:e.none,type:"float"},BOOL:{convert:function(e){return"boolean"==typeof e?e:!this.useNull||null!=e&&""!==e?!0===e||"true"===e||1==e:null},sortType:e.none,type:"bool"},DATE:{convert:function(e){var t,n=this.dateReadFormat||this.dateFormat;return e?e instanceof Date?e:n?Ext.Date.parse(e,n):(t=Date.parse(e))?new Date(t):null:null},sortType:e.asDate,type:"date"}}),Ext.apply(Ext.data.Types,{BOOLEAN:this.BOOL,INTEGER:this.INT,NUMBER:this.FLOAT})}),Ext.define("Ext.data.Field",{alias:"data.field",isField:!0,constructor:function(e){var t,n=this,i=Ext.data.Types;Ext.isString(e)&&(e={name:e}),Ext.apply(n,e),t=n.sortType,n.type?Ext.isString(n.type)&&(n.type=i[n.type.toUpperCase()]||i.AUTO):n.type=i.AUTO,Ext.isString(t)?n.sortType=Ext.data.SortTypes[t]:Ext.isEmpty(t)&&(n.sortType=n.type.sortType),e.hasOwnProperty("convert")?n.convert||!n.type.convert||e.hasOwnProperty("defaultValue")||(n.defaultValue=n.type.convert(n.defaultValue)):n.convert=n.type.convert,e.convert&&(n.hasCustomConvert=!0)},dateFormat:null,dateReadFormat:null,dateWriteFormat:null,useNull:!1,defaultValue:"",mapping:null,sortType:null,sortDir:"ASC",allowBlank:!0,persist:!0}),Ext.define("Ext.data.Errors",{extend:Ext.util.MixedCollection,isValid:function(){return 0===this.length},getByField:function(e){var t,n,i=[];for(n=0;n<this.length;n++)(t=this.items[n]).field==e&&i.push(t);return i}}),Ext.define("Ext.data.validations",{singleton:!0,presenceMessage:"must be present",lengthMessage:"is the wrong length",formatMessage:"is the wrong format",inclusionMessage:"is not included in the list of acceptable values",exclusionMessage:"is not an acceptable value",emailMessage:"is not a valid email address",emailRe:/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,presence:function(e,t){return 1===arguments.length&&(t=e),!!t||0===t||!1===t},length:function(e,t){if(null==t)return!1;var n=t.length,i=e.min,r=e.max;return!(i&&n<i||r&&n>r)},email:function(e,t){return Ext.data.validations.emailRe.test(t)},format:function(e,t){return!(!e.matcher||!e.matcher.test(t))},inclusion:function(e,t){return e.list&&-1!=Ext.Array.indexOf(e.list,t)},exclusion:function(e,t){return e.list&&-1==Ext.Array.indexOf(e.list,t)}}),Ext.define("Ext.data.Model",{alternateClassName:"Ext.data.Record",mixins:{observable:Ext.util.Observable},compareConvertFields:function(e,t){var n=e.convert&&e.type&&e.convert!==e.type.convert,i=t.convert&&t.type&&t.convert!==t.type.convert;return n&&!i?1:!n&&i?-1:0},itemNameFn:function(e){return e.name},onClassExtended:function(e,t,n){var i=n.onBeforeCreated;n.onBeforeCreated=function(e,t){var r,o,a,s,l=this,d=Ext.getClassName(e),c=e.prototype,u=e.prototype.superclass,h=t.validations||[],f=t.fields||[],p=t.associations||[],g=function(e,t){var n,i,r=0;if(e)for(n=(e=Ext.Array.from(e)).length;r<n;++r)i=e[r],Ext.isObject(i)||(i={model:i}),i.type=t,p.push(i)},m=t.idgen,x=new Ext.util.MixedCollection(!1,c.itemNameFn),y=new Ext.util.MixedCollection(!1,c.itemNameFn),E=u.validations,v=u.fields,b=u.associations,C=[],w="idProperty"in t?t.idProperty:c.idProperty,S=w?w.isField?w:new Ext.data.Field(w):null,I=!1,M=function(e,t,n){var i,r;x.events.add.firing?(r=e,i=t):(i=n,r=t.originalIndex),i.originalIndex=r,S&&(i.mapping&&i.mapping===S.mapping||i.name===S.name)&&(c.idField=i,I=!0,i.defaultValue=void 0)},P=t.proxy,T=function(){x.sortBy(c.compareConvertFields)};for(e.modelName=d,c.modelName=d,E&&(h=E.concat(h)),t.validations=h,v&&(f=v.items.concat(f)),x.on({add:M,replace:M}),a=0,s=f.length;a<s;++a)r=f[a],x.add(r.isField?r:new Ext.data.Field(r));for(S&&!I&&(c.idField=S,S.defaultValue=void 0,x.add(S)),T(),x.on({add:T,replace:T}),t.fields=x,m&&(t.idgen=Ext.data.IdGenerator.get(m)),g(t.belongsTo,"belongsTo"),delete t.belongsTo,g(t.hasMany,"hasMany"),delete t.hasMany,g(t.hasOne,"hasOne"),delete t.hasOne,b&&(p=b.items.concat(p)),a=0,s=p.length;a<s;++a)C.push("association."+p[a].type.toLowerCase());P?P.isProxy||C.push("proxy."+(P.type||P)):e.prototype.proxy||(e.prototype.proxy=e.prototype.defaultProxyType,C.push("proxy."+e.prototype.defaultProxyType)),Ext.require(C,function(){for(Ext.ModelManager.registerType(d,e),a=0,s=p.length;a<s;++a)(o=p[a]).isAssociation?o=Ext.applyIf({ownerModel:d,associatedModel:o.model},o.initialConfig):Ext.apply(o,{ownerModel:d,associatedModel:o.model}),void 0===Ext.ModelManager.getModel(o.model)?Ext.ModelManager.registerDeferredAssociation(o):y.add(Ext.data.association.Association.create(o));t.associations=y,i.call(l,e,t,n),P&&P.isProxy&&e.setProxy(P),Ext.ModelManager.onModelDefined(e)})}},inheritableStatics:{setProxy:function(e){return e.isProxy||("string"==typeof e&&(e={type:e}),e=Ext.createByAlias("proxy."+e.type,e)),e.setModel(this),this.proxy=this.prototype.proxy=e,e},getProxy:function(){var e=this.proxy;return e||((e=this.prototype.proxy).isProxy&&(e=e.clone()),this.setProxy(e))},setFields:function(e,t,n){var i,r,o,a,s=this,l=!1,d=s.prototype,c=d.fields,u=d.superclass.fields;for(t&&(d.idProperty=t,r=t.isField?t:new Ext.data.Field(t)),n&&(d.clientIdProperty=n),c?c.clear():c=s.prototype.fields=new Ext.util.MixedCollection(!1,function(e){return e.name}),u&&(e=u.items.concat(e)),a=0,o=e.length;a<o;a++)i=new Ext.data.Field(e[a]),r&&(i.mapping&&i.mapping===r.mapping||i.name===r.name)&&(l=!0,i.defaultValue=void 0),c.add(i);return r&&!l&&(r.defaultValue=void 0,c.add(r)),s.fields=c,c},getFields:function(){return this.prototype.fields.items},load:function(e,t){t=Ext.apply({},t),t=Ext.applyIf(t,{action:"read",id:e});var n,i=new Ext.data.Operation(t),r=t.scope||this,o=null;n=function(n){n.wasSuccessful()?((o=n.getRecords()[0]).hasId()||o.setId(e),Ext.callback(t.success,r,[o,n])):Ext.callback(t.failure,r,[o,n]),Ext.callback(t.callback,r,[o,n])},this.getProxy().read(i,n,this)}},statics:{PREFIX:"ext-record",AUTO_ID:1,EDIT:"edit",REJECT:"reject",COMMIT:"commit",id:function(e){var t=[this.PREFIX,"-",this.AUTO_ID++].join("");return e.phantom=!0,e.internalId=t,t}},idgen:{isGenerator:!0,type:"default",generate:function(){return null},getRecId:function(e){return e.modelName+"-"+e.internalId}},editing:!1,dirty:!1,persistenceProperty:"data",evented:!1,isModel:!0,phantom:!1,idProperty:"id",clientIdProperty:null,defaultProxyType:"ajax",emptyData:[],constructor:function(e,t,n,i){var r,o,a,s,l,d,c,u,h,f=this,p=t||0===t,g=f.idProperty,m=f.idField;if(f.raw=n||e,f.modified={},"data"!==f.persistenceProperty&&Ext.log.warn(this.$className,"The persistenceProperty will be deprecated, all data will be stored in the underlying data property."),u=f[f.persistenceProperty]=i||{},f.data=f[f.persistenceProperty],f.mixins.observable.constructor.call(f),!i)if(e?!p&&g&&(r=(t=e[g])||0===t):e=f.emptyData,a=(o=f.fields.items).length,h=0,Ext.isArray(e))for(;h<a;h++)l=(s=o[h]).name,void 0===(d=e[s.originalIndex])&&(d=s.defaultValue),s.convert&&(d=s.convert(d,f)),void 0!==d&&(u[l]=d);else for(;h<a;h++)void 0===(d=e[l=(s=o[h]).name])&&(d=s.defaultValue),s.convert&&(d=s.convert(d,f)),void 0!==d&&(u[l]=d);f.stores=[],p?(r=!0,u[g]=m&&m.convert?m.convert(t):t):r||null!=(c=f.idgen.generate())&&(f.preventInternalUpdate=!0,f.setId(c),delete f.preventInternalUpdate),f.internalId=r?t:Ext.data.Model.id(f),"function"==typeof f.init&&f.init(),f.id=f.idgen.getRecId(f)},get:function(e){return this[this.persistenceProperty][e]},_singleProp:{},set:function(e,t){var n,i,r,o,a,s,l,d,c,u,h=this,f=h[h.persistenceProperty],p=h.fields,g=h.modified,m="string"==typeof e;for(s in m?(u=h._singleProp)[e]=t:u=e,u)if(u.hasOwnProperty(s)){if(c=u[s],p&&(i=p.get(s))&&i.convert&&(c=i.convert(c,h)),n=f[s],h.isEqual(n,c))continue;if(f[s]=c,(a||(a=[])).push(s),i&&i.persist)if(g.hasOwnProperty(s)){if(h.isEqual(g[s],c))for(o in delete g[s],h.dirty=!1,g)if(g.hasOwnProperty(o)){h.dirty=!0;break}}else h.dirty=!0,g[s]=n;s==h.idProperty&&(r=!0,l=n,d=c)}return m&&delete u[e],r&&h.changeId(l,d),!h.editing&&a&&h.afterEdit(a),a||null},copyFrom:function(e){var t,n,i,r,o=this,a=o.fields.items,s=a.length,l=[],d=0,c=o.idProperty;if(e){for(t=o[o.persistenceProperty],n=e[e.persistenceProperty];d<s;d++)(i=a[d].name)!=c&&(void 0===(r=n[i])||o.isEqual(t[i],r)||(t[i]=r,l.push(i)));o.phantom&&!e.phantom&&(o.beginEdit(),o.setId(e.getId()),o.endEdit(!0),o.commit(!0))}return l},isEqual:function(e,t){return e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():e===t},beginEdit:function(){var e,t,n,i=this;if(!i.editing){for(e in i.editing=!0,i.dirtySave=i.dirty,n=i[i.persistenceProperty],t=i.dataSave={},n)n.hasOwnProperty(e)&&(t[e]=n[e]);for(e in n=i.modified,t=i.modifiedSave={},n)n.hasOwnProperty(e)&&(t[e]=n[e])}},cancelEdit:function(){var e=this;e.editing&&(e.editing=!1,e.modified=e.modifiedSave,e[e.persistenceProperty]=e.dataSave,e.dirty=e.dirtySave,e.modifiedSave=e.dataSave=e.dirtySave=null)},endEdit:function(e,t){var n,i=this;e=!0===e,i.editing&&(i.editing=!1,n=i.dataSave,i.modifiedSave=i.dataSave=i.dirtySave=null,e||(t||(t=i.getModifiedFieldNames(n)),(i.dirty||t.length>0)&&i.afterEdit(t)))},getModifiedFieldNames:function(e){var t,n=this,i=n[n.persistenceProperty],r=[];for(t in e=e||n.dataSave,i)i.hasOwnProperty(t)&&(n.isEqual(i[t],e[t])||r.push(t));return r},getChanges:function(){var e,t=this.modified,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=this.get(e));return n},isModified:function(e){return this.modified.hasOwnProperty(e)},setDirty:function(){var e,t,n,i=this,r=i.fields.items,o=r.length;for(i.dirty=!0,n=0;n<o;n++)(e=r[n]).persist&&(t=e.name,i.modified[t]=i.get(t))},markDirty:function(){return Ext.log.warn("Ext.data.Model: markDirty has been deprecated. Use setDirty instead."),this.setDirty.apply(this,arguments)},reject:function(e){var t,n=this,i=n.modified;for(t in i)i.hasOwnProperty(t)&&"function"!=typeof i[t]&&(n[n.persistenceProperty][t]=i[t]);n.dirty=!1,n.editing=!1,n.modified={},!0!==e&&n.afterReject()},commit:function(e,t){var n=this;n.phantom=n.dirty=n.editing=!1,n.modified={},!0!==e&&n.afterCommit(t)},copy:function(e){var t=this;return new t.self(t.raw,e,null,Ext.apply({},t[t.persistenceProperty]))},setProxy:function(e){return e.isProxy||("string"==typeof e&&(e={type:e}),e=Ext.createByAlias("proxy."+e.type,e)),e.setModel(this.self),this.proxy=e,e},getProxy:function(){return this.hasOwnProperty("proxy")?this.proxy:this.self.getProxy()},validate:function(){var e,t,n,i,r,o=new Ext.data.Errors,a=this.validations,s=Ext.data.validations;if(a)for(e=a.length,r=0;r<e;r++)n=(t=a[r]).field||t.name,s[i=t.type](t,this.get(n))||o.add({field:n,message:t.message||s[i+"Message"]});return o},isValid:function(){return this.validate().isValid()},save:function(e){e=Ext.apply({},e);var t,n,i,r,o,a=this,s=a.phantom?"create":"update",l=e.scope||a,d=a.stores,c=0;return Ext.apply(e,{records:[a],action:s}),r=new Ext.data.Operation(e),o=function(r){if(i=[a,r],r.wasSuccessful()){for(t=d.length;c<t;c++)(n=d[c]).fireEvent("write",n,r),n.fireEvent("datachanged",n);Ext.callback(e.success,l,i)}else Ext.callback(e.failure,l,i);Ext.callback(e.callback,l,i)},a.getProxy()[s](r,o,a),a},destroy:function(e){e=Ext.apply({records:[this],action:"destroy"},e);var t,n,i,r,o,a,s=this,l=!0!==s.phantom,d=e.scope||s,c=0;return o=new Ext.data.Operation(e),a=function(o){if(r=[s,o],t=Ext.Array.clone(s.stores),o.wasSuccessful()){for(n=t.length;c<n;c++)(i=t[c]).remove&&i.remove(s,!0),l&&i.fireEvent("write",i,o);s.clearListeners(),Ext.callback(e.success,d,r)}else Ext.callback(e.failure,d,r);Ext.callback(e.callback,d,r)},l?s.getProxy().destroy(o,a,s):(o.complete=o.success=!0,o.resultSet=s.getProxy().reader.nullResultSet,a(o)),s},getId:function(){return this.get(this.idField.name)},getObservableId:function(){return this.id},setId:function(e){this.set(this.idProperty,e)},changeId:function(e,t){var n,i,r,o=this;o.preventInternalUpdate||(n=o.hasId(e),i=o.hasId(t),r=o.internalId,o.phantom=!i,(i!==n||i&&n)&&(o.internalId=i?t:Ext.data.Model.id(o)),o.fireEvent("idchanged",o,e,t,r),o.callStore("onIdChanged",e,t,r))},hasId:function(e){return 0===arguments.length&&(e=this.getId()),!(!e&&0!==e)},join:function(e){this.stores.length?Ext.Array.include(this.stores,e):this.stores[0]=e,this.store=this.stores[0]},unjoin:function(e){Ext.Array.remove(this.stores,e),this.store=this.stores[0]||null},afterEdit:function(e){this.callStore("afterEdit",e)},afterReject:function(){this.callStore("afterReject")},afterCommit:function(e){this.callStore("afterCommit",e)},callStore:function(e){var t,n=Ext.Array.clone(arguments),i=this.stores,r=0,o=i.length;for(n[0]=this;r<o;++r)(t=i[r])&&Ext.isFunction(t[e])&&t[e].apply(t,n)},getData:function(e){var t,n,i=this,r=i.fields.items,o=r.length,a={};for(n=0;n<o;n++)a[t=r[n].name]=i.get(t);return!0===e&&Ext.apply(a,i.getAssociatedData()),a},getAssociatedData:function(){return this.prepareAssociatedData({},1)},prepareAssociatedData:function(e,t){var n,i,r,o,a,s,l,d,c,u,h,f,p,g,m=this,x=m.associations.items,y=x.length,E={},v=[],b=[],C=[];for(h=0;h<y;h++)if(!(l=e[d=(u=x[h]).associationId])||l===t)if(e[d]=t,p=u.type,g=u.name,"hasMany"==p){if(n=m[u.storeName],E[g]=[],n&&n.getCount()>0)for(c=(i=n.data.items).length,f=0;f<c;f++)r=i[f],E[g][f]=r.getData(),v.push(r),b.push(g),C.push(f)}else"belongsTo"!=p&&"hasOne"!=p||void 0!==(r=m[u.instanceName])&&(E[g]=r.getData(),v.push(r),b.push(g),C.push(-1));for(h=0,c=v.length;h<c;++h)r=v[h],o=E[b[h]],a=C[h],s=r.prepareAssociatedData(e,t+1),-1===a?Ext.apply(o,s):Ext.apply(o[a],s);return E}}),Ext.define("Ext.data.proxy.Server",{extend:Ext.data.proxy.Proxy,alias:"proxy.server",alternateClassName:"Ext.data.ServerProxy",pageParam:"page",startParam:"start",limitParam:"limit",groupParam:"group",groupDirectionParam:"groupDir",sortParam:"sort",filterParam:"filter",directionParam:"dir",idParam:"id",simpleSortMode:!1,simpleGroupMode:!1,noCache:!0,cacheString:"_dc",timeout:3e4,constructor:function(e){var t=this;e=e||{},t.callParent([e]),t.extraParams=e.extraParams||{},t.api=Ext.apply({},e.api||t.api),t.nocache=t.noCache},create:function(){return this.doRequest.apply(this,arguments)},read:function(){return this.doRequest.apply(this,arguments)},update:function(){return this.doRequest.apply(this,arguments)},destroy:function(){return this.doRequest.apply(this,arguments)},setExtraParam:function(e,t){this.extraParams[e]=t},buildRequest:function(e){var t,n=this,i=e.params=Ext.apply({},e.params,n.extraParams);return Ext.applyIf(i,n.getParams(e)),void 0!==e.id&&void 0===i[n.idParam]&&(i[n.idParam]=e.id),(t=new Ext.data.Request({params:i,action:e.action,records:e.records,operation:e,url:e.url,proxy:n})).url=n.buildUrl(t),e.request=t,t},processResponse:function(e,t,n,i,r,o){var a,s,l=this;!0===e?((a=l.getReader()).applyDefaults="read"===t.action,!1!==(s=a.read(l.extractResponseData(i))).success?(Ext.apply(t,{response:i,resultSet:s}),t.commitRecords(s.records),t.setCompleted(),t.setSuccessful()):(t.setException(s.message),l.fireEvent("exception",this,i,t))):(l.setException(t,i),l.fireEvent("exception",this,i,t)),"function"==typeof r&&r.call(o||l,t),l.afterRequest(n,e)},setException:function(e,t){e.setException({status:t.status,statusText:t.statusText})},extractResponseData:Ext.identityFn,applyEncoding:function(e){return Ext.encode(e)},encodeSorters:function(e){for(var t=[],n=e.length,i=0;i<n;i++)t[i]={property:e[i].property,direction:e[i].direction};return this.applyEncoding(t)},encodeFilters:function(e){for(var t=[],n=e.length,i=0;i<n;i++)t[i]={property:e[i].property,value:e[i].value};return this.applyEncoding(t)},getParams:function(e){var t,n,i=this,r={},o=Ext.isDefined,a=e.groupers,s=e.sorters,l=e.filters,d=e.page,c=e.start,u=e.limit,h=i.simpleSortMode,f=i.simpleGroupMode,p=i.pageParam,g=i.startParam,m=i.limitParam,x=i.groupParam,y=i.groupDirectionParam,E=i.sortParam,v=i.filterParam,b=i.directionParam;return p&&o(d)&&(r[p]=d),g&&o(c)&&(r[g]=c),m&&o(u)&&(r[m]=u),(t=x&&a&&a.length>0)&&(f?(r[x]=a[0].property,r[y]=a[0].direction||"ASC"):r[x]=i.encodeSorters(a)),E&&s&&s.length>0&&(h?(n=0,s.length>1&&t&&(n=1),r[E]=s[n].property,r[b]=s[n].direction):r[E]=i.encodeSorters(s)),v&&l&&l.length>0&&(r[v]=i.encodeFilters(l)),r},buildUrl:function(e){var t=this,n=t.getUrl(e);return n||Ext.Error.raise("You are using a ServerProxy but have not supplied it with a url."),t.noCache&&(n=Ext.urlAppend(n,Ext.String.format("{0}={1}",t.cacheString,Ext.Date.now()))),n},getUrl:function(e){return e.url||this.api[e.action]||this.url},doRequest:function(e,t,n){Ext.Error.raise("The doRequest function has not been implemented on your Ext.data.proxy.Server subclass. See src/data/ServerProxy.js for details")},afterRequest:Ext.emptyFn,onDestroy:function(){Ext.destroy(this.reader,this.writer)}}),Ext.define("Ext.data.proxy.Ajax",{extend:Ext.data.proxy.Server,alias:"proxy.ajax",alternateClassName:["Ext.data.HttpProxy","Ext.data.AjaxProxy"],actionMethods:{create:"POST",read:"GET",update:"POST",destroy:"POST"},binary:!1,doRequest:function(e,t,n){var i=this.getWriter(),r=this.buildRequest(e);return e.allowWrite()&&(r=i.write(r)),Ext.apply(r,{binary:this.binary,headers:this.headers,timeout:this.timeout,scope:this,callback:this.createRequestCallback(r,e,t,n),method:this.getMethod(r),disableCaching:!1}),Ext.Ajax.request(r),r},getMethod:function(e){return this.actionMethods[e.action]},createRequestCallback:function(e,t,n,i){var r=this;return function(o,a,s){r.processResponse(a,t,e,s,n,i)}}},function(){Ext.data.HttpProxy=this}),Ext.define("Ext.data.proxy.Client",{extend:Ext.data.proxy.Proxy,alternateClassName:"Ext.data.ClientProxy",isSynchronous:!0,clear:function(){Ext.Error.raise("The Ext.data.proxy.Client subclass that you are using has not defined a 'clear' function. See src/data/ClientProxy.js for details.")}}),Ext.define("Ext.data.proxy.Memory",{extend:Ext.data.proxy.Client,alias:"proxy.memory",alternateClassName:"Ext.data.MemoryProxy",constructor:function(e){this.callParent([e]),this.setReader(this.reader)},updateOperation:function(e,t,n){for(var i=0,r=e.getRecords(),o=r.length;i<o;i++)r[i].commit();e.setCompleted(),e.setSuccessful(),Ext.callback(t,n||this,[e])},create:function(){this.updateOperation.apply(this,arguments)},update:function(){this.updateOperation.apply(this,arguments)},destroy:function(){this.updateOperation.apply(this,arguments)},read:function(e,t,n){var i=this,r=e.resultSet=i.getReader().read(i.data),o=r.records,a=e.sorters,s=e.groupers,l=e.filters;e.setCompleted(),r.success&&(l&&l.length&&(o=r.records=Ext.Array.filter(o,Ext.util.Filter.createFilterFn(l))),s&&s.length&&Ext.Array.insert(a||[],0,s),a&&a.length&&(r.records=Ext.Array.sort(o,Ext.util.Sortable.createComparator(a))),i.enablePaging&&void 0!==e.start&&void 0!==e.limit&&(e.start>=r.total?(r.success=!1,r.count=0,r.records=[]):(r.records=Ext.Array.slice(r.records,e.start,e.start+e.limit),r.count=r.records.length))),r.success?e.setSuccessful():i.fireEvent("exception",i,null,e),Ext.callback(t,n||i,[e])},clear:Ext.emptyFn}),Ext.define("Ext.util.LruCache",{extend:Ext.util.HashMap,constructor:function(e){Ext.apply(this,e),this.callParent([e])},add:function(e,t){var n,i=this,r=i.findKey(t);return r?(i.unlinkEntry(n=i.map[r]),n.prev=i.last,n.next=null):n={prev:i.last,next:null,key:e,value:t},i.last?i.last.next=n:i.first=n,i.last=n,i.callParent([e,n]),i.prune(),t},insertBefore:function(e,t,n){var i,r,o=this;return(n=this.map[this.findKey(n)])?((i=o.findKey(t))?o.unlinkEntry(r=o.map[i]):r={prev:n.prev,next:n,key:e,value:t},n.prev?r.prev.next=r:o.first=r,r.next=n,n.prev=r,o.prune(),t):o.add(e,t)},get:function(e){var t=this.map[e];if(t)return t.next&&this.moveToEnd(t),t.value},removeAtKey:function(e){return this.unlinkEntry(this.map[e]),this.callParent(arguments)},clear:function(e){return this.first=this.last=null,this.callParent(arguments)},unlinkEntry:function(e){e&&(e.next?e.next.prev=e.prev:this.last=e.prev,e.prev?e.prev.next=e.next:this.first=e.next,e.prev=e.next=null)},moveToEnd:function(e){this.unlinkEntry(e),(e.prev=this.last)?this.last.next=e:this.first=e,this.last=e},getArray:function(e){for(var t=[],n=this.first;n;)t.push(e?n.key:n.value),n=n.next;return t},each:function(e,t,n){var i=this,r=n?i.last:i.first,o=i.length;for(t=t||i;r&&!1!==e.call(t,r.key,r.value,o);)r=n?r.prev:r.next;return i},findKey:function(e){var t,n=this.map;for(t in n)if(n.hasOwnProperty(t)&&n[t].value===e)return t},clone:function(){var e,t=new this.self(this.initialConfig),n=this.map;for(e in t.suspendEvents(),n)n.hasOwnProperty(e)&&t.add(e,n[e].value);return t.resumeEvents(),t},prune:function(){var e=this,t=e.maxSize?e.length-e.maxSize:0;if(t>0)for(;e.first&&t;t--)e.removeAtKey(e.first.key)}}),Ext.define("Ext.data.Group",{extend:Ext.util.Observable,key:void 0,dirty:!0,constructor:function(){this.callParent(arguments),this.records=[]},contains:function(e){return Ext.Array.indexOf(this.records,e)},add:function(e){Ext.Array.push(this.records,e),this.dirty=!0},remove:function(e){Ext.isArray(e)||(e=[e]);var t,n=e.length;for(t=0;t<n;++t)Ext.Array.remove(this.records,e[t]);this.dirty=!0},isDirty:function(){return this.dirty},hasAggregate:function(){return!!this.aggregate},setDirty:function(){this.dirty=!0},commit:function(){this.dirty=!1},isCollapsed:function(){return this.collapsed},getAggregateRecord:function(e){var t,n=this;return!0!==e&&!n.dirty&&n.aggregate||(t=n.store.model,n.aggregate=new t,n.aggregate.isSummary=!0),n.aggregate}}),Ext.define("Ext.data.Store",{extend:Ext.data.AbstractStore,alias:"store.store",remoteSort:!1,remoteFilter:!1,remoteGroup:!1,groupField:void 0,groupDir:"ASC",trailingBufferZone:25,leadingBufferZone:200,pageSize:void 0,currentPage:1,clearOnPageLoad:!0,loading:!1,sortOnFilter:!0,buffered:!1,purgePageCount:5,clearRemovedOnLoad:!0,defaultPageSize:25,defaultViewSize:100,addRecordsOptions:{addRecords:!0},statics:{recordIdFn:function(e){return e.internalId},recordIndexFn:function(e){return e.index},grouperIdFn:function(e){return e.id||e.property},groupIdFn:function(e){return e.key}},constructor:function(e){var t,n,i=this,r=(e=Ext.apply({},e)).groupers||i.groupers,o=e.groupField||i.groupField;(n=e.data||i.data)&&(i.inlineData=n,delete e.data),!r&&o&&(r=[{property:o,direction:e.groupDir||i.groupDir}]),delete e.groupers,i.groupers=new Ext.util.MixedCollection(!1,Ext.data.Store.grouperIdFn),i.groupers.addAll(i.decodeGroupers(r)),i.groups=new Ext.util.MixedCollection(!1,Ext.data.Store.groupIdFn),i.callParent([e]),i.buffered?(i.data=new i.PageMap({store:i,keyFn:Ext.data.Store.recordIdFn,pageSize:i.pageSize,maxSize:i.purgePageCount,listeners:{clear:i.onPageMapClear,scope:i}}),i.pageRequests={},i.remoteSort=i.remoteGroup=i.remoteFilter=!0,i.sortOnLoad=!1,i.filterOnLoad=!1):(i.data=new Ext.util.MixedCollection({getKey:Ext.data.Store.recordIdFn,maintainIndices:!0}),i.data.pageSize=i.pageSize),i.remoteGroup&&(i.remoteSort=!0),t=i.proxy,n=i.inlineData,i.buffered||i.pageSize||(i.pageSize=i.defaultPageSize),n?(t instanceof Ext.data.proxy.Memory?(t.data=n,i.read()):i.add.apply(i,[n]),i.remoteSort||i.sort(),delete i.inlineData):i.autoLoad&&Ext.defer(i.load,1,i,["object"==typeof i.autoLoad?i.autoLoad:void 0]),i.groupers.items.length&&!i.remoteGroup&&i.group(null,null,!0)},onBeforeSort:function(){var e=this.groupers;e.getCount()>0&&this.sort(e.items,"prepend",!1)},decodeGroupers:function(e){Ext.isArray(e)||(e=void 0===e?[]:[e]);var t,n,i=e.length,r=Ext.util.Grouper,o=[];for(n=0;n<i;n++)(t=e[n])instanceof r?o.push(t):(Ext.isString(t)&&(t={property:t}),(t=Ext.apply({root:"data",direction:"ASC"},t)).fn&&(t.sorterFn=t.fn),"function"==typeof t&&(t={sorterFn:t}),o.push(new r(t)));return o},group:function(e,t,n){var i,r,o,a=this,s=a.groupers.getRange(),l=s.length;for(o=0;o<l;o++)a.sorters.remove(s[o]);Ext.isArray(e)?r=e:Ext.isObject(e)?r=[e]:Ext.isString(e)&&((i=a.groupers.get(e))?void 0===t?i.toggle():i.setDirection(t):r=[i={property:e,direction:t||"ASC"}]),r&&r.length&&(a.groupers.clear(),a.groupers.addAll(a.decodeGroupers(r))),a.sorters.insert(0,a.groupers.getRange()),a.remoteGroup?a.buffered?(a.data.clear(),a.loadPage(1,{groupChange:!0})):a.load({scope:a,callback:n?null:a.fireGroupChange}):(a.doSort(a.generateComparator()),a.constructGroups(),n||a.fireGroupChange())},getGroupField:function(){var e,t=this.groupers.first();return t&&(e=t.property),e},constructGroups:function(){var e,t,n,i,r=this,o=this.data.items,a=o.length,s=r.groups;for(s.clear(),t=0;t<a;++t)i=o[t],e=r.getGroupString(i),(n=s.get(e))||(n=new Ext.data.Group({key:e,store:r}),s.add(e,n)),n.add(i)},clearGrouping:function(){var e,t=this,n=t.groupers.items,i=n.length;for(e=0;e<i;e++)t.sorters.remove(n[e]);t.groupers.clear(),t.remoteGroup?t.buffered?(t.data.clear(),t.loadPage(1,{groupChange:!0})):t.load({scope:t,callback:t.fireGroupChange}):(t.groups.clear(),t.sorters.length?t.sort():(t.fireEvent("datachanged",t),t.fireEvent("refresh",t)),t.fireGroupChange())},isGrouped:function(){return this.groupers.getCount()>0},fireGroupChange:function(){this.fireEvent("groupchange",this,this.groupers)},getGroups:function(e){var t,n,i,r,o=this.data.items,a=o.length,s=[],l={};for(r=0;r<a;r++)t=o[r],void 0===(i=l[n=this.getGroupString(t)])&&(i={name:n,children:[]},s.push(i),l[n]=i),i.children.push(t);return e?l[e]:s},getGroupsForGrouper:function(e,t){var n,i,r,o,a,s=e.length,l=[];for(a=0;a<s;a++)r=e[a],(i=t.getGroupString(r))!==n&&(o={name:i,grouper:t,records:[]},l.push(o)),o.records.push(r),n=i;return l},getGroupsForGrouperIndex:function(e,t){var n,i=this,r=i.groupers,o=r.getAt(t),a=i.getGroupsForGrouper(e,o),s=a.length;if(t+1<r.length)for(n=0;n<s;n++)a[n].children=i.getGroupsForGrouperIndex(a[n].records,t+1);for(n=0;n<s;n++)a[n].depth=t;return a},getGroupData:function(e){var t=this;return!1!==e&&t.sort(),t.getGroupsForGrouperIndex(t.data.items,0)},getGroupString:function(e){var t=this.groupers.first();return t?t.getGroupString(e):""},insert:function(e,t){var n,i,r,o,a=this,s=!1,l=a.modelDefaults;if(o=Ext.isIterable(t)?[]:t=[t],i=t.length){for(n=0;n<i;n++)(r=t[n]).isModel||(r=a.createModel(r)),o[n]=r,l&&r.set(l),r.join(a),s=s||!0===r.phantom;a.data.insert(e,o),a.snapshot&&a.snapshot.addAll(o),a.requireSort&&(a.suspendEvents(),a.sort(),a.resumeEvents()),a.isGrouped()&&a.updateGroupsOnAdd(o),a.fireEvent("add",a,o,e),a.fireEvent("datachanged",a),a.autoSync&&s&&!a.autoSyncSuspended&&a.sync()}return o},updateGroupsOnAdd:function(e){var t,n,i,r,o=this,a=o.groups,s=e.length;for(t=0;t<s;++t)r=e[t],n=o.getGroupString(r),(i=a.getByKey(n))||(i=a.add(new Ext.data.Group({key:n,store:o}))),i.add(r)},updateGroupsOnRemove:function(e){var t,n,i,r,o=this.groups,a=e.length;for(t=0;t<a;++t)r=e[t],n=this.getGroupString(r),(i=o.getByKey(n))&&(i.remove(r),0===i.records.length&&o.remove(i))},updateGroupsOnUpdate:function(e,t){var n,i,r,o,a=this,s=a.getGroupField(),l=a.getGroupString(e),d=a.groups;if(t&&-1!==Ext.Array.indexOf(t,s)){for(i=0,n=(r=d.items).length;i<n;++i)if((o=r[i]).contains(e)){o.remove(e);break}d.getByKey(l),o||(o=d.add(new Ext.data.Group({key:l,store:a}))),o.add(e),a.suspendEvents(),a.remove(e),a.addSorted(e),a.resumeEvents()}else d.getByKey(l).setDirty()},add:function(e){var t,n,i,r=this;return r.buffered&&Ext.Error.raise({msg:"add method may not be called on a buffered store"}),n=(t=Ext.isArray(e)?e:arguments).length,(i=!r.remoteSort&&r.sorters&&r.sorters.items.length)&&1===n?[r.addSorted(r.createModel(t[0]))]:(i&&(r.requireSort=!0),t=r.insert(r.data.length,t),delete r.requireSort,t)},addSorted:function(e){var t=this,n=t.data.findInsertionIndex(e,t.generateComparator());return t.insert(n,e),e},createModel:function(e){return e.isModel||(e=Ext.ModelManager.create(e,this.model)),e},onUpdate:function(e,t,n){this.isGrouped()&&this.updateGroupsOnUpdate(e,n)},each:function(e,t){var n,i,r=this.data.items,o=r.length;for(i=0;i<o&&(n=r[i],!1!==e.call(t||n,n,i,o));i++);},remove:function(e,t,n){t=!0===t;var i,r,o,a,s,l,d,c=this,u=!1,h=c.snapshot,f=c.data,p=0,g=[],m=[],x=[],y=!n&&c.hasListeners.remove;if(e.isModel?(e=[e],i=1):Ext.isIterable(e)?i=e.length:"object"==typeof e&&(l=!0,p=e.start,d=(i=e.end+1)-p),!l){for(p=0;p<i;++p)"number"==typeof(s=e[p])?(a=s,s=f.getAt(a)):a=c.indexOf(s),s&&a>-1&&g.push({record:s,index:a}),h&&h.remove(s);p=0,i=(g=Ext.Array.sort(g,function(e,t){var n=e.index,i=t.index;return n===t.index2?0:n<i?-1:1})).length}for(;p<i;p++)l?(s=f.getAt(p),a=p):(s=(r=g[p]).record,a=r.index),m.push(s),x.push(a),o=!0!==s.phantom,!t&&o&&(s.removedFrom=a,c.removed.push(s)),s.unjoin(c),a-=p,u=u||o,l||(f.removeAt(a),y&&c.fireEvent("remove",c,s,a,!!t));l&&f.removeRange(e.start,d),n||(c.fireEvent("bulkremove",c,m,x,!!t),c.fireEvent("datachanged",c)),!t&&c.autoSync&&u&&!c.autoSyncSuspended&&c.sync()},removeAt:function(e,t){var n=this,i=n.getCount();e<=i&&(1===arguments.length?n.remove([e]):t&&n.remove({start:e,end:Math.min(e+t,i)-1}))},removeAll:function(e){var t=this;t.remove({start:0,end:t.getCount()-1},!1,e),t.data&&t.data.clear(),!0!==e&&t.fireEvent("clear",t)},load:function(e){var t=this;return"function"==typeof(e=e||{})&&(e={callback:e}),e.groupers=e.groupers||t.groupers.items,e.page=e.page||t.currentPage,e.start=void 0!==e.start?e.start:(e.page-1)*t.pageSize,e.limit=e.limit||t.pageSize,e.addRecords=e.addRecords||!1,t.buffered?(e.limit=t.viewSize||t.defaultViewSize,t.loadToPrefetch(e)):t.callParent([e])},reload:function(e){var t,n,i,r,o,a,s,l,d=this,c=d.getCount();if(e||(e={}),!d.buffered)return d.callParent(arguments);if(delete d.totalCount,a=function(){d.rangeCached(t,n)&&(d.loading=!1,d.data.un("pageAdded",a),l=d.data.getRange(t,n),d.fireEvent("load",d,l,!0))},s=Math.ceil((d.leadingBufferZone+d.trailingBufferZone)/2),t=e.start||(c?d.getAt(0).index:0),n=t+(e.count||c||d.pageSize)-1,i=d.getPageFromRecordIndex(Math.max(t-s,0)),r=d.getPageFromRecordIndex(n+s),d.data.clear(!0),!1!==d.fireEvent("beforeload",d,e))for(d.loading=!0,d.data.on("pageAdded",a),o=i;o<=r;o++)d.prefetchPage(o,e)},onProxyLoad:function(e){var t=this,n=e.getResultSet(),i=e.getRecords(),r=e.wasSuccessful();n&&(t.totalCount=n.total),t.loading=!1,r&&t.loadRecords(i,e),t.hasListeners.load&&t.fireEvent("load",t,i,r),t.hasListeners.read&&t.fireEvent("read",t,i,r),Ext.callback(e.callback,e.scope||t,[i,e,r])},getNewRecords:function(){return this.data.filterBy(this.filterNew).items},getUpdatedRecords:function(){return this.data.filterBy(this.filterUpdated).items},filter:function(e,t){Ext.isString(e)&&(e={property:e,value:t});var n,i=this,r=i.decodeFilters(e),o=i.sorters.length&&i.sortOnFilter&&!i.remoteSort,a=r.length;for(n=0;n<a;n++)i.filters.replace(r[n]);i.remoteFilter?(delete i.totalCount,i.buffered?(i.data.clear(),i.loadPage(1)):(i.currentPage=1,i.load())):i.filters.getCount()&&(i.snapshot=i.snapshot||i.data.clone(),i.data=i.snapshot.filter(i.filters.items),i.constructGroups(),o?i.sort():(i.fireEvent("datachanged",i),i.fireEvent("refresh",i))),i.fireEvent("filterchange",i,i.filters.items)},clearFilter:function(e){var t=this;if(t.filters.clear(),t.remoteFilter){if(e)return;delete t.totalCount,t.buffered?(t.data.clear(),t.loadPage(1)):(t.currentPage=1,t.load())}else t.isFiltered()&&(t.data=t.snapshot,delete t.snapshot,t.constructGroups(),!0!==e&&(t.fireEvent("datachanged",t),t.fireEvent("refresh",t)));t.fireEvent("filterchange",t,t.filters.items)},removeFilter:function(e,t){var n=this;!n.remoteFilter&&n.isFiltered()&&(e instanceof Ext.util.Filter?n.filters.remove(e):n.filters.removeAtKey(e),!1!==t&&(n.filters.getCount()?n.filter():n.clearFilter()),n.fireEvent("filterchange",n,n.filters.items))},addFilter:function(e,t){var n,i,r,o=this;for(r=(n=o.decodeFilters(e)).length,i=0;i<r;i++)o.filters.replace(n[i]);!1!==t&&o.filter(),o.fireEvent("filterchange",o,o.filters.items)},isFiltered:function(){var e=this.snapshot;return!(!e||e===this.data)},filterBy:function(e,t){var n=this;n.snapshot=n.snapshot||n.data.clone(),n.data=n.queryBy(e,t||n),n.fireEvent("datachanged",n),n.fireEvent("refresh",n)},queryBy:function(e,t){var n=this;return(n.snapshot||n.data).filterBy(e,t||n)},query:function(e,t,n,i,r){var o=this.createFilterFn(e,t,n,i,r),a=this.queryBy(o);return a||(a=new Ext.util.MixedCollection),a},loadData:function(e,t){var n,i=e.length,r=[];for(n=0;n<i;n++)r.push(this.createModel(e[n]));this.loadRecords(r,t?this.addRecordsOptions:void 0)},loadRawData:function(e,t){var n=this,i=n.proxy.reader.read(e),r=i.records;i.success&&(n.totalCount=i.total,n.loadRecords(r,t?n.addRecordsOptions:void 0))},loadRecords:function(e,t){var n,i,r=this,o=0,a=e.length,s=r.snapshot;if(t&&(n=t.start,i=t.addRecords),i?s&&s.addAll(e):(delete r.snapshot,r.clearData(!0)),r.data.addAll(e),void 0!==n)for(;o<a;o++)e[o].index=n+o,e[o].join(r);else for(;o<a;o++)e[o].join(r);r.suspendEvents(),r.filterOnLoad&&!r.remoteFilter&&r.filter(),r.sortOnLoad&&!r.remoteSort&&r.sort(void 0,void 0,void 0,!0),r.resumeEvents(),r.isGrouped()&&r.constructGroups(),r.fireEvent("datachanged",r),r.fireEvent("refresh",r)},loadPage:function(e,t){var n=this;if(n.currentPage=e,t=Ext.apply({page:e,start:(e-1)*n.pageSize,limit:n.pageSize,addRecords:!n.clearOnPageLoad},t),n.buffered)return t.limit=n.viewSize||n.defaultViewSize,n.loadToPrefetch(t);n.read(t)},nextPage:function(e){this.loadPage(this.currentPage+1,e)},previousPage:function(e){this.loadPage(this.currentPage-1,e)},clearData:function(e){var t,n,i=this;if(!i.buffered)for(n=(t=i.data.items).length;n--;)t[n].unjoin(i);i.data.clear(),(!0!==e||i.clearRemovedOnLoad)&&(i.removed.length=0)},loadToPrefetch:function(e){var t,n,i,r=this,o=e,a=e.start,s=e.start+e.limit-1,l=Math.min(s,e.start+(r.viewSize||e.limit)-1),d=r.getPageFromRecordIndex(Math.max(a-r.trailingBufferZone,0)),c=r.getPageFromRecordIndex(s+r.leadingBufferZone),u=function(){r.rangeCached(a,l)&&(r.loading=!1,n=r.data.getRange(a,l),r.data.un("pageAdded",u),r.hasListeners.guaranteedrange&&r.guaranteeRange(a,l,e.callback,e.scope),e.callback&&e.callback.call(e.scope||r,n,a,s,e),r.fireEvent("datachanged",r),r.fireEvent("refresh",r),r.fireEvent("load",r,n,!0),e.groupChange&&r.fireGroupChange())};!1!==r.fireEvent("beforeload",r,e)&&(delete r.totalCount,r.loading=!0,e.callback&&(o=Ext.apply({},e),delete e.callback),r.on("prefetch",function(e,n,a){if(n)if(i=r.getTotalCount())for(r.data.on("pageAdded",u),l=Math.min(l,i-1),c=r.getPageFromRecordIndex(l),t=d+1;t<=c;++t)r.prefetchPage(t,o);else r.fireEvent("datachanged",r),r.fireEvent("refresh",r),r.fireEvent("load",r,e,!0);else r.fireEvent("load",r,e,!1)},null,{single:!0}),r.prefetchPage(d,o))},prefetch:function(e){var t,n,i=this,r=i.pageSize;return r?(i.lastPageSize&&r!=i.lastPageSize&&Ext.Error.raise("pageSize cannot be dynamically altered"),i.data.pageSize||(i.data.pageSize=r)):i.pageSize=i.data.pageSize=r=e.limit,i.lastPageSize=r,e.page||(e.page=i.getPageFromRecordIndex(e.start),e.start=(e.page-1)*r,e.limit=Math.ceil(e.limit/r)*r),i.pageRequests[e.page]||(e=Ext.apply({action:"read",filters:i.filters.items,sorters:i.sorters.items,groupers:i.groupers.items,generation:i.data.generation},e),n=new Ext.data.Operation(e),!1!==i.fireEvent("beforeprefetch",i,n)&&(t=i.proxy,i.pageRequests[e.page]=t.read(n,i.onProxyPrefetch,i),t.isSynchronous&&delete i.pageRequests[e.page])),i},onPageMapClear:function(){var e,t,n=this,i=n.wasLoading,r=n.pageRequests;for(t in n.data.events.pageadded&&n.data.events.pageadded.clearListeners(),n.loading=!0,n.totalCount=0,r)r.hasOwnProperty(t)&&(e=r[t],delete r[t],delete e.callback);n.fireEvent("clear",n),n.loading=i},prefetchPage:function(e,t){var n=this,i=n.pageSize||n.defaultPageSize,r=(e-1)*n.pageSize,o=n.totalCount;void 0!==o&&n.getCount()===o||n.prefetch(Ext.applyIf({page:e,start:r,limit:i},t))},onProxyPrefetch:function(e){var t=this,n=e.getResultSet(),i=e.getRecords(),r=e.wasSuccessful(),o=e.page;e.generation===t.data.generation&&(n&&(t.totalCount=n.total,t.fireEvent("totalcountchange",t.totalCount)),void 0!==o&&delete t.pageRequests[o],t.loading=!1,t.fireEvent("prefetch",t,i,r,e),r&&t.cachePage(i,e.page),Ext.callback(e.callback,e.scope||t,[i,e,r]))},cachePage:function(e,t){var n,i=this,r=e.length;for(Ext.isDefined(i.totalCount)||(i.totalCount=e.length,i.fireEvent("totalcountchange",i.totalCount)),n=0;n<r;n++)e[n].join(i);i.data.addPage(t,e)},rangeCached:function(e,t){return this.data&&this.data.hasRange(e,t)},pageCached:function(e){return this.data&&this.data.hasPage(e)},rangeSatisfied:function(e,t){return this.rangeCached(e,t)},getPageFromRecordIndex:function(e){return Math.floor(e/this.pageSize)+1},onGuaranteedRange:function(e){var t,n=this,i=n.getTotalCount(),r=e.prefetchStart,o=e.prefetchEnd>i-1?i-1:e.prefetchEnd;r>(o=Math.max(0,o))&&Ext.log({level:"warn",msg:"Start ("+r+") was greater than end ("+o+") for the range of records requested ("+r+"-"+e.prefetchEnd+")"+(this.storeId?' from store "'+this.storeId+'"':"")}),t=n.data.getRange(r,o),!1!==e.fireEvent&&n.fireEvent("guaranteedrange",t,r,o,e),e.callback&&e.callback.call(e.scope||n,t,r,o,e)},guaranteeRange:function(e,t,n,i,r){r=Ext.apply({callback:n,scope:i},r),this.getRange(e,t,r)},prefetchRange:function(e,t){var n,i,r,o=this;if(!o.rangeCached(e,t))for(n=o.getPageFromRecordIndex(e),i=o.getPageFromRecordIndex(t),o.data.maxSize=o.purgePageCount?i-n+1+o.purgePageCount:0,r=n;r<=i;r++)o.pageCached(r)||o.prefetchPage(r)},primeCache:function(e,t,n){var i=this;-1===n?(e=Math.max(e-i.leadingBufferZone,0),t=Math.min(t+i.trailingBufferZone,i.totalCount-1)):1===n?(e=Math.max(Math.min(e-i.trailingBufferZone,i.totalCount-i.pageSize),0),t=Math.min(t+i.leadingBufferZone,i.totalCount-1)):(e=Math.min(Math.max(Math.floor(e-(i.leadingBufferZone+i.trailingBufferZone)/2),0),i.totalCount-i.pageSize),t=Math.min(Math.max(Math.ceil(t+(i.leadingBufferZone+i.trailingBufferZone)/2),0),i.totalCount-1)),i.prefetchRange(e,t)},sort:function(){var e=this;return e.buffered&&e.remoteSort&&e.data.clear(),e.callParent(arguments)},doSort:function(e){var t,n,i,r=this;if(r.remoteSort)r.buffered?(r.data.clear(),r.loadPage(1)):r.load();else{if(r.buffered&&Ext.Error.raise({msg:"Local sorting may not be used on a buffered store"}),r.data.sortBy(e),!r.buffered)for(n=(t=r.getRange()).length,i=0;i<n;i++)t[i].index=i;r.fireEvent("datachanged",r),r.fireEvent("refresh",r)}},find:function(e,t,n,i,r,o){var a=this.createFilterFn(e,t,i,r,o);return a?this.data.findIndexBy(a,null,n):-1},findRecord:function(){var e=this,t=e.find.apply(e,arguments);return-1!==t?e.getAt(t):null},createFilterFn:function(e,t,n,i,r){return!Ext.isEmpty(t)&&(t=this.data.createValueMatcher(t,n,i,r),function(n){return t.test(n.data[e])})},findExact:function(e,t,n){return this.data.findIndexBy(function(n){return n.isEqual(n.get(e),t)},this,n)},findBy:function(e,t,n){return this.data.findIndexBy(e,t,n)},collect:function(e,t,n){var i=this;return(!0===n&&i.snapshot?i.snapshot:i.data).collect(e,"data",t)},getCount:function(){return this.data.getCount()},getTotalCount:function(){return this.totalCount||0},getAt:function(e){return this.data.getAt(e)},getRange:function(e,t,n){n&&n.cb&&(n.callback=n.cb,Ext.Error.raise({msg:"guaranteeRange options.cb is deprecated, use options.callback"}));var i,r,o,a,s=this,l=s.totalCount-1,d=s.lastRequestStart;return n=Ext.apply({prefetchStart:e,prefetchEnd:t},n),s.buffered?(t=t>=s.totalCount?l:t,i=0===e?0:e-1,r=t===l?t:t+1,s.lastRequestStart=e,s.rangeCached(i,r)?(s.onGuaranteedRange(n),a=s.data.getRange(e,t)):(s.fireEvent("cachemiss",s,e,t),o=function(a,l){s.rangeCached(i,r)&&(s.fireEvent("cachefilled",s,e,t),s.data.un("pageAdded",o),s.onGuaranteedRange(n))},s.data.on("pageAdded",o),s.prefetchRange(e,t)),s.primeCache(e,t,e<d?-1:1)):(a=s.data.getRange(e,t),n.callback&&n.callback.call(n.scope||s,a,e,t,n)),a},getById:function(e){var t=(this.snapshot||this.data).findBy(function(t){return t.getId()===e});return this.buffered&&!t&&Ext.Error.raise("getById called for ID that is not present in local cache"),t},indexOf:function(e){return this.data.indexOf(e)},indexOfTotal:function(e){var t=e.index;return t||0===t?t:this.indexOf(e)},indexOfId:function(e){return this.indexOf(this.getById(e))},first:function(e){var t=this;return e&&t.isGrouped()?t.aggregate(function(e){return e.length?e[0]:void 0},t,!0):t.data.first()},last:function(e){var t=this;return e&&t.isGrouped()?t.aggregate(function(e){var t=e.length;return t?e[t-1]:void 0},t,!0):t.data.last()},sum:function(e,t){var n=this;return t&&n.isGrouped()?n.aggregate(n.getSum,n,!0,[e]):n.getSum(n.data.items,e)},getSum:function(e,t){for(var n=0,i=0,r=e.length;i<r;++i)n+=e[i].get(t);return n},count:function(e){var t=this;return e&&t.isGrouped()?t.aggregate(function(e){return e.length},t,!0):t.getCount()},min:function(e,t){var n=this;return t&&n.isGrouped()?n.aggregate(n.getMin,n,!0,[e]):n.getMin(n.data.items,e)},getMin:function(e,t){var n,i,r=1,o=e.length;for(o>0&&(i=e[0].get(t));r<o;++r)(n=e[r].get(t))<i&&(i=n);return i},max:function(e,t){var n=this;return t&&n.isGrouped()?n.aggregate(n.getMax,n,!0,[e]):n.getMax(n.data.items,e)},getMax:function(e,t){var n,i,r=1,o=e.length;for(o>0&&(i=e[0].get(t));r<o;++r)(n=e[r].get(t))>i&&(i=n);return i},average:function(e,t){var n=this;return t&&n.isGrouped()?n.aggregate(n.getAverage,n,!0,[e]):n.getAverage(n.data.items,e)},getAverage:function(e,t){var n=0,i=e.length,r=0;if(e.length>0){for(;n<i;++n)r+=e[n].get(t);return r/i}return 0},aggregate:function(e,t,n,i){if(i=i||[],n&&this.isGrouped()){var r,o,a=this.getGroups(),s=a.length,l={};for(o=0;o<s;++o)l[(r=a[o]).name]=this.getAggregate(e,t||this,r.children,i);return l}return this.getAggregate(e,t,this.data.items,i)},getAggregate:function(e,t,n,i){return i=i||[],e.apply(t||this,[n].concat(i))},onIdChanged:function(e,t,n,i){this.data.updateKey(i,n),this.callParent(arguments)},commitChanges:function(){for(var e=this.getModifiedRecords(),t=e.length,n=0;n<t;n++)e[n].commit();this.removed.length=0},filterNewOnly:function(e){return!0===e.phantom},getRejectRecords:function(){return Ext.Array.push(this.data.filterBy(this.filterNewOnly).items,this.getUpdatedRecords())},rejectChanges:function(){for(var e,t=this,n=t.getRejectRecords(),i=n.length,r=0;r<i;r++)(e=n[r]).reject(),e.phantom&&t.remove(e);for(i=(n=t.removed).length,r=0;r<i;r++)e=n[r],t.insert(e.removedFrom||0,e),e.reject();t.removed.length=0}},function(){Ext.regStore("ext-empty-store",{fields:[],proxy:"memory"}),this.prototype.PageMap=new Ext.Class({extend:"Ext.util.LruCache",clear:function(e){var t=this;t.generation=(t.generation||0)+1,t.callParent(arguments)},forEach:function(e,t){var n,i,r,o,a=this,s=Ext.Object.getKeys(a.map),l=s.length;for(n=0;n<l;n++)s[n]=Number(s[n]);for(Ext.Array.sort(s),t=t||a,n=0;n<l;n++)for(o=(r=a.getPage(s[n])).length,i=0;i<o;i++)if(!1===e.call(t,r[i]))return},findBy:function(e,t){var n=null;return t=t||this,this.forEach(function(i){if(e.call(t,i))return n=i,!1}),n},getPageFromRecordIndex:this.prototype.getPageFromRecordIndex,addAll:function(e){this.getCount()&&Ext.Error.raise("Cannot addAll to a non-empty PageMap"),this.addPage(1,e)},addPage:function(e,t){var n,i,r=this,o=e+Math.floor((t.length-1)/r.pageSize);for(n=0;e<=o;e++,n+=r.pageSize)i=Ext.Array.slice(t,n,n+r.pageSize),r.add(e,i),r.fireEvent("pageAdded",e,i)},getCount:function(){var e=this.callParent();return e&&(e=(e-1)*this.pageSize+this.last.value.length),e},indexOf:function(e){return e?e.index:-1},insert:function(){Ext.Error.raise("insert operation not suppported into buffered Store")},remove:function(){Ext.Error.raise("remove operation not suppported from buffered Store")},removeAt:function(){Ext.Error.raise("removeAt operation not suppported from buffered Store")},getPage:function(e){return this.get(e)},hasRange:function(e,t){for(var n=this.getPageFromRecordIndex(e),i=this.getPageFromRecordIndex(t);n<=i;n++)if(!this.hasPage(n))return!1;return!0},hasPage:function(e){return!!this.get(e)},getAt:function(e){return this.getRange(e,e)[0]},getRange:function(e,t){this.hasRange(e,t)||Ext.Error.raise("PageMap asked for range which it does not have");for(var n,i,r,o,a=this,s=a.getPageFromRecordIndex(e),l=a.getPageFromRecordIndex(t),d=(s-1)*a.pageSize,c=l*a.pageSize-1,u=s,h=[],f=0;u<=l;u++)u==s?(n=e-d,r=!0):(n=0,r=!1),u==l&&(i=a.pageSize-(c-t),r=!0),r?Ext.Array.push(h,Ext.Array.slice(a.getPage(u),n,i)):Ext.Array.push(h,a.getPage(u));for(o=h.length;f<o;f++)h[f].index=e++;return h}})}),Ext.define("Ext.data.reader.Array",{extend:Ext.data.reader.Json,alternateClassName:"Ext.data.ArrayReader",alias:"reader.array",totalProperty:void 0,successProperty:void 0,createFieldAccessExpression:function(e,t,n){var i,r=null==e.mapping?e.originalIndex:e.mapping;return"function"==typeof r?i=t+".mapping("+n+", this)":(isNaN(r)&&(r='"'+r+'"'),i=n+"["+r+"]"),i}}),Ext.define("Ext.data.ArrayStore",{extend:Ext.data.Store,alias:"store.array",constructor:function(e){e=Ext.apply({proxy:{type:"memory",reader:"array"}},e),this.callParent([e])},loadData:function(e,t){if(!0===this.expandData){for(var n=[],i=0,r=e.length;i<r;i++)n[n.length]=[e[i]];e=n}this.callParent([e,t])}},function(){Ext.data.SimpleStore=Ext.data.ArrayStore}),Ext.define("Ext.data.Batch",{mixins:{observable:Ext.util.Observable},autoStart:!1,pauseOnException:!1,current:-1,total:0,isRunning:!1,isComplete:!1,hasException:!1,constructor:function(e){var t=this;t.mixins.observable.constructor.call(t,e),t.operations=[],t.exceptions=[]},add:function(e){return this.total++,e.setBatch(this),this.operations.push(e),this},start:function(e){var t=this;return t.isRunning?t:(t.exceptions.length=0,t.hasException=!1,t.isRunning=!0,t.runOperation(Ext.isDefined(e)?e:t.current+1))},retry:function(){return this.start(this.current)},runNextOperation:function(){return this.runOperation(this.current+1)},pause:function(){return this.isRunning=!1,this},runOperation:function(e){var t,n=this,i=n.operations,r=i[e];return void 0===r?(n.isRunning=!1,n.isComplete=!0,n.fireEvent("complete",n,i[i.length-1])):(n.current=e,t=function(e){var t=e.hasException();t&&(n.hasException=!0,n.exceptions.push(e),n.fireEvent("exception",n,e)),t&&n.pauseOnException?n.pause():(e.setCompleted(),n.fireEvent("operationcomplete",n,e),n.runNextOperation())},r.setStarted(),n.proxy[r.action](r,t,n)),n}}),Ext.define("Ext.data.Request",{action:void 0,params:void 0,method:"GET",url:void 0,constructor:function(e){Ext.apply(this,e)}}),Ext.define("Ext.data.association.BelongsTo",{extend:Ext.data.association.Association,alternateClassName:"Ext.data.BelongsToAssociation",alias:"association.belongsto",constructor:function(e){this.callParent(arguments);var t=this,n=t.ownerModel.prototype,i=t.associatedName,r=t.getterName||"get"+i,o=t.setterName||"set"+i;Ext.applyIf(t,{name:i,foreignKey:i.toLowerCase()+"_id",instanceName:i+"BelongsToInstance",associationKey:i.toLowerCase()}),n[r]=t.createGetter(),n[o]=t.createSetter()},createSetter:function(){var e=this.foreignKey,t=this.instanceName;return function(n,i,r){var o=n&&n.isModel,a=o?n.getId():n;if(o?this[t]=n:this[t]instanceof Ext.data.Model&&!this.isEqual(this.get(e),a)&&delete this[t],this.set(e,a),Ext.isFunction(i)&&(i={callback:i,scope:r||this}),Ext.isObject(i))return this.save(i)}},createGetter:function(){var e=this,t=e.associatedName,n=e.associatedModel,i=e.foreignKey,r=e.primaryKey,o=e.instanceName;return function(e,a){e=e||{};var s,l,d,c=this,u=c.get(i);return!0===e.reload||void 0===c[o]?((l=Ext.ModelManager.create({},t)).set(r,u),"function"==typeof e&&(e={callback:e,scope:a||c}),s=e.success,e.success=function(e){c[o]=e,s&&s.apply(this,arguments)},n.load(u,e),c[o]=l,l):(d=[l=c[o]],a=a||e.scope||c,Ext.callback(e,a,d),Ext.callback(e.success,a,d),Ext.callback(e.failure,a,d),Ext.callback(e.callback,a,d),l)}},read:function(e,t,n){e[this.instanceName]=t.read([n]).records[0]}}),Ext.define("Ext.util.Inflector",{singleton:!0,plurals:[[/(quiz)$/i,"$1zes"],[/^(ox)$/i,"$1en"],[/([m|l])ouse$/i,"$1ice"],[/(matr|vert|ind)ix|ex$/i,"$1ices"],[/(x|ch|ss|sh)$/i,"$1es"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/(hive)$/i,"$1s"],[/(?:([^f])fe|([lr])f)$/i,"$1$2ves"],[/sis$/i,"ses"],[/([ti])um$/i,"$1a"],[/(buffal|tomat|potat)o$/i,"$1oes"],[/(bu)s$/i,"$1ses"],[/(alias|status|sex)$/i,"$1es"],[/(octop|vir)us$/i,"$1i"],[/(ax|test)is$/i,"$1es"],[/^person$/,"people"],[/^man$/,"men"],[/^(child)$/,"$1ren"],[/s$/i,"s"],[/$/,"s"]],singulars:[[/(quiz)zes$/i,"$1"],[/(matr)ices$/i,"$1ix"],[/(vert|ind)ices$/i,"$1ex"],[/^(ox)en/i,"$1"],[/(alias|status)es$/i,"$1"],[/(octop|vir)i$/i,"$1us"],[/(cris|ax|test)es$/i,"$1is"],[/(shoe)s$/i,"$1"],[/(o)es$/i,"$1"],[/(bus)es$/i,"$1"],[/([m|l])ice$/i,"$1ouse"],[/(x|ch|ss|sh)es$/i,"$1"],[/(m)ovies$/i,"$1ovie"],[/(s)eries$/i,"$1eries"],[/([^aeiouy]|qu)ies$/i,"$1y"],[/([lr])ves$/i,"$1f"],[/(tive)s$/i,"$1"],[/(hive)s$/i,"$1"],[/([^f])ves$/i,"$1fe"],[/(^analy)ses$/i,"$1sis"],[/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$/i,"$1$2sis"],[/([ti])a$/i,"$1um"],[/(n)ews$/i,"$1ews"],[/people$/i,"person"],[/s$/i,""]],uncountable:["sheep","fish","series","species","money","rice","information","equipment","grass","mud","offspring","deer","means"],singular:function(e,t){this.singulars.unshift([e,t])},plural:function(e,t){this.plurals.unshift([e,t])},clearSingulars:function(){this.singulars=[]},clearPlurals:function(){this.plurals=[]},isTransnumeral:function(e){return-1!=Ext.Array.indexOf(this.uncountable,e)},pluralize:function(e){if(this.isTransnumeral(e))return e;var t,n,i,r=this.plurals,o=r.length;for(i=0;i<o;i++)if((n=(t=r[i])[0])==e||n.test&&n.test(e))return e.replace(n,t[1]);return e},singularize:function(e){if(this.isTransnumeral(e))return e;var t,n,i,r=this.singulars,o=r.length;for(i=0;i<o;i++)if((n=(t=r[i])[0])==e||n.test&&n.test(e))return e.replace(n,t[1]);return e},classify:function(e){return Ext.String.capitalize(this.singularize(e))},ordinalize:function(e){var t=parseInt(e,10),n=t%100;if(11<=n&&n<=13)return e+"th";switch(t%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd";default:return e+"th"}}},function(){var e,t={alumnus:"alumni",cactus:"cacti",focus:"foci",nucleus:"nuclei",radius:"radii",stimulus:"stimuli",ellipsis:"ellipses",paralysis:"paralyses",oasis:"oases",appendix:"appendices",index:"indexes",beau:"beaux",bureau:"bureaux",tableau:"tableaux",woman:"women",child:"children",man:"men",corpus:"corpora",criterion:"criteria",curriculum:"curricula",genus:"genera",memorandum:"memoranda",phenomenon:"phenomena",foot:"feet",goose:"geese",tooth:"teeth",antenna:"antennae",formula:"formulae",nebula:"nebulae",vertebra:"vertebrae",vita:"vitae"};for(e in t)this.plural(e,t[e]),this.singular(t[e],e)}),Ext.define("Ext.data.association.HasMany",{extend:Ext.data.association.Association,alternateClassName:"Ext.data.HasManyAssociation",alias:"association.hasmany",constructor:function(e){var t,n,i=this;i.callParent(arguments),i.name=i.name||Ext.util.Inflector.pluralize(i.associatedName.toLowerCase()),t=i.ownerModel.prototype,n=i.name,Ext.applyIf(i,{storeName:n+"Store",foreignKey:i.ownerName.toLowerCase()+"_id"}),t[n]=i.createStore()},createStore:function(){var e=this,t=e.associatedModel,n=e.storeName,i=e.foreignKey,r=e.primaryKey,o=e.filterProperty,a=e.autoLoad,s=e.storeConfig||{};return function(){var e,l,d=this,c={};return void 0===d[n]&&(l=o?{property:o,value:d.get(o),exactMatch:!0}:{property:i,value:d.get(r),exactMatch:!0},c[i]=d.get(r),e=Ext.apply({},s,{model:t,filters:[l],remoteFilter:!1,modelDefaults:c}),d[n]=Ext.data.AbstractStore.create(e),a&&d[n].load()),d[n]}},read:function(e,t,n){var i,r,o,a,s=e[this.name]();if(s.add(t.read(n).records),i=this.associatedModel.prototype.associations.findBy(function(t){return"belongsTo"===t.type&&t.associatedName===e.$className}))for(o=(r=s.data.items).length,a=0;a<o;a++)r[a][i.instanceName]=e}}),Ext.define("Ext.data.association.HasOne",{extend:Ext.data.association.Association,alternateClassName:"Ext.data.HasOneAssociation",alias:"association.hasone",constructor:function(e){this.callParent(arguments);var t=this,n=t.ownerModel.prototype,i=t.associatedName,r=t.getterName||"get"+i,o=t.setterName||"set"+i;Ext.applyIf(t,{name:i,foreignKey:i.toLowerCase()+"_id",instanceName:i+"HasOneInstance",associationKey:i.toLowerCase()}),n[r]=t.createGetter(),n[o]=t.createSetter()},createSetter:function(){var e=this.foreignKey,t=this.instanceName;return function(n,i,r){var o=n&&n.isModel,a=o?n.getId():n;if(o?this[t]=n:this[t]instanceof Ext.data.Model&&!this.isEqual(this.get(e),a)&&delete this[t],this.set(e,a),Ext.isFunction(i)&&(i={callback:i,scope:r||this}),Ext.isObject(i))return this.save(i)}},createGetter:function(){var e=this,t=(e.ownerModel,e.associatedName),n=e.associatedModel,i=e.foreignKey,r=e.primaryKey,o=e.instanceName;return function(e,a){e=e||{};var s,l,d,c=this,u=c.get(i);return!0===e.reload||void 0===c[o]?((l=Ext.ModelManager.create({},t)).set(r,u),"function"==typeof e&&(e={callback:e,scope:a||c}),s=e.success,e.success=function(e){c[o]=e,s&&s.apply(this,arguments)},n.load(u,e),c[o]=l,l):(d=[l=c[o]],a=a||e.scope||c,Ext.callback(e,a,d),Ext.callback(e.success,a,d),Ext.callback(e.failure,a,d),Ext.callback(e.callback,a,d),l)}},read:function(e,t,n){var i=this.associatedModel.prototype.associations.findBy(function(t){return"belongsTo"===t.type&&t.associatedName===e.$className}),r=t.read([n]).records[0];e[this.instanceName]=r,i&&(r[i.instanceName]=e)}}),Ext.define("Ext.dd.DDTarget",{extend:Ext.dd.DragDrop,constructor:function(e,t,n){e&&this.initTarget(e,t,n)},getDragEl:Ext.emptyFn,isValidHandleChild:Ext.emptyFn,startDrag:Ext.emptyFn,endDrag:Ext.emptyFn,onDrag:Ext.emptyFn,onDragDrop:Ext.emptyFn,onDragEnter:Ext.emptyFn,onDragOut:Ext.emptyFn,onDragOver:Ext.emptyFn,onInvalidDrop:Ext.emptyFn,onMouseDown:Ext.emptyFn,onMouseUp:Ext.emptyFn,setXConstraint:Ext.emptyFn,setYConstraint:Ext.emptyFn,resetConstraints:Ext.emptyFn,clearConstraints:Ext.emptyFn,clearTicks:Ext.emptyFn,setInitPosition:Ext.emptyFn,setDragElId:Ext.emptyFn,setHandleElId:Ext.emptyFn,setOuterHandleElId:Ext.emptyFn,addInvalidHandleClass:Ext.emptyFn,addInvalidHandleId:Ext.emptyFn,addInvalidHandleType:Ext.emptyFn,removeInvalidHandleClass:Ext.emptyFn,removeInvalidHandleId:Ext.emptyFn,removeInvalidHandleType:Ext.emptyFn,toString:function(){return"DDTarget "+this.id}}),Ext.define("Ext.dd.DragTracker",{mixins:{observable:Ext.util.Observable},active:!1,trackOver:!1,tolerance:5,autoStart:!1,constructor:function(e){var t=this;Ext.apply(t,e),t.addEvents("mouseover","mouseout","mousedown","mouseup","mousemove","beforedragstart","dragstart","dragend","drag"),t.dragRegion=new Ext.util.Region(0,0,0,0),t.el&&t.initEl(t.el),t.mixins.observable.constructor.call(t),t.disabled&&t.disable()},initEl:function(e){var t=this;t.el=Ext.get(e),t.handle=Ext.get(t.delegate),t.delegate=t.handle?void 0:t.delegate,t.handle||(t.handle=t.el),t.handleListeners={scope:t,delegate:t.delegate,mousedown:t.onMouseDown},(t.trackOver||t.overCls)&&Ext.apply(t.handleListeners,{mouseover:t.onMouseOver,mouseout:t.onMouseOut}),t.mon(t.handle,t.handleListeners)},disable:function(){this.disabled=!0},enable:function(){this.disabled=!1},destroy:function(){var e=this;e.active&&e.endDrag({}),e.clearListeners(),e.mun(e.handle,e.handleListeners),e.el=e.handle=null},onMouseOver:function(e,t){var n=this;n.disabled||(Ext.EventManager.contains(e)||n.delegate)&&(n.mouseIsOut=!1,n.overCls&&n.el.addCls(n.overCls),n.fireEvent("mouseover",n,e,n.delegate?e.getTarget(n.delegate,t):n.handle))},onMouseOut:function(e){var t=this;t.mouseIsDown?t.mouseIsOut=!0:(t.overCls&&t.el.removeCls(t.overCls),t.fireEvent("mouseout",t,e))},onMouseDown:function(e,t){var n,i=this;i.disabled||e.dragTracked||(i.dragTarget=i.delegate?t:i.handle.dom,i.startXY=i.lastXY=e.getXY(),i.startRegion=Ext.fly(i.dragTarget).getRegion(),!1!==i.fireEvent("mousedown",i,e)&&!1!==i.fireEvent("beforedragstart",i,e)&&!1!==i.onBeforeStart(e)&&(i.mouseIsDown=!0,e.dragTracked=!0,n=i.el.dom,Ext.isIE&&n.setCapture&&n.setCapture(),!1!==i.preventDefault&&e.preventDefault(),Ext.getDoc().on({scope:i,mouseup:i.onMouseUp,mousemove:i.onMouseMove,selectstart:i.stopSelect}),i.autoStart&&(i.timer=Ext.defer(i.triggerStart,!0===i.autoStart?1e3:i.autoStart,i,[e]))))},onMouseMove:function(e,t){var n=this,i=e.getXY(),r=n.startXY;if(e.preventDefault(),n.lastXY=i,!n.active){if(!(Math.max(Math.abs(r[0]-i[0]),Math.abs(r[1]-i[1]))>n.tolerance))return;n.triggerStart(e)}!1===n.fireEvent("mousemove",n,e)?n.onMouseUp(e):(n.onDrag(e),n.fireEvent("drag",n,e))},onMouseUp:function(e){var t=this;t.mouseIsDown=!1,t.mouseIsOut&&(t.mouseIsOut=!1,t.onMouseOut(e)),e.preventDefault(),Ext.isIE&&document.releaseCapture&&document.releaseCapture(),t.fireEvent("mouseup",t,e),t.endDrag(e)},endDrag:function(e){var t=this,n=Ext.getDoc(),i=t.active;n.un("mousemove",t.onMouseMove,t),n.un("mouseup",t.onMouseUp,t),n.un("selectstart",t.stopSelect,t),t.clearStart(),t.active=!1,i&&(t.onEnd(e),t.fireEvent("dragend",t,e)),delete t._constrainRegion,delete Ext.EventObject.dragTracked},triggerStart:function(e){var t=this;t.clearStart(),t.active=!0,t.onStart(e),t.fireEvent("dragstart",t,e)},clearStart:function(){var e=this.timer;e&&(clearTimeout(e),delete this.timer)},stopSelect:function(e){return e.stopEvent(),!1},onBeforeStart:function(e){},onStart:function(e){},onDrag:function(e){},onEnd:function(e){},getDragTarget:function(){return this.dragTarget},getDragCt:function(){return this.el},getConstrainRegion:function(){var e=this;if(e.constrainTo){if(e.constrainTo instanceof Ext.util.Region)return e.constrainTo;e._constrainRegion||(e._constrainRegion=Ext.fly(e.constrainTo).getViewRegion())}else e._constrainRegion||(e._constrainRegion=e.getDragCt().getViewRegion());return e._constrainRegion},getXY:function(e){return e?this.constrainModes[e](this,this.lastXY):this.lastXY},getOffset:function(e){var t=this.getXY(e),n=this.startXY;return[t[0]-n[0],t[1]-n[1]]},constrainModes:{point:function(e,t){var n=e.dragRegion,i=e.getConstrainRegion();return i?(n.x=n.left=n[0]=n.right=t[0],n.y=n.top=n[1]=n.bottom=t[1],n.constrainTo(i),[n.left,n.top]):t},dragTarget:function(e,t){var n,i=e.startXY,r=e.startRegion.copy(),o=e.getConstrainRegion();return o?(r.translateBy(t[0]-i[0],t[1]-i[1]),r.right>o.right&&(t[0]+=n=o.right-r.right,r.left+=n),r.left<o.left&&(t[0]+=o.left-r.left),r.bottom>o.bottom&&(t[1]+=n=o.bottom-r.bottom,r.top+=n),r.top<o.top&&(t[1]+=o.top-r.top),t):t}}}),Ext.define("Ext.util.Queue",{constructor:function(){this.clear()},add:function(e){var t=this,n=t.getKey(e);return t.map[n]||(++t.length,t.items.push(e),t.map[n]=e),e},clear:function(){var e=this,t=e.items;return e.items=[],e.map={},e.length=0,t},contains:function(e){var t=this.getKey(e);return this.map.hasOwnProperty(t)},getCount:function(){return this.length},getKey:function(e){return e.id},remove:function(e){var t,n=this,i=n.getKey(e),r=n.items;return n.map[i]&&(t=Ext.Array.indexOf(r,e),Ext.Array.erase(r,t,1),delete n.map[i],--n.length),e}}),Ext.define("Ext.layout.ClassList",function(){var e=Ext.String.splitWords,t=Ext.Array.toMap;return{dirty:!1,constructor:function(n){this.owner=n,this.map=t(this.classes=e(n.el.className))},add:function(e){var t=this;t.map[e]||(t.map[e]=!0,t.classes.push(e),t.dirty||(t.dirty=!0,t.owner.markDirty()))},addMany:function(t){Ext.each(e(t),this.add,this)},contains:function(e){return this.map[e]},flush:function(){this.owner.el.className=this.classes.join(" "),this.dirty=!1},remove:function(e){var t=this;t.map[e]&&(delete t.map[e],t.classes=Ext.Array.filter(t.classes,function(t){return t!=e}),t.dirty||(t.dirty=!0,t.owner.markDirty()))},removeMany:function(n){var i=this,r=t(e(n));i.classes=Ext.Array.filter(i.classes,function(e){return!r[e]||(delete i.map[e],i.dirty||(i.dirty=!0,i.owner.markDirty()),!1)})}}}()),Ext.define("Ext.layout.ContextItem",{heightModel:null,widthModel:null,sizeModel:null,optOut:!1,ownerSizePolicy:null,boxChildren:null,boxParent:null,isBorderBoxValue:null,children:[],dirty:null,dirtyCount:0,hasRawContent:!0,isContextItem:!0,isTopLevel:!1,consumersContentHeight:0,consumersContentWidth:0,consumersContainerHeight:0,consumersContainerWidth:0,consumersHeight:0,consumersWidth:0,ownerCtContext:null,remainingChildDimensions:0,props:null,state:null,wrapsComponent:!1,constructor:function(e){var t,n,i,r,o,a,s,l,d,c,u,h,f,p,g=this,m=Ext.layout.SizeModel.sizeModels,x=m.configured,y=m.shrinkWrap;Ext.apply(g,e),t=g.el,g.id=t.id,g.flushedProps={},g.props=o={},g.styles={},(s=g.target).isComponent?(g.wrapsComponent=!0,g.framing=s.frameSize||null,g.isComponentChild=s.ownerLayout&&s.ownerLayout.isComponentLayout,n=s.lastBox,(i=s.ownerCt)&&(r=g.context.items[i.el.id])&&(g.ownerCtContext=r),g.sizeModel=a=s.getSizeModel(r&&r.widthModel.pairsByHeightOrdinal[r.heightModel.ordinal]),g.widthModel=h=a.width,g.heightModel=f=a.height,n&&!1===n.invalid&&(c=s.width===(l=n.width),u=s.height===(d=n.height),h===y&&f===y?p=!0:h===x&&c&&(p=f===y||f===x&&u),p&&(g.optOut=!0,o.width=l,o.height=d))):n=t.lastBox,g.lastBox=n},init:function(e,t){var n,i,r,o,a,s,l,d,c=this,u=c.props,h=c.dirty,f=c.ownerCtContext,p=c.target.ownerLayout,g=!c.state,m=e||g,x=c.heightModel,y=c.widthModel;if(c.dirty=c.invalid=!1,c.props={},c.remainingChildDimensions=0,c.boxChildren&&(c.boxChildren.length=0),g||(c.clearAllBlocks("blocks"),c.clearAllBlocks("domBlocks")),!c.wrapsComponent)return m;if(s=c.target,c.state={},g)s.beforeLayout&&s.beforeLayout!==Ext.emptyFn&&s.beforeLayout(),!f&&(o=s.ownerCt)&&(f=c.context.items[o.el.id]),f?(c.ownerCtContext=f,c.isBoxParent=s.ownerLayout.isItemBoxParent(c)):c.isTopLevel=!0,c.frameBodyContext=c.getEl("frameBody");else for(f=c.ownerCtContext,c.isTopLevel=!f,i=0,r=(n=c.children).length;i<r;++i)n[i].init(!0);return c.hasRawContent=!(s.isContainer&&s.items.items.length>0),e?(c.widthModel=c.heightModel=null,a=s.getSizeModel(f&&f.widthModel.pairsByHeightOrdinal[f.heightModel.ordinal]),g&&(c.sizeModel=a),c.widthModel=a.width,c.heightModel=a.height,f&&!c.isComponentChild&&(f.remainingChildDimensions+=2)):u&&(c.recoverProp("x",u,h),c.recoverProp("y",u,h),c.widthModel.calculated&&c.recoverProp("width",u,h),c.heightModel.calculated&&c.recoverProp("height",u,h),f&&!c.isComponentChild&&(f.remainingChildDimensions+=("width"in u)+("height"in u))),u&&p&&p.manageMargins&&(c.recoverProp("margin-top",u,h),c.recoverProp("margin-right",u,h),c.recoverProp("margin-bottom",u,h),c.recoverProp("margin-left",u,h)),t&&(l=t.heightModel,(d=t.widthModel)&&l&&y&&x&&y.shrinkWrap&&x.shrinkWrap&&d.constrainedMax&&l.constrainedMin&&(l=null),d&&(c.widthModel=d),l&&(c.heightModel=l),t.state&&Ext.apply(c.state,t.state)),m},initContinue:function(e){var t,n=this,i=n.ownerCtContext,r=n.target,o=n.widthModel,a=r.getHierarchyState();return o.fixed?a.inShrinkWrapTable=!1:delete a.inShrinkWrapTable,e&&(i&&o.shrinkWrap?(t=i.isBoxParent?i:i.boxParent)&&t.addBoxChild(n):o.natural&&(n.boxParent=i)),e},initDone:function(e){var t=this,n=t.props,i=t.state;0===t.remainingChildDimensions&&(n.containerChildrenSizeDone=!0),e&&(n.containerLayoutDone=!0),t.boxChildren&&t.boxChildren.length&&t.widthModel.shrinkWrap&&(t.el.setWidth(1e4),i.blocks=(i.blocks||0)+1)},initAnimation:function(){var e=this,t=e.target,n=e.ownerCtContext;n&&n.isTopLevel?e.animatePolicy=t.ownerLayout.getAnimatePolicy(e):!n&&t.isCollapsingOrExpanding&&t.animCollapse&&(e.animatePolicy=t.componentLayout.getAnimatePolicy(e)),e.animatePolicy&&e.context.queueAnimation(e)},addCls:function(e){this.getClassList().addMany(e)},removeCls:function(e){this.getClassList().removeMany(e)},addBlock:function(e,t,n){var i=this,r=i[e]||(i[e]={}),o=r[n]||(r[n]={});o[t.id]||(o[t.id]=t,++t.blockCount,++i.context.blockCount)},addBoxChild:function(e){var t,n=e.widthModel;e.boxParent=this,e.measuresBox=n.shrinkWrap?e.hasRawContent:n.natural,e.measuresBox&&((t=this.boxChildren)?t.push(e):this.boxChildren=[e])},addPositionStyles:function(e,t){var n=t.x,i=t.y,r=0;return void 0!==n&&(e.left=n+"px",++r),void 0!==i&&(e.top=i+"px",++r),r},addTrigger:function(e,t){var n=this,i=t?"domTriggers":"triggers",r=n[i]||(n[i]={}),o=n.context,a=o.currentLayout,s=r[e]||(r[e]={});s[a.id]||(s[a.id]=a,++a.triggerCount,((s=o.triggers[t?"dom":"data"])[a.id]||(s[a.id]=[])).push({item:this,prop:e}),void 0!==n.props[e]&&(t&&n.dirty&&e in n.dirty||++a.firedTriggers))},boxChildMeasured:function(){var e=this,t=e.state;(t.boxesMeasured=(t.boxesMeasured||0)+1)==e.boxChildren.length&&(t.clearBoxWidth=1,++e.context.progressCount,e.markDirty())},borderNames:["border-top-width","border-right-width","border-bottom-width","border-left-width"],marginNames:["margin-top","margin-right","margin-bottom","margin-left"],paddingNames:["padding-top","padding-right","padding-bottom","padding-left"],trblNames:["top","right","bottom","left"],cacheMissHandlers:{borderInfo:function(e){var t=e.getStyles(e.borderNames,e.trblNames);return t.width=t.left+t.right,t.height=t.top+t.bottom,t},marginInfo:function(e){var t=e.getStyles(e.marginNames,e.trblNames);return t.width=t.left+t.right,t.height=t.top+t.bottom,t},paddingInfo:function(e){var t=(e.frameBodyContext||e).getStyles(e.paddingNames,e.trblNames);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}},checkCache:function(e){return this.cacheMissHandlers[e](this)},clearAllBlocks:function(e){var t,n=this[e];if(n)for(t in n)this.clearBlocks(e,t)},clearBlocks:function(e,t){var n,i,r,o=this[e],a=o&&o[t];if(a)for(r in delete o[t],n=this.context,a)i=a[r],--n.blockCount,--i.blockCount||i.pending||i.done||n.queueLayout(i)},block:function(e,t){this.addBlock("blocks",e,t)},domBlock:function(e,t){this.addBlock("domBlocks",e,t)},fireTriggers:function(e,t){var n,i,r=this[e],o=r&&r[t],a=this.context;if(o)for(i in o)++(n=o[i]).firedTriggers,n.done||n.blockCount||n.pending||a.queueLayout(n)},flush:function(){var e=this,t=e.dirty,n=e.state,i=e.el;e.dirtyCount=0,e.classList&&e.classList.dirty&&e.classList.flush(),"attributes"in e&&(i.set(e.attributes),delete e.attributes),"innerHTML"in e&&(i.innerHTML=e.innerHTML,delete e.innerHTML),n&&n.clearBoxWidth&&(n.clearBoxWidth=0,e.el.setStyle("width",null),--n.blocks||e.context.queueItemLayouts(e)),t&&(delete e.dirty,e.writeProps(t,!0))},flushAnimations:function(){var e,t,n,i,r,o,a,s,l,d,c,u=this,h=u.previousSize;if(h){for((t=(e=u.target).layout&&e.layout.animate)&&(n=Ext.isNumber(t)?t:t.duration),i=Ext.Object.getKeys(u.animatePolicy),r=Ext.apply({},{from:{},to:{},duration:n||Ext.fx.Anim.prototype.duration},t),o=0,a=0,s=i.length;a<s;a++)(d=h[l=i[a]])!=(c=u.peek(l))&&(l=u.translateProps[l]||l,r.from[l]=d,r.to[l]=c,++o);o&&(1===u.isCollapsingOrExpanding?e.componentLayout.undoLayout(u):u.writeProps(r.from),u.el.animate(r),Ext.fx.Manager.getFxQueue(u.el.id)[0].on({afteranimate:function(){1===u.isCollapsingOrExpanding?(e.componentLayout.redoLayout(u),e.afterCollapse(!0)):2===u.isCollapsingOrExpanding&&e.afterExpand(!0)}}))}},getBorderInfo:function(){var e=this,t=e.borderInfo;return t||(e.borderInfo=t=e.checkCache("borderInfo")),t},getClassList:function(){return this.classList||(this.classList=new Ext.layout.ClassList(this))},getEl:function(e,t){var n,i,r,o=this;if(e){if(e.dom)i=e;else if(n=o.target,t&&(n=t),"function"==typeof(i=n[e])&&(i=i.call(n))===o.el)return this;i&&(r=o.context.getEl(o,i))}return r||null},getFrameInfo:function(){var e,t,n=this,i=n.frameInfo;return i||(e=n.framing,t=n.getBorderInfo(),n.frameInfo=i=e?{top:e.top+t.top,right:e.right+t.right,bottom:e.bottom+t.bottom,left:e.left+t.left,width:e.width+t.width,height:e.height+t.height}:t),i},getMarginInfo:function(){var e,t,n,i,r,o=this,a=o.marginInfo;return a||(o.wrapsComponent?(r=(i=(e=o.target).ownerLayout)?i.id:null,t=i&&i.manageMargins,(a=e.margin$)&&a.ownerId!==r&&(a=null),a||(a=o.parseMargins(e,e.margin)||o.checkCache("marginInfo"),t&&((n=o.parseMargins(e,e.margins,i.defaultMargins))&&(a={top:a.top+n.top,right:a.right+n.right,bottom:a.bottom+n.bottom,left:a.left+n.left}),o.setProp("margin-top",0),o.setProp("margin-right",0),o.setProp("margin-bottom",0),o.setProp("margin-left",0)),a.ownerId=r,e.margin$=a),a.width=a.left+a.right,a.height=a.top+a.bottom):a=o.checkCache("marginInfo"),o.marginInfo=a),a},clearMarginCache:function(){delete this.marginInfo,delete this.target.margin$},getPaddingInfo:function(){var e=this,t=e.paddingInfo;return t||(e.paddingInfo=t=e.checkCache("paddingInfo")),t},getProp:function(e){var t=this.props[e];return this.addTrigger(e),t},getDomProp:function(e){var t=this,n=t.dirty&&e in t.dirty?void 0:t.props[e];return t.addTrigger(e,!0),n},getStyle:function(e){var t,n,i=this,r=i.styles;return e in r?n=r[e]:(t=i.styleInfo[e],n=i.el.getStyle(e),t&&t.parseInt&&(n=parseInt(n,10)||0),r[e]=n),n},getStyles:function(e,t){var n,i,r,o,a,s,l,d,c=this,u=c.styles,h={},f=0,p=e.length;for(t=t||e,n=0;n<p;++n)(o=e[n])in u?(h[t[n]]=u[o],++f,n&&1==f&&(i=e.slice(0,n),r=t.slice(0,n))):f&&((i||(i=[])).push(o),(r||(r=[])).push(t[n]));if(f<p)for(i=i||e,r=r||t,s=c.styleInfo,l=c.el.getStyle(i),n=i.length;n--;)a=s[o=i[n]],d=l[o],a&&a.parseInt&&(d=parseInt(d,10)||0),h[r[n]]=d,u[o]=d;return h},hasProp:function(e){return void 0!==this.getProp(e)},hasDomProp:function(e){return void 0!==this.getDomProp(e)},invalidate:function(e){this.context.queueInvalidate(this,e)},markDirty:function(){1==++this.dirtyCount&&this.context.queueFlush(this)},onBoxMeasured:function(){var e=this.boxParent,t=this.state;e&&e.widthModel.shrinkWrap&&!t.boxMeasured&&this.measuresBox&&(t.boxMeasured=1,e.boxChildMeasured())},parseMargins:function(e,t,n){!0===t&&(t=5);var i,r=typeof t;return"string"==r||"number"==r?i=e.parseBox(t):(t||n)&&(i={top:0,right:0,bottom:0,left:0},n&&Ext.apply(i,this.parseMargins(e,n)),t&&(t=Ext.apply(i,e.parseBox(t)))),i},peek:function(e){return this.props[e]},recoverProp:function(e,t,n){var i=this,r=i.props;e in t&&(r[e]=t[e],n&&e in n&&((i.dirty||(i.dirty={}))[e]=n[e]))},redo:function(e){var t,n,i,r=this;if(r.revertProps(r.props),e&&r.wrapsComponent){if(r.childItems)for(i=0,n=(t=r.childItems).length;i<n;i++)t[i].redo(e);for(i=0,n=(t=r.children).length;i<n;i++)t[i].redo()}},removeEl:function(e,t){var n,i,r=this;if(e){if(e.dom)i=e;else if(n=r.target,t&&(n=t),"function"==typeof(i=n[e])&&(i=i.call(n))===r.el)return this;i&&r.context.removeEl(r,i)}},revertProps:function(e){var t,n=this.flushedProps,i={};for(t in e)n.hasOwnProperty(t)&&(i[t]=e[t]);this.writeProps(i)},setAttribute:function(e,t){var n=this;n.attributes||(n.attributes={}),n.attributes[e]=t,n.markDirty()},setBox:function(e){var t=this;"left"in e&&t.setProp("x",e.left),"top"in e&&t.setProp("y",e.top),t.setSize(e.width,e.height)},setContentHeight:function(e,t){return!t&&this.hasRawContent?1:this.setProp("contentHeight",e)},setContentWidth:function(e,t){return!t&&this.hasRawContent?1:this.setProp("contentWidth",e)},setContentSize:function(e,t,n){return this.setContentWidth(e,n)+this.setContentHeight(t,n)==2},setProp:function(e,t,n){var i,r=this,o=typeof t;return"undefined"==o||"number"===o&&isNaN(t)?0:r.props[e]===t?1:(r.props[e]=t,++r.context.progressCount,!1===n?(r.fireTriggers("domTriggers",e),r.clearBlocks("domBlocks",e)):r.styleInfo[e]&&(r.dirty||(r.dirty={}),"width"!=e&&"height"!=e||(null===(i=r.isBorderBoxValue)&&(r.isBorderBoxValue=i=!!r.el.isBorderBox()),i||(r.borderInfo||r.getBorderInfo(),r.paddingInfo||r.getPaddingInfo())),r.dirty[e]=t,r.markDirty()),r.fireTriggers("triggers",e),r.clearBlocks("blocks",e),1)},setHeight:function(e,t){var n,i,r,o,a=this,s=a.target,l=a.ownerCtContext;if(e<0&&(e=0),a.wrapsComponent){if(r=a.collapsedVert?0:s.minHeight||0,e=Ext.Number.constrain(e,r,s.maxHeight),o=a.props.height,!a.setProp("height",e,t))return NaN;l&&!a.isComponentChild&&isNaN(o)&&(--l.remainingChildDimensions||l.setProp("containerChildrenSizeDone",!0)),(n=a.frameBodyContext)&&(i=a.getFrameInfo(),n.setHeight(e-i.height,t))}else if(!a.setProp("height",e,t))return NaN;return e},setWidth:function(e,t){var n,i,r,o,a=this,s=a.target,l=a.ownerCtContext;if(e<0&&(e=0),a.wrapsComponent){if(r=a.collapsedHorz?0:s.minWidth||0,e=Ext.Number.constrain(e,r,s.maxWidth),o=a.props.width,!a.setProp("width",e,t))return NaN;l&&!a.isComponentChild&&isNaN(o)&&(--l.remainingChildDimensions||l.setProp("containerChildrenSizeDone",!0)),(n=a.frameBodyContext)&&(i=a.getFrameInfo(),n.setWidth(e-i.width,t))}else if(!a.setProp("width",e,t))return NaN;return e},setSize:function(e,t,n){this.setWidth(e,n),this.setHeight(t,n)},translateProps:{x:"left",y:"top"},undo:function(e){var t,n,i,r=this;if(r.revertProps(r.lastBox),e&&r.wrapsComponent){if(r.childItems)for(i=0,n=(t=r.childItems).length;i<n;i++)t[i].undo(e);for(i=0,n=(t=r.children).length;i<n;i++)t[i].undo()}},unsetProp:function(e){var t=this.dirty;delete this.props[e],t&&delete t[e]},writeProps:function(e,t){if(e&&"object"==typeof e){var n,i,r,o,a,s,l,d,c=this,u=c.el,h={},f=0,p=c.styleInfo,g=e.width,m=e.height,x=c.isBorderBoxValue,y=c.target,E=Math.max,v=0,b=0;for(i in"displayed"in e&&u.setDisplayed(e.displayed),e)t&&(c.fireTriggers("domTriggers",i),c.clearBlocks("domBlocks",i),c.flushedProps[i]=1),(n=p[i])&&n.dom&&(n.suffix&&(r=parseInt(e[i],10))?h[i]=r+n.suffix:h[i]=e[i],++f);if(("x"in e||"y"in e)&&(y.isComponent?y.setPosition(e.x,e.y):f+=c.addPositionStyles(h,e)),!x&&(g>0||m>0)){if(!c.borderInfo||!c.paddingInfo)throw Error("Needed to have gotten the borderInfo and paddingInfo when the width or height was setProp'd");c.frameBodyContext||(v=c.paddingInfo.width,b=c.paddingInfo.height),g&&(g=E(parseInt(g,10)-(c.borderInfo.width+v),0),h.width=g+"px",++f),m&&(m=E(parseInt(m,10)-(c.borderInfo.height+b),0),h.height=m+"px",++f)}c.wrapsComponent&&Ext.isIE9&&Ext.isStrict&&((o=void 0!==g&&c.hasOverflowY)||(a=void 0!==m&&c.hasOverflowX))&&(void 0===(s=c.isAbsolute)&&(s=!1,"absolute"==(d=c.target.getTargetEl()).getStyle("position")&&(s="border-box"==d.getStyle("box-sizing")),c.isAbsolute=s),s&&(l=Ext.getScrollbarSize(),o&&(g=parseInt(g,10)+l.width,h.width=g+"px",++f),a&&(m=parseInt(m,10)+l.height,h.height=m+"px",++f))),f&&u.setStyle(h)}else Ext.Logger.warn("writeProps expected dirtyProps to be an object")}},function(){var e={dom:!0,parseInt:!0,suffix:"px"},t={dom:!0},n={dom:!1};this.prototype.styleInfo={containerChildrenSizeDone:n,containerLayoutDone:n,displayed:n,done:n,x:n,y:n,columnWidthsDone:n,left:e,top:e,right:e,bottom:e,width:e,height:e,"border-top-width":e,"border-right-width":e,"border-bottom-width":e,"border-left-width":e,"margin-top":e,"margin-right":e,"margin-bottom":e,"margin-left":e,"padding-top":e,"padding-right":e,"padding-bottom":e,"padding-left":e,"line-height":t,display:t}}),Ext.define("Ext.layout.Context",{remainingLayouts:0,state:0,constructor:function(e){var t=this;Ext.apply(t,e),t.items={},t.layouts={},t.blockCount=0,t.cycleCount=0,t.flushCount=0,t.calcCount=0,t.animateQueue=t.newQueue(),t.completionQueue=t.newQueue(),t.finalizeQueue=t.newQueue(),t.finishQueue=t.newQueue(),t.flushQueue=t.newQueue(),t.invalidateData={},t.layoutQueue=t.newQueue(),t.invalidQueue=[],t.triggers={data:{},dom:{}}},callLayout:function(e,t){this.currentLayout=e,e[t](this.getCmp(e.owner))},cancelComponent:function(e,t,n){var i,r,o,a,s,l,d,c,u,h,f=this,p=e,g=!e.isComponent,m=g?p.length:1;for(i=0;i<m;++i){if(g&&(e=p[i]),n&&e.ownerCt&&(h=this.items[e.ownerCt.el.id])&&Ext.Array.remove(h.childItems,f.getCmp(e)),!t&&(o=(d=f.invalidQueue).length))for(f.invalidQueue=l=[],r=0;r<o;++r)(u=(c=d[r]).item.target)==e||u.isDescendant(e)||l.push(c);s=e.componentLayout,f.cancelLayout(s),s.getLayoutItems&&(a=s.getLayoutItems()).length&&f.cancelComponent(a,!0),e.isContainer&&!e.collapsed&&(s=e.layout,f.cancelLayout(s),(a=s.getVisibleItems()).length&&f.cancelComponent(a,!0))}},cancelLayout:function(e){var t=this;t.completionQueue.remove(e),t.finalizeQueue.remove(e),t.finishQueue.remove(e),t.layoutQueue.remove(e),e.running&&t.layoutDone(e),e.ownerContext=null},clearTriggers:function(e,t){var n,i,r,o,a=e.id,s=(n=this.triggers[t?"dom":"data"])&&n[a],l=s&&s.length||0;for(i=0;i<l;++i)r=(o=s[i]).item,delete(n=t?r.domTriggers:r.triggers)[o.prop][a]},flush:function(){var e,t=this.flushQueue.clear(),n=t.length;if(n)for(++this.flushCount,e=0;e<n;++e)t[e].flush()},flushAnimations:function(){var e,t=this.animateQueue.clear(),n=t.length;if(n){for(e=0;e<n;e++)!1!==t[e].target.animate&&t[e].flushAnimations();Ext.fx.Manager.runner()}},flushInvalidates:function(){var e,t,n,i,r=this,o=r.invalidQueue,a=o&&o.length;if(r.invalidQueue=[],a){for(t=[],i=0;i<a;++i)(e=(n=o[i]).item.target).container.isDetachedBody||(t.push(e),n.options&&(r.invalidateData[e.id]=n.options));r.invalidate(t,null)}},flushLayouts:function(e,t,n){var i,r,o=this,a=n?o[e].items:o[e].clear(),s=a.length;if(s){for(i=0;i<s;++i)(r=a[i]).running||o.callLayout(r,t);o.currentLayout=null}},getCmp:function(e){return this.getItem(e,e.el)},getEl:function(e,t){var n=this.getItem(t,t);return n.parent||(n.parent=e,e.children.length?e.children.push(n):e.children=[n]),n},getItem:function(e,t){var n=t.id,i=this.items;return i[n]||(i[n]=new Ext.layout.ContextItem({context:this,target:e,el:t}))},handleFailure:function(){var e,t,n=this.layouts;for(t in Ext.failedLayouts=(Ext.failedLayouts||0)+1,n)e=n[t],n.hasOwnProperty(t)&&(e.running=!1,e.ownerContext=null);Ext.repoDevMode&&!this.pageAnalyzerMode?Ext.Error.raise("Layout run failed"):Ext.log.error("Layout run failed")},invalidate:function(e,t){var n,i,r,o,a,s,l,d,c,u,h,f=this,p=!e.isComponent;for(r=0,l=p?e.length:1;r<l;++r)(o=p?e[r]:e).rendered&&!o.hidden&&(a=f.getCmp(o),i=!(d=o.componentLayout).ownerContext,c=o.isContainer&&!o.collapsed?o.layout:null,u=f.invalidateData[a.id],delete f.invalidateData[a.id],h=a.init(t,u),u&&f.processInvalidate(u,a,"before"),d.beforeLayoutCycle&&d.beforeLayoutCycle(a),c&&c.beforeLayoutCycle&&c.beforeLayoutCycle(a),h=a.initContinue(h),n=!0,d.getLayoutItems&&(d.renderChildren(),(s=d.getLayoutItems()).length&&f.invalidate(s,!0)),c&&(n=!1,c.renderChildren(),(s=c.getVisibleItems()).length&&f.invalidate(s,!0)),a.initDone(n),f.resetLayout(d,a,i),c&&f.resetLayout(c,a,i),a.initAnimation(),u&&f.processInvalidate(u,a,"after"));f.currentLayout=null},layoutDone:function(e){var t=e.ownerContext;e.running=!1,e.isComponentLayout?(t.measuresBox&&t.onBoxMeasured(),t.setProp("done",!0)):t.setProp("containerLayoutDone",!0),--this.remainingLayouts,++this.progressCount},newQueue:function(){return new Ext.util.Queue},processInvalidate:function(e,t,n){if(e[n]){var i=this,r=i.currentLayout;i.currentLayout=e.layout||null,e[n](t,e),i.currentLayout=r}},queueAnimation:function(e){this.animateQueue.add(e)},queueCompletion:function(e){this.completionQueue.add(e)},queueFinalize:function(e){this.finalizeQueue.add(e)},queueFlush:function(e){this.flushQueue.add(e)},chainFns:function(e,t,n){var i=this,r=e.layout,o=t.layout,a=e[n],s=t[n];return function(n){var l=i.currentLayout;a&&(i.currentLayout=r,a.call(e.scope||e,n,e)),i.currentLayout=o,s.call(t.scope||t,n,t),i.currentLayout=l}},queueInvalidate:function(e,t){var n,i,r,o,a,s=this,l=[],d=s.invalidQueue,c=d.length;for(e.isComponent?e=s.getCmp(n=e):n=e.target,e.invalid=!0;c--;){if(r=(i=d[c]).item.target,n.isDescendant(r))return;if(r==n)return void((o=i.options)?t&&(t.widthModel&&(o.widthModel=t.widthModel),t.heightModel&&(o.heightModel=t.heightModel),(a=o.state)?t.state&&Ext.apply(a,t.state):o.state=t.state,t.before&&(o.before=s.chainFns(o,t,"before")),t.after&&(o.after=s.chainFns(o,t,"after"))):i.options=t);r.isDescendant(n)||l.push(i)}l.push({item:e,options:t}),s.invalidQueue=l},queueItemLayouts:function(e){var t=e.isComponent?e:e.target,n=t.componentLayout;n.pending||n.invalid||n.done||this.queueLayout(n),!(n=t.layout)||n.pending||n.invalid||n.done||this.queueLayout(n)},queueLayout:function(e){this.layoutQueue.add(e),e.pending=!0},removeEl:function(e,t){var n=t.id,i=e.children,r=this.items;i&&Ext.Array.remove(i,r[n]),delete r[n]},resetLayout:function(e,t,n){var i=this;i.currentLayout=e,e.done=!1,e.pending=!0,e.firedTriggers=0,i.layoutQueue.add(e),n?(i.layouts[e.id]=e,e.running=!0,e.finishedLayout&&i.finishQueue.add(e),++i.remainingLayouts,++e.layoutCount,e.ownerContext=t,e.beginCount=0,e.blockCount=0,e.calcCount=0,e.triggerCount=0,e.initialized||e.initLayout(),e.beginLayout(t)):(++e.beginCount,e.running||(++i.remainingLayouts,e.running=!0,e.isComponentLayout&&t.unsetProp("done"),i.completionQueue.remove(e),i.finalizeQueue.remove(e))),e.beginLayoutCycle(t,n)},run:function(){var e=this,t=!1,n=100;for(e.flushInvalidates(),e.state=1,e.totalCount=e.layoutQueue.getCount(),e.flush();(e.remainingLayouts||e.invalidQueue.length)&&n--;){if(e.invalidQueue.length&&e.flushInvalidates(),e.runCycle())t=!1;else if(t){if(!e.invalidQueue.length){e.state=2;break}}else e.flush(),t=!0,e.flushLayouts("completionQueue","completeLayout");e.remainingLayouts||e.invalidQueue.length||(e.flush(),e.flushLayouts("completionQueue","completeLayout"),e.flushLayouts("finalizeQueue","finalizeLayout"))}return e.runComplete()},runComplete:function(){var e=this;return e.state=2,e.remainingLayouts?(e.handleFailure(),!1):(e.flush(),e.flushLayouts("finishQueue","finishedLayout",!0),e.flushLayouts("finishQueue","notifyOwner"),e.flush(),e.flushAnimations(),!0)},runCycle:function(){var e,t=this,n=t.layoutQueue.clear(),i=n.length;for(++t.cycleCount,t.progressCount=0,e=0;e<i;++e)t.runLayout(t.currentLayout=n[e]);return t.currentLayout=null,t.progressCount>0},runLayout:function(e){var t=this,n=t.getCmp(e.owner);e.pending=!1,n.state.blocks||(e.done=!0,++e.calcCount,++t.calcCount,e.calculate(n),e.done?(t.layoutDone(e),e.completeLayout&&t.queueCompletion(e),e.finalizeLayout&&t.queueFinalize(e)):e.pending||e.invalid||e.blockCount+e.triggerCount-e.firedTriggers||t.queueLayout(e))},setItemSize:function(e,t,n){var i,r=e,o=1;for(e.isComposite?(o=(r=e.elements).length,e=r[0]):e.dom||e.el||(o=r.length,e=r[0]),i=0;i<o;)this.get(e).setSize(t,n),e=r[++i]}}),Ext.define("Ext.dom.Layer",{extend:Ext.Element,alternateClassName:"Ext.Layer",statics:{shims:[]},isLayer:!0,localXYNames:{get:"getLocalXY",set:"setLocalXY"},constructor:function(e,t){e=e||{};var n=this,i=Ext.DomHelper,r=e.parentEl,o=r?Ext.getDom(r):document.body,a=e.hideMode,s=Ext.baseCSSPrefix+(!e.fixed||Ext.isIE6||Ext.isIEQuirks?"layer":"fixed-layer");n.el=n,t&&(n.dom=Ext.getDom(t)),n.dom?(n.addCls(s),n.dom.parentNode||o.appendChild(n.dom)):n.dom=i.append(o,e.dh||{tag:"div",cls:s}),e.id?n.id=n.dom.id=e.id:n.id=Ext.id(n.dom),Ext.Element.addToCache(n),e.cls&&n.addCls(e.cls),n.constrain=!1!==e.constrain,a?(n.setVisibilityMode(Ext.Element[a.toUpperCase()]),n.visibilityMode==Ext.Element.ASCLASS&&(n.visibilityCls=e.visibilityCls)):e.useDisplay?n.setVisibilityMode(Ext.Element.DISPLAY):n.setVisibilityMode(Ext.Element.VISIBILITY),e.shadow?(n.shadowOffset=e.shadowOffset||4,n.shadow=new Ext.Shadow({offset:n.shadowOffset,mode:e.shadow,fixed:e.fixed}),n.disableShadow()):n.shadowOffset=0,n.useShim=!1!==e.shim&&Ext.useShims,!0===e.hidden?n.hide():n.show()},getZIndex:function(){return parseInt((this.getShim()||this).getStyle("z-index"),10)},getShim:function(){var e,t,n=this;return n.useShim?(n.shim||((e=n.self.shims.shift())||((e=n.createShim()).enableDisplayMode("block"),e.hide()),t=n.dom.parentNode,e.dom.parentNode!=t&&t.insertBefore(e.dom,n.dom),n.shim=e),n.shim):null},hideShim:function(){var e=this;e.shim&&(e.shim.setDisplayed(!1),e.self.shims.push(e.shim),delete e.shim)},disableShadow:function(){var e=this;e.shadow&&!e.shadowDisabled&&(e.shadowDisabled=!0,e.shadow.hide(),e.lastShadowOffset=e.shadowOffset,e.shadowOffset=0)},enableShadow:function(e){var t=this;t.shadow&&t.shadowDisabled&&(t.shadowDisabled=!1,t.shadowOffset=t.lastShadowOffset,delete t.lastShadowOffset,e&&t.sync(!0))},sync:function(e){var t,n,i,r,o,a,s,l,d,c=this,u=c.shadow;return!c.updating&&c.isVisible()&&(u||c.useShim)&&(r=c.getShim(),a=(o=c[c.localXYNames.get]())[0],s=o[1],l=c.dom.offsetWidth,d=c.dom.offsetHeight,u&&!c.shadowDisabled?(e&&!u.isVisible()?u.show(c):u.realign(a,s,l,d),r&&(r.getStyle("z-index")>c.zindex&&c.shim.setStyle("z-index",c.zindex-2),r.show(),u.isVisible()?(t=u.el.getXY(),n=r.dom.style,i=u.el.getSize(),Ext.supports.CSS3BoxShadow&&(i.height+=6,i.width+=4,t[0]-=2,t[1]-=4),n.left=t[0]+"px",n.top=t[1]+"px",n.width=i.width+"px",n.height=i.height+"px"):(r.setSize(l,d),r[c.localXYNames.set](a,s)))):r&&(r.getStyle("z-index")>c.zindex&&c.shim.setStyle("z-index",c.zindex-2),r.show(),r.setSize(l,d),r[c.localXYNames.set](a,s))),c},remove:function(){this.hideUnders(),this.callParent()},beginUpdate:function(){this.updating=!0},endUpdate:function(){this.updating=!1,this.sync(!0)},hideUnders:function(){this.shadow&&this.shadow.hide(),this.hideShim()},constrainXY:function(){if(this.constrain){var e=Ext.Element.getViewWidth(),t=Ext.Element.getViewHeight(),n=Ext.getDoc().getScroll(),i=this.getXY(),r=i[0],o=i[1],a=this.shadowOffset,s=this.dom.offsetWidth+a,l=this.dom.offsetHeight+a,d=!1;r+s>e+n.left&&(r=e-s-a,d=!0),o+l>t+n.top&&(o=t-l-a,d=!0),r<n.left&&(r=n.left,d=!0),o<n.top&&(o=n.top,d=!0),d&&(Ext.Layer.superclass.setXY.call(this,[r,o]),this.sync())}return this},getConstrainOffset:function(){return this.shadowOffset},setVisible:function(e,t,n,i,r){var o,a=this;return o=function(){e&&a.sync(!0),i&&i()},e||a.hideUnders(!0),a.callParent([e,t,n,i,r]),t||o(),a},beforeFx:function(){return this.beforeAction(),this.callParent(arguments)},afterFx:function(){this.callParent(arguments),this.sync(this.isVisible())},beforeAction:function(){!this.updating&&this.shadow&&this.shadow.hide()},setLeft:function(e){return this.callParent(arguments),this.sync()},setTop:function(e){return this.callParent(arguments),this.sync()},setLeftTop:function(e,t){return this.callParent(arguments),this.sync()},setLocalX:function(){return this.callParent(arguments),this.sync()},setLocalXY:function(){return this.callParent(arguments),this.sync()},setLocalY:function(){return this.callParent(arguments),this.sync()},setXY:function(e,t,n,i,r){var o=this;return i=o.createCB(i),o.fixDisplay(),o.beforeAction(),o.callParent([e,t,n,i,r]),t||i(),o},createCB:function(e){var t=this,n=t.shadow&&t.shadow.isVisible();return function(){t.constrainXY(),t.sync(n),e&&e()}},setX:function(e,t,n,i,r){return this.setXY([e,this.getY()],t,n,i,r),this},setY:function(e,t,n,i,r){return this.setXY([this.getX(),e],t,n,i,r),this},setSize:function(e,t,n,i,r,o){var a=this;return r=a.createCB(r),a.beforeAction(),a.callParent([e,t,n,i,r,o]),n||r(),a},setWidth:function(e,t,n,i,r){var o=this;return i=o.createCB(i),o.beforeAction(),o.callParent([e,t,n,i,r]),t||i(),o},setHeight:function(e,t,n,i,r){var o=this;return i=o.createCB(i),o.beforeAction(),o.callParent([e,t,n,i,r]),t||i(),o},setBounds:function(e,t,n,i,r,o,a,s){var l=this;return a=l.createCB(a),l.beforeAction(),r?l.callParent([e,t,n,i,r,o,a,s]):(Ext.Layer.superclass.setXY.call(l,[e,t]),Ext.Layer.superclass.setSize.call(l,n,i),a()),l},setZIndex:function(e){var t=this;return t.zindex=e,t.getShim()&&t.shim.setStyle("z-index",e++),t.shadow&&t.shadow.setZIndex(e++),t.setStyle("z-index",e)},onOpacitySet:function(e){var t=this.shadow;t&&t.setOpacity(e)}}),Ext.define("Ext.util.ComponentDragger",{extend:Ext.dd.DragTracker,autoStart:500,constructor:function(e,t){this.comp=e,this.initialConstrainTo=t.constrainTo,this.callParent([t])},onStart:function(e){var t=this,n=t.comp;this.startPosition=n.getXY(),n.ghost&&!n.liveDrag&&(t.proxy=n.ghost(),t.dragTarget=t.proxy.header.el),(t.constrain||t.constrainDelegate)&&(t.constrainTo=t.calculateConstrainRegion()),n.beginDrag&&n.beginDrag()},calculateConstrainRegion:function(){var e,t,n,i=this,r=i.comp,o=i.initialConstrainTo,a=i.proxy?i.proxy.el:r.el,s=i.constrainDelegate||!a.shadow||a.shadowDisabled?0:a.shadow.getShadowSize();return o instanceof Ext.util.Region||((o=(e=Ext.fly(o)).getViewRegion()).right=o.left+e.dom.clientWidth),s&&o.adjust(s[0],-s[1],-s[2],s[3]),i.constrainDelegate||(t=Ext.fly(i.dragTarget).getRegion(),n=a.getRegion(),o.adjust(t.top-n.top,t.right-n.right,t.bottom-n.bottom,t.left-n.left)),o},onDrag:function(e){var t=this,n=t.proxy&&!t.comp.liveDrag?t.proxy:t.comp,i=t.getOffset(t.constrain||t.constrainDelegate?"dragTarget":null);n.setPagePosition(t.startPosition[0]+i[0],t.startPosition[1]+i[1])},onEnd:function(e){var t=this.comp;t.isDestroyed||t.destroying||(this.proxy&&!t.liveDrag&&t.unghost(),t.endDrag&&t.endDrag())}}),Ext.define("Ext.window.Window",{extend:Ext.panel.Panel,alternateClassName:"Ext.Window",alias:"widget.window",baseCls:Ext.baseCSSPrefix+"window",resizable:!0,draggable:!0,constrain:!1,constrainHeader:!1,plain:!1,minimizable:!1,maximizable:!1,minHeight:50,minWidth:50,expandOnShow:!0,collapsible:!1,closable:!0,hidden:!0,autoRender:!0,hideMode:"offsets",floating:!0,ariaRole:"alertdialog",itemCls:Ext.baseCSSPrefix+"window-item",initialAlphaNum:/^[a-z0-9]/,overlapHeader:!0,ignoreHeaderBorderManagement:!0,alwaysFramed:!0,isRootCfg:{isRoot:!0},isWindow:!0,initComponent:function(){var e=this;e.frame=!1,e.callParent(),e.addEvents("resize","maximize","minimize","restore"),e.plain&&e.addClsWithUI("plain"),e.modal&&(e.ariaRole="dialog"),e.addStateEvents(["maximize","restore","resize","dragend"])},getElConfig:function(){var e;return(e=this.callParent()).tabIndex=-1,e},getState:function(){var e,t=this,n=t.callParent()||{},i=!!t.maximized,r=t.ghostBox;return n.maximized=i,e=i?t.restorePos:r?[r.x,r.y]:t.getPosition(),Ext.apply(n,{size:i?t.restoreSize:t.getSize(),pos:e}),n},applyState:function(e){var t=this;e&&(t.maximized=e.maximized,t.maximized?(t.hasSavedRestore=!0,t.restoreSize=e.size,t.restorePos=e.pos):Ext.apply(t,{width:e.size.width,height:e.size.height,x:e.pos[0],y:e.pos[1]}))},onRender:function(e,t){var n=this;n.callParent(arguments),n.focusEl=n.el,n.maximizable&&n.header.on({scope:n,dblclick:n.toggleMaximize})},afterRender:function(){var e,t=this,n=t.header;t.callParent(),t.maximized&&(t.maximized=!1,t.maximize(),n&&n.removeCls(n.indicateDragCls)),t.closable?(e=t.getKeyMap()).on(27,t.onEsc,t):e=t.keyMap,e&&t.hidden&&e.disable()},initDraggable:function(){this.initSimpleDraggable()},initResizable:function(){this.callParent(arguments),this.maximized&&this.resizer.disable()},onEsc:function(e,t){Ext.FocusManager&&Ext.FocusManager.enabled&&Ext.FocusManager.focusedCmp!==this||(t.stopEvent(),this.close())},beforeDestroy:function(){var e=this;e.rendered&&(delete this.animateTarget,e.hide(),Ext.destroy(e.keyMap)),e.callParent()},addTools:function(){var e=this;e.callParent(),e.minimizable&&e.addTool({type:"minimize",handler:Ext.Function.bind(e.minimize,e,[])}),e.maximizable&&(e.addTool({type:"maximize",handler:Ext.Function.bind(e.maximize,e,[])}),e.addTool({type:"restore",handler:Ext.Function.bind(e.restore,e,[]),hidden:!0}))},getFocusEl:function(){return this.getDefaultFocus()},getDefaultFocus:function(){var e,t,n=this,i=n.defaultButton||n.defaultFocus;return void 0!==i&&(Ext.isNumber(i)?e=n.query("button")[i]:Ext.isString(i)?((t=i).match(n.initialAlphaNum)&&(e=n.down("#"+t)),e||(e=n.down(t))):i.focus&&(e=i)),e||n.el},onFocus:function(){var e,t=this;Ext.FocusManager&&Ext.FocusManager.enabled||(e=t.getDefaultFocus())===t?t.callParent(arguments):e.focus()},beforeLayout:function(){var e=this.el.shadow;this.callParent(),e&&e.hide()},onShow:function(){var e=this;e.callParent(arguments),e.expandOnShow&&e.expand(!1),e.syncMonitorWindowResize(),e.keyMap&&e.keyMap.enable()},doClose:function(){var e=this;e.hidden?(e.fireEvent("close",e),"destroy"==e.closeAction&&this.destroy()):e.hide(e.animateTarget,e.doClose,e)},afterHide:function(){var e=this;e.syncMonitorWindowResize(),e.keyMap&&e.keyMap.disable(),e.callParent(arguments)},onWindowResize:function(){var e,t=this;t.maximized?t.fitContainer():(((e=t.getSizeModel()).width.natural||e.height.natural)&&t.updateLayout(),t.doConstrain())},minimize:function(){return this.fireEvent("minimize",this),this},resumeHeaderLayout:function(e){this.header.resumeLayouts(e?this.isRootCfg:null)},afterCollapse:function(){var e=this,t=e.header,n=e.tools;t&&e.maximizable&&(t.suspendLayouts(),n.maximize.hide(),n.restore.hide(),this.resumeHeaderLayout(!0)),e.resizer&&e.resizer.disable(),e.callParent(arguments)},afterExpand:function(){var e,t=this,n=t.header,i=t.tools;n&&(n.suspendLayouts(),t.maximized?(i.restore.show(),e=!0):t.maximizable&&(i.maximize.show(),e=!0),this.resumeHeaderLayout(e)),t.resizer&&t.resizer.enable(),t.callParent(arguments)},maximize:function(e){var t,n=this,i=n.header,r=n.tools;return n.maximized||(n.expand(!1),n.hasSavedRestore||(n.restoreSize=n.getSize(),n.restorePos=n.getPosition(!0)),i&&(i.suspendLayouts(),r.maximize&&(r.maximize.hide(),t=!0),r.restore&&(r.restore.show(),t=!0),n.collapseTool&&(n.collapseTool.hide(),t=!0),n.resumeHeaderLayout(t)),n.maximized=!0,n.el.disableShadow(),n.dd&&(n.dd.disable(),i&&i.removeCls(i.indicateDragCls)),n.resizer&&n.resizer.disable(),n.el.addCls(Ext.baseCSSPrefix+"window-maximized"),n.container.addCls(Ext.baseCSSPrefix+"window-maximized-ct"),n.syncMonitorWindowResize(),n.fitContainer(e=e||n.animateTarget?{callback:function(){n.fireEvent("maximize",n)}}:null),e||n.fireEvent("maximize",n)),n},restore:function(e){var t,n=this,i=n.tools,r=n.header,o=n.restoreSize;return n.maximized&&(n.hasSavedRestore=null,n.removeCls(Ext.baseCSSPrefix+"window-maximized"),r&&(r.suspendLayouts(),i.restore&&(i.restore.hide(),t=!0),i.maximize&&(i.maximize.show(),t=!0),n.collapseTool&&(n.collapseTool.show(),t=!0),n.resumeHeaderLayout(t)),n.maximized=!1,o.x=n.restorePos[0],o.y=n.restorePos[1],n.setBox(o,e=e||n.animateTarget?{callback:function(){n.el.enableShadow(!0),n.fireEvent("restore",n)}}:null),n.restorePos=n.restoreSize=null,n.dd&&(n.dd.enable(),r&&r.addCls(r.indicateDragCls)),n.resizer&&n.resizer.enable(),n.container.removeCls(Ext.baseCSSPrefix+"window-maximized-ct"),n.syncMonitorWindowResize(),e||(n.el.enableShadow(!0),n.fireEvent("restore",n))),n},syncMonitorWindowResize:function(){var e=this,t=e._monitoringResize,n=e.monitorResize||e.constrain||e.constrainHeader||e.maximized,i=e.hidden||e.destroying||e.isDestroyed;n&&!i?t||(Ext.EventManager.onWindowResize(e.onWindowResize,e,{delay:1}),e._monitoringResize=!0):t&&(Ext.EventManager.removeResizeListener(e.onWindowResize,e),e._monitoringResize=!1)},toggleMaximize:function(){return this[this.maximized?"restore":"maximize"]()}}),Ext.define("Ext.toolbar.TextItem",{extend:Ext.toolbar.Item,alias:"widget.tbtext",alternateClassName:"Ext.Toolbar.TextItem",text:"",renderTpl:"{text}",baseCls:Ext.baseCSSPrefix+"toolbar-text",beforeRender:function(){var e=this;e.callParent(),Ext.apply(e.renderData,{text:e.text})},setText:function(e){var t=this;t.text=e,t.rendered&&(t.el.update(e),t.updateLayout())}}),Ext.define("Ext.layout.container.Fit",{extend:Ext.layout.container.Container,alternateClassName:"Ext.layout.FitLayout",alias:"layout.fit",itemCls:Ext.baseCSSPrefix+"fit-item",targetCls:Ext.baseCSSPrefix+"layout-fit",type:"fit",defaultMargins:{top:0,right:0,bottom:0,left:0},manageMargins:!0,sizePolicies:{0:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},1:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},2:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},3:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}},getItemSizePolicy:function(e,t){var n=t||this.owner.getSizeModel(),i=(n.width.shrinkWrap?0:1)|(n.height.shrinkWrap?0:2);return this.sizePolicies[i]},beginLayoutCycle:function(e,t){var n,i,r,o,a,s,l,d,c,u,h=this,f=h.lastHeightModel&&h.lastHeightModel.calculated,p=h.lastWidthModel&&h.lastWidthModel.calculated,g=p||f,m=0,x=0;for(h.callParent(arguments),g&&"TD"!=e.targetContext.el.dom.tagName.toUpperCase()&&(g=p=f=!1),a=(i=e.childItems).length,r=0;r<a;++r)o=i[r],t&&(l=(n=o.target).minHeight,((d=n.minWidth)||l)&&(m<(l+=(s=o.marginInfo||o.getMarginInfo()).height)&&(m=l),x<(d+=s.height)&&(x=d))),g&&(c=o.el.dom.style,f&&(c.height=""),p&&(c.width=""));t&&(e.maxChildMinHeight=m,e.maxChildMinWidth=x),n=e.target,e.overflowX=!e.widthModel.shrinkWrap&&e.maxChildMinWidth&&n.scrollFlags.x||u,e.overflowY=!e.heightModel.shrinkWrap&&e.maxChildMinHeight&&n.scrollFlags.y||u},calculate:function(e){var t,n,i,r,o,a,s=this,l=e.childItems,d=l.length,c=s.getContainerSize(e),u={length:d,ownerContext:e,targetSize:c},h=e.widthModel.shrinkWrap,f=e.heightModel.shrinkWrap,p=e.overflowX,g=e.overflowY;for((p||g)&&(t=s.getScrollbarsNeeded(p&&c.width,g&&c.height,e.maxChildMinWidth,e.maxChildMinHeight))&&(n=Ext.getScrollbarSize(),1&t&&(c.height-=n.height),2&t&&(c.width-=n.width)),r=0;r<d;++r)u.index=r,s.fitItem(l[r],u);(f||h)&&(i=e.targetContext.getPaddingInfo(),h&&(g&&!c.gotHeight?s.done=!1:(o=u.contentWidth+i.width,2&t&&(o+=n.width),e.setContentWidth(o)||(s.done=!1))),f&&(p&&!c.gotWidth?s.done=!1:(a=u.contentHeight+i.height,1&t&&(a+=n.height),e.setContentHeight(a)||(s.done=!1))))},fitItem:function(e,t){var n=this;e.invalid?n.done=!1:(t.margins=e.getMarginInfo(),t.needed=t.got=0,n.fitItemWidth(e,t),n.fitItemHeight(e,t),t.got!=t.needed&&(n.done=!1))},fitItemWidth:function(e,t){var n,i;t.ownerContext.widthModel.shrinkWrap?(i=e.getProp("width")+t.margins.width,n=t.contentWidth,t.contentWidth=void 0===n?i:Math.max(n,i)):e.widthModel.calculated&&(++t.needed,t.targetSize.gotWidth&&(++t.got,this.setItemWidth(e,t))),this.positionItemX(e,t)},fitItemHeight:function(e,t){var n,i;t.ownerContext.heightModel.shrinkWrap?(i=e.getProp("height")+t.margins.height,n=t.contentHeight,t.contentHeight=void 0===n?i:Math.max(n,i)):e.heightModel.calculated&&(++t.needed,t.targetSize.gotHeight&&(++t.got,this.setItemHeight(e,t))),this.positionItemY(e,t)},positionItemX:function(e,t){var n=t.margins;(t.index||n.left)&&e.setProp("x",n.left),n.width&&e.setProp("margin-right",n.width)},positionItemY:function(e,t){var n=t.margins;(t.index||n.top)&&e.setProp("y",n.top),n.height&&e.setProp("margin-bottom",n.height)},setItemHeight:function(e,t){e.setHeight(t.targetSize.height-t.margins.height)},setItemWidth:function(e,t){e.setWidth(t.targetSize.width-t.margins.width)}}),Ext.define("Ext.util.CSS",function(){var e,t=null,n=document,i=/(-[a-z])/gi,r=function(e,t){return t.charAt(1).toUpperCase()};return{singleton:!0,rules:t,initialized:!1,constructor:function(){e=this},createStyleSheet:function(t,i){var r,o=n.getElementsByTagName("head")[0],a=n.createElement("style");if(a.setAttribute("type","text/css"),i&&a.setAttribute("id",i),Ext.isIE)o.appendChild(a),(r=a.styleSheet).cssText=t;else{try{a.appendChild(n.createTextNode(t))}catch(e){a.cssText=t}o.appendChild(a),r=a.styleSheet?a.styleSheet:a.sheet||n.styleSheets[n.styleSheets.length-1]}return e.cacheStyleSheet(r),r},removeStyleSheet:function(e){var t=n.getElementById(e);t&&t.parentNode.removeChild(t)},swapStyleSheet:function(t,i){var r;e.removeStyleSheet(t),(r=n.createElement("link")).setAttribute("rel","stylesheet"),r.setAttribute("type","text/css"),r.setAttribute("id",t),r.setAttribute("href",i),n.getElementsByTagName("head")[0].appendChild(r)},refreshCache:function(){return e.getRules(!0)},cacheStyleSheet:function(n){t||(t=e.rules={});try{var i,r,o=n.cssRules||n.rules,a=o.length-1,s=n.imports,l=s?s.length:0;for(r=0;r<l;++r)e.cacheStyleSheet(s[r]);for(;a>=0;--a)(i=o[a]).styleSheet&&e.cacheStyleSheet(i.styleSheet),e.cacheRule(i,n)}catch(e){}},cacheRule:function(n,i){if(n.styleSheet)return e.cacheStyleSheet(n.styleSheet);var r,o,a=n.selectorText;if(a)for(r=(a=a.split(",")).length,o=0;o<r;o++)t[Ext.String.trim(a[o]).toLowerCase()]={parentStyleSheet:i,cssRule:n}},getRules:function(n){var i,r={};for(i in(null===t||n)&&e.refreshCache(),t)r[i]=t[i].cssRule;return r},refreshCache:function(){var i=n.styleSheets,r=0,o=i.length;for(t=e.rules={};r<o;r++)try{i[r].disabled||e.cacheStyleSheet(i[r])}catch(e){}},getRule:function(n,i,r){var o,a;if(t&&!i||e.refreshCache(),!Ext.isArray(n))return(a=t[n.toLowerCase()])&&!r&&(a=a.cssRule),a||null;for(o=0;o<n.length;o++)if(t[n[o]])return r?t[n[o].toLowerCase()]:t[n[o].toLowerCase()].cssRule;return null},createRule:function(t,n,i){var r,o=t.cssRules||t.rules,a=o.length;return t.insertRule?t.insertRule(n+"{"+i+"}",a):t.addRule(n,i||" "),e.cacheRule(r=o[a],t),r},updateRule:function(t,n,o){var a,s,l;if(Ext.isArray(t)){for(s=0;s<t.length;s++)if(e.updateRule(t[s],n,o))return!0}else if(a=e.getRule(t)){if(2==arguments.length)for(n in l=Ext.Element.parseStyles(n))a.style[n.replace(i,r)]=l[n];else a.style[n.replace(i,r)]=o;return!0}return!1},deleteRule:function(n){var i,r,o=e.getRule(n,!1,!0);o&&(i=o.parentStyleSheet,r=Ext.Array.indexOf(i.cssRules||i.rules,o.cssRule),i.deleteRule?i.deleteRule(r):i.removeRule(r),delete t[n])}}}),Ext.define("Ext.layout.component.Body",{alias:["layout.body"],extend:Ext.layout.component.Auto,type:"body",beginLayout:function(e){this.callParent(arguments),e.bodyContext=e.getEl("body")},beginLayoutCycle:function(e,t){var n=this,i=n.lastWidthModel,r=n.lastHeightModel,o=n.owner.body;n.callParent(arguments),i&&i.fixed&&e.widthModel.shrinkWrap&&o.setWidth(null),r&&r.fixed&&e.heightModel.shrinkWrap&&o.setHeight(null)},calculateOwnerHeightFromContentHeight:function(e,t){var n=this.callParent(arguments);return e.targetContext!=e&&(n+=e.getPaddingInfo().height),n},calculateOwnerWidthFromContentWidth:function(e,t){var n=this.callParent(arguments);return e.targetContext!=e&&(n+=e.getPaddingInfo().width),n},measureContentWidth:function(e){return e.bodyContext.setWidth(e.bodyContext.el.dom.offsetWidth,!1)},measureContentHeight:function(e){return e.bodyContext.setHeight(e.bodyContext.el.dom.offsetHeight,!1)},publishInnerHeight:function(e,t){var n=t-e.getFrameInfo().height;return e.targetContext!=e&&(n-=e.getPaddingInfo().height),e.bodyContext.setHeight(n,!e.heightModel.natural)},publishInnerWidth:function(e,t){var n=t-e.getFrameInfo().width;e.targetContext!=e&&(n-=e.getPaddingInfo().width),e.bodyContext.setWidth(n,!e.widthModel.natural)}}),Ext.define("Ext.layout.container.Card",{extend:Ext.layout.container.Fit,alternateClassName:"Ext.layout.CardLayout",alias:"layout.card",type:"card",hideInactive:!0,deferredRender:!1,getRenderTree:function(){var e=this,t=e.getActiveItem();if(t){if(t.hasListeners.beforeactivate&&!1===t.fireEvent("beforeactivate",t)?t=e.activeItem=e.owner.activeItem=null:t.hasListeners.activate&&t.on({boxready:function(){t.fireEvent("activate",t)},single:!0}),!e.deferredRender)return e.callParent(arguments);if(t)return e.getItemsRenderTree([t])}},renderChildren:function(){var e=this,t=e.getActiveItem();e.deferredRender?t&&e.renderItems([t],e.getRenderTarget()):e.callParent()},isValidParent:function(e,t,n){var i=e.el?e.el.dom:Ext.getDom(e);return i&&i.parentNode===(t.dom||t)||!1},getActiveItem:function(){var e=this,t=e.parseActiveItem(e.activeItem||e.owner&&e.owner.activeItem);return t&&-1!=e.owner.items.indexOf(t)?e.activeItem=t:e.activeItem=null,e.activeItem},parseActiveItem:function(e){return e&&e.isComponent?e:"number"==typeof e||void 0===e?this.getLayoutItems()[e||0]:this.owner.getComponent(e)},configureItem:function(e){e===this.getActiveItem()?e.hidden=!1:e.hidden=!0,this.callParent(arguments)},onRemove:function(e){e===this.activeItem&&(this.activeItem=null)},getAnimation:function(e,t){var n=(e||{}).cardSwitchAnimation;return!1!==n&&(n||t.cardSwitchAnimation)},getNext:function(){var e=arguments[0],t=this.getLayoutItems();return t[Ext.Array.indexOf(t,this.activeItem)+1]||!!e&&t[0]},next:function(){var e=arguments[0],t=arguments[1];return this.setActiveItem(this.getNext(t),e)},getPrev:function(){var e=arguments[0],t=this.getLayoutItems();return t[Ext.Array.indexOf(t,this.activeItem)-1]||!!e&&t[t.length-1]},prev:function(){var e=arguments[0],t=arguments[1];return this.setActiveItem(this.getPrev(t),e)},setActiveItem:function(e){var t=this,n=t.owner,i=t.activeItem,r=n.rendered;return e=t.parseActiveItem(e),-1==n.items.indexOf(e)&&(n.items.items.length,Ext.suspendLayouts(),e=n.add(e),Ext.resumeLayouts()),!(!e||i==e)&&(!1!==e.fireEvent("beforeactivate",e,i)&&((!i||!1!==i.fireEvent("beforedeactivate",i,e))&&(r?(Ext.suspendLayouts(),e.rendered||t.renderItem(e,t.getRenderTarget(),n.items.length),i&&(t.hideInactive&&(i.hide(),i.hiddenByLayout=!0),i.fireEvent("deactivate",i,e)),e.hidden&&e.show(),e.hidden||(t.activeItem=e),Ext.resumeLayouts(!0)):t.activeItem=e,e.fireEvent("activate",e,i),t.activeItem)))}}),Ext.define("Ext.menu.Item",{extend:Ext.Component,alias:"widget.menuitem",alternateClassName:"Ext.menu.TextItem",activeCls:Ext.baseCSSPrefix+"menu-item-active",ariaRole:"menuitem",canActivate:!0,clickHideDelay:1,destroyMenu:!0,disabledCls:Ext.baseCSSPrefix+"menu-item-disabled",hideOnClick:!0,isMenuItem:!0,menuAlign:"tl-tr?",menuExpandDelay:200,menuHideDelay:200,tooltipType:"qtip",arrowCls:Ext.baseCSSPrefix+"menu-item-arrow",childEls:["itemEl","iconEl","textEl","arrowEl"],renderTpl:['<tpl if="plain">',"{text}","<tpl else>",'<a id="{id}-itemEl"',' class="'+Ext.baseCSSPrefix+'menu-item-link{childElCls}"',' href="{href}"','<tpl if="hrefTarget"> target="{hrefTarget}"</tpl>',' hidefocus="true"',' unselectable="on"','<tpl if="tabIndex">',' tabIndex="{tabIndex}"',"</tpl>",">",'<div role="img" id="{id}-iconEl" class="'+Ext.baseCSSPrefix+"menu-item-icon {iconCls}",'{childElCls} {glyphCls}" style="<tpl if="icon">background-image:url({icon});</tpl>','<tpl if="glyph && glyphFontFamily">font-family:{glyphFontFamily};</tpl>">','<tpl if="glyph">&#{glyph};</tpl>',"</div>",'<span id="{id}-textEl" class="'+Ext.baseCSSPrefix+'menu-item-text" unselectable="on">{text}</span>','<img id="{id}-arrowEl" src="{blank}" class="{arrowCls}','{childElCls}"/>',"</a>","</tpl>"],maskOnDisable:!1,activate:function(){var e=this;!e.activated&&e.canActivate&&e.rendered&&!e.isDisabled()&&e.isVisible()&&(e.el.addCls(e.activeCls),e.focus(),e.activated=!0,e.fireEvent("activate",e))},getFocusEl:function(){return this.itemEl},deactivate:function(){var e=this;e.activated&&(e.el.removeCls(e.activeCls),e.blur(),e.hideMenu(),e.activated=!1,e.fireEvent("deactivate",e))},deferHideMenu:function(){this.menu.isVisible()&&this.menu.hide()},cancelDeferHide:function(){clearTimeout(this.hideMenuTimer)},deferHideParentMenus:function(){var e;Ext.menu.Manager.hideAll(),Ext.Element.getActiveElement()||(e=this.up(":not([hidden])"))&&e.focus()},expandMenu:function(e){var t=this;t.menu&&(t.cancelDeferHide(),0===e?t.doExpandMenu():(clearTimeout(t.expandMenuTimer),t.expandMenuTimer=Ext.defer(t.doExpandMenu,Ext.isNumber(e)?e:t.menuExpandDelay,t)))},doExpandMenu:function(){var e=this,t=e.menu;!e.activated||t.rendered&&t.isVisible()||(e.parentMenu.activeChild=t,t.parentItem=e,t.parentMenu=e.parentMenu,t.showBy(e,e.menuAlign))},getRefItems:function(e){var t,n=this.menu;return n&&(t=n.getRefItems(e)).unshift(n),t||[]},hideMenu:function(e){var t=this;t.menu&&(clearTimeout(t.expandMenuTimer),t.hideMenuTimer=Ext.defer(t.deferHideMenu,Ext.isNumber(e)?e:t.menuHideDelay,t))},initComponent:function(){var e,t=this,n=Ext.baseCSSPrefix,i=[n+"menu-item"];t.addEvents("activate","click","deactivate","textchange","iconchange"),t.plain&&i.push(n+"menu-item-plain"),t.cls&&i.push(t.cls),t.cls=i.join(" "),t.menu&&(e=t.menu,delete t.menu,t.setMenu(e)),t.callParent(arguments)},onClick:function(e){var t=this;t.href||e.stopEvent(),t.disabled||(t.hideOnClick&&(t.deferHideParentMenusTimer=Ext.defer(t.deferHideParentMenus,t.clickHideDelay,t)),Ext.callback(t.handler,t.scope||t,[t,e]),t.fireEvent("click",t,e),t.hideOnClick||t.focus())},onRemoved:function(){var e=this;e.activated&&e.parentMenu.activeItem===e&&e.parentMenu.deactivateActiveItem(),e.callParent(arguments),e.parentMenu=e.ownerButton=null},beforeDestroy:function(){var e=this;e.rendered&&e.clearTip(),e.callParent()},onDestroy:function(){var e=this;clearTimeout(e.expandMenuTimer),e.cancelDeferHide(),clearTimeout(e.deferHideParentMenusTimer),e.setMenu(null),e.callParent(arguments)},beforeRender:function(){var e,t,n,i=this,r=Ext.BLANK_IMAGE_URL,o=i.glyph,a=Ext._glyphFontFamily;i.callParent(),"right"===i.iconAlign?(t=i.checkChangeDisabled?i.disabledCls:"",n=Ext.baseCSSPrefix+"menu-item-icon-right "+i.iconCls):(t=(i.iconCls||"")+(i.checkChangeDisabled?" "+i.disabledCls:""),n=i.menu?i.arrowCls:""),"string"==typeof o&&(o=(e=o.split("@"))[0],a=e[1]),Ext.applyIf(i.renderData,{href:i.href||"#",hrefTarget:i.hrefTarget,icon:i.icon,iconCls:t,glyph:o,glyphCls:o?Ext.baseCSSPrefix+"menu-item-glyph":void 0,glyphFontFamily:a,hasIcon:!!(i.icon||i.iconCls||o),iconAlign:i.iconAlign,plain:i.plain,text:i.text,arrowCls:n,blank:r,tabIndex:i.tabIndex})},onRender:function(){var e=this;e.callParent(arguments),e.tooltip&&e.setTooltip(e.tooltip,!0)},setMenu:function(e,t){var n=this,i=n.menu,r=n.arrowEl;i&&(delete i.parentItem,delete i.parentMenu,delete i.ownerItem,(!0===t||!1!==t&&n.destroyMenu)&&Ext.destroy(i)),e?(n.menu=Ext.menu.Manager.get(e),n.menu.ownerItem=n):n.menu=null,n.rendered&&!n.destroying&&r&&r[n.menu?"addCls":"removeCls"](n.arrowCls)},setHandler:function(e,t){this.handler=e||null,this.scope=t},setIcon:function(e){var t=this.iconEl,n=this.icon;t&&(t.src=e||Ext.BLANK_IMAGE_URL),this.icon=e,this.fireEvent("iconchange",this,n,e)},setIconCls:function(e){var t=this,n=t.iconEl,i=t.iconCls;n&&(t.iconCls&&n.removeCls(t.iconCls),e&&n.addCls(e)),t.iconCls=e,t.fireEvent("iconchange",t,i,e)},setText:function(e){var t=this,n=t.textEl||t.el,i=t.text;t.text=e,t.rendered&&(n.update(e||""),t.ownerCt.updateLayout()),t.fireEvent("textchange",t,i,e)},getTipAttr:function(){return"qtip"==this.tooltipType?"data-qtip":"title"},clearTip:function(){Ext.quickTipsActive&&Ext.isObject(this.tooltip)&&Ext.tip.QuickTipManager.unregister(this.itemEl)},setTooltip:function(e,t){var n=this;return n.rendered?(t||n.clearTip(),Ext.quickTipsActive&&Ext.isObject(e)?(Ext.tip.QuickTipManager.register(Ext.apply({target:n.itemEl.id},e)),n.tooltip=e):n.itemEl.dom.setAttribute(n.getTipAttr(),e)):n.tooltip=e,n}}),Ext.define("Ext.menu.CheckItem",{extend:Ext.menu.Item,alias:"widget.menucheckitem",checkedCls:Ext.baseCSSPrefix+"menu-item-checked",uncheckedCls:Ext.baseCSSPrefix+"menu-item-unchecked",groupCls:Ext.baseCSSPrefix+"menu-group-icon",hideOnClick:!1,checkChangeDisabled:!1,childEls:["itemEl","iconEl","textEl","checkEl"],showCheckbox:!0,renderTpl:['<tpl if="plain">',"{text}","<tpl else>","{%var showCheckbox = values.showCheckbox,",'      rightCheckbox = showCheckbox && values.hasIcon && (values.iconAlign !== "left"), textCls = rightCheckbox ? "'+Ext.baseCSSPrefix+'right-check-item-text" : "";%}','<a id="{id}-itemEl" class="'+Ext.baseCSSPrefix+'menu-item-link{childElCls}" href="{href}" <tpl if="hrefTarget">target="{hrefTarget}"</tpl> hidefocus="true" unselectable="on"','<tpl if="tabIndex">',' tabIndex="{tabIndex}"',"</tpl>",">",'{%if (values.hasIcon && (values.iconAlign !== "left")) {%}','<div role="img" id="{id}-iconEl" class="'+Ext.baseCSSPrefix+"menu-item-icon {iconCls}",'{childElCls} {glyphCls}" style="<tpl if="icon">background-image:url({icon});</tpl>','<tpl if="glyph && glyphFontFamily">font-family:{glyphFontFamily};</tpl>">','<tpl if="glyph">&#{glyph};</tpl>',"</div>","{%} else if (showCheckbox){%}",'<img id="{id}-checkEl" src="{blank}" class="'+Ext.baseCSSPrefix+'menu-item-icon{childElCls}" />',"{%}%}",'<span id="{id}-textEl" class="'+Ext.baseCSSPrefix+'menu-item-text {[textCls]}{childElCls}" <tpl if="arrowCls">style="margin-right: 17px;"</tpl> >{text}</span>',"{%if (rightCheckbox) {%}",'<img id="{id}-checkEl" src="{blank}" class="'+Ext.baseCSSPrefix+'menu-item-icon-right{childElCls}" />',"{%} else if (values.arrowCls) {%}",'<img id="{id}-arrowEl" src="{blank}" class="{arrowCls}{childElCls}"/>',"{%}%}","</a>","</tpl>"],initComponent:function(){var e=this;e.checked=!!e.checked,e.addEvents("beforecheckchange","checkchange"),e.callParent(arguments),Ext.menu.Manager.registerCheckable(e),e.group&&(e.iconCls||e.icon||e.glyph||(e.iconCls=e.groupCls),!1!==e.initialConfig.hideOnClick&&(e.hideOnClick=!0))},beforeRender:function(){this.callParent(),this.renderData.showCheckbox=this.showCheckbox},afterRender:function(){var e=this;e.callParent(),e.checked=!e.checked,e.setChecked(!e.checked,!0),e.checkChangeDisabled&&e.disableCheckChange()},disableCheckChange:function(){var e=this,t=e.checkEl;t&&t.addCls(e.disabledCls),Ext.isIE10p||Ext.isIE9&&Ext.isStrict||!e.rendered||e.el.repaint(),e.checkChangeDisabled=!0},enableCheckChange:function(){var e=this,t=e.checkEl;t&&t.removeCls(e.disabledCls),e.checkChangeDisabled=!1},onClick:function(e){var t=this;t.disabled||t.checkChangeDisabled||t.checked&&t.group||t.setChecked(!t.checked),this.callParent([e])},onDestroy:function(){Ext.menu.Manager.unregisterCheckable(this),this.callParent(arguments)},setChecked:function(e,t){var n=this;n.checked===e||!t&&!1===n.fireEvent("beforecheckchange",n,e)||(n.el&&n.el[e?"addCls":"removeCls"](n.checkedCls)[e?"removeCls":"addCls"](n.uncheckedCls),n.checked=e,Ext.menu.Manager.onCheckChange(n,e),t||(Ext.callback(n.checkHandler,n.scope,[n,e]),n.fireEvent("checkchange",n,e)))}}),Ext.define("Ext.menu.KeyNav",{extend:Ext.util.KeyNav,constructor:function(e){var t=this;t.menu=e.target,t.callParent([Ext.apply({down:t.down,enter:t.enter,esc:t.escape,left:t.left,right:t.right,space:t.enter,tab:t.tab,up:t.up},e)])},down:function(e){var t=this,n=t.menu.focusedItem;if(n&&e.getKey()==Ext.EventObject.DOWN&&t.isWhitelisted(n))return!0;t.focusNextItem(1)},enter:function(e){var t=this.menu,n=t.focusedItem;if(t.activeItem)t.onClick(e);else if(n&&n.isFormField)return!0},escape:function(e){Ext.menu.Manager.hideAll()},focusNextItem:function(e){for(var t,n=this.menu,i=n.items,r=n.focusedItem,o=r?i.indexOf(r):-1,a=o+e,s=i.length,l=0;l<s&&a!==o;){if(a<0?a=s-1:a>=s&&(a=0),t=i.getAt(a),n.canActivateItem(t)){n.setActiveItem(t);break}a+=e,++l}},isWhitelisted:function(e){return Ext.FocusManager.isWhitelisted(e)},left:function(e){var t=this.menu,n=t.focusedItem;if(n&&this.isWhitelisted(n))return!0;t.hide(),t.parentMenu&&t.parentMenu.focus()},right:function(e){var t,n=this.menu,i=n.focusedItem,r=n.activeItem;if(i&&this.isWhitelisted(i))return!0;r&&(t=n.activeItem.menu)&&(r.expandMenu(0),t.setActiveItem(t.child(":focusable")))},tab:function(e){e.shiftKey?this.up(e):this.down(e)},up:function(e){var t=this,n=t.menu.focusedItem;if(n&&e.getKey()==Ext.EventObject.UP&&t.isWhitelisted(n))return!0;t.focusNextItem(-1)}}),Ext.define("Ext.menu.Separator",{extend:Ext.menu.Item,alias:"widget.menuseparator",canActivate:!1,focusable:!1,hideOnClick:!1,plain:!0,separatorCls:Ext.baseCSSPrefix+"menu-item-separator",text:"&#160;",beforeRender:function(e,t){var n=this;n.callParent(),n.addCls(n.separatorCls)}}),Ext.define("Ext.menu.Menu",{extend:Ext.panel.Panel,alias:"widget.menu",enableKeyNav:!0,allowOtherMenus:!1,ariaRole:"menu",floating:!0,constrain:!0,hidden:!0,hideMode:"visibility",ignoreParentClicks:!1,isMenu:!0,showSeparator:!0,minWidth:void 0,defaultMinWidth:120,initComponent:function(){var e=this,t=Ext.baseCSSPrefix,n=[t+"menu"],i=e.bodyCls?[e.bodyCls]:[],r=!1!==e.floating;e.addEvents("click","mouseenter","mouseleave","mouseover"),Ext.menu.Manager.register(e),e.plain&&n.push(t+"menu-plain"),e.cls=n.join(" "),i.push(t+"menu-body",Ext.dom.Element.unselectableCls),e.bodyCls=i.join(" "),e.layout||(e.layout={type:"vbox",align:"stretchmax",overflowHandler:"Scroller"}),r?void 0===e.minWidth&&(e.minWidth=e.defaultMinWidth):e.hidden=!!e.initialConfig.hidden,e.callParent(arguments)},registerWithOwnerCt:function(){this.floating&&(this.ownerCt=null,Ext.WindowManager.register(this))},initHierarchyEvents:Ext.emptyFn,isVisible:function(){return this.callParent()},getHierarchyState:function(){var e=this.callParent();return e.hidden=this.hidden,e},beforeRender:function(){this.callParent(arguments),this.getSizeModel().width.shrinkWrap||(this.layout.align="stretch")},onBoxReady:function(){var e=this;e.callParent(arguments),e.showSeparator&&(e.iconSepEl=e.layout.getElementTarget().insertFirst({cls:Ext.baseCSSPrefix+"menu-icon-separator",html:"&#160;"})),e.mon(e.el,{click:e.onClick,mouseover:e.onMouseOver,scope:e}),e.mouseMonitor=e.el.monitorMouseLeave(100,e.onMouseLeave,e),e.enableKeyNav&&(e.keyNav=new Ext.menu.KeyNav({target:e,keyMap:e.getKeyMap()}))},getRefOwner:function(){return this.parentMenu||this.ownerButton||this.callParent(arguments)},canActivateItem:function(e){return e&&!e.isDisabled()&&e.isVisible()&&(e.canActivate||e.getXTypes().indexOf("menuitem")<0)},deactivateActiveItem:function(e){var t=this,n=t.activeItem,i=t.focusedItem;n&&(n.deactivate(),n.activated||delete t.activeItem),i&&e&&(i.blur(),delete t.focusedItem)},getFocusEl:function(){return this.focusedItem||this.el},hide:function(){this.deactivateActiveItem(!0),this.callParent(arguments)},getItemFromEvent:function(e){return this.getChildByElement(e.getTarget())},lookupComponent:function(e){var t=this;return"string"==typeof e?e=t.lookupItemFromString(e):Ext.isObject(e)&&(e=t.lookupItemFromObject(e)),e.minWidth=e.minWidth||t.minWidth,e},lookupItemFromObject:function(e){var t,n=Ext.baseCSSPrefix;return e.isComponent||(e=e.xtype?Ext.ComponentManager.create(e,e.xtype):Ext.create("Ext.menu."+(Ext.isBoolean(e.checked)?"Check":"")+"Item",e)),e.isMenuItem&&(e.parentMenu=this),e.isMenuItem||e.dock||(t=[n+"menu-item-cmp"],this.plain||!1===e.indent&&"no-icon"!==e.iconCls||t.push(n+"menu-item-indent"),e.rendered?e.el.addCls(t):e.cls=(e.cls||"")+" "+t.join(" ")),e},lookupItemFromString:function(e){return"separator"==e||"-"==e?new Ext.menu.Separator:new Ext.menu.Item({canActivate:!1,hideOnClick:!1,plain:!0,text:e})},onClick:function(e){var t,n=this;n.disabled?e.stopEvent():((t="click"===e.type?n.getItemFromEvent(e):n.activeItem)&&t.isMenuItem&&(t.menu&&n.ignoreParentClicks?e.stopEvent():t.onClick(e)),t&&!t.disabled||(t=void 0),n.fireEvent("click",n,t,e))},onDestroy:function(){var e=this;Ext.menu.Manager.unregister(e),e.parentMenu=e.ownerButton=null,e.rendered&&(e.el.un(e.mouseMonitor),Ext.destroy(e.keyNav),e.keyNav=null),e.callParent(arguments)},onMouseLeave:function(e){var t=this;t.deactivateActiveItem(),t.disabled||t.fireEvent("mouseleave",t,e)},onMouseOver:function(e){var t=this,n=e.getRelatedTarget(),i=!t.el.contains(n),r=t.getItemFromEvent(e),o=t.parentMenu,a=t.parentItem;i&&o&&(o.setActiveItem(a),a.cancelDeferHide(),o.mouseMonitor.mouseenter()),t.disabled||(r&&!r.activated&&(t.setActiveItem(r),r.activated&&r.expandMenu&&r.expandMenu()),i&&t.fireEvent("mouseenter",t,e),t.fireEvent("mouseover",t,r,e))},setActiveItem:function(e){var t=this;e&&e!=t.activeItem&&(t.deactivateActiveItem(),t.canActivateItem(e)&&(e.activate?(e.activate(),e.activated&&(t.activeItem=e,t.focusedItem=e,t.focus())):(e.focus(),t.focusedItem=e)),e.el.scrollIntoView(t.layout.getRenderTarget()))},showBy:function(e,t,n){var i=this;return i.callParent(arguments),i.hidden||i.setVerticalPosition(),i},show:function(){var e,t=this,n=t.maxHeight;return t.rendered||t.doAutoRender(),t.floating&&(e=t.el.parent().getViewSize().height,t.maxHeight=Math.min(n||e,e)),t.callParent(arguments),t.maxHeight=n,t},setVerticalPosition:function(){var e,t=this,n=t.getY(),i=n,r=t.getHeight(),o=Ext.Element.getViewportHeight().height,a=t.el.parent(),s=a.getViewSize().height,l=n-a.getScroll().top;a=null,t.floating&&(e=t.maxHeight?t.maxHeight:s-l,r>s?i=n-l:e<r?i=n-(r-e):n+r>o&&(i=o-r)),t.setY(i)}}),Ext.define("Ext.panel.Tool",{extend:Ext.Component,alias:"widget.tool",isTool:!0,baseCls:Ext.baseCSSPrefix+"tool",disabledCls:Ext.baseCSSPrefix+"tool-disabled",toolPressedCls:Ext.baseCSSPrefix+"tool-pressed",toolOverCls:Ext.baseCSSPrefix+"tool-over",ariaRole:"button",childEls:["toolEl"],renderTpl:['<img id="{id}-toolEl" src="{blank}" class="{baseCls}-img {baseCls}-{type}{childElCls}" role="presentation"/>'],tooltipType:"qtip",stopEvent:!0,height:15,width:15,_toolTypes:{close:1,collapse:1,down:1,expand:1,gear:1,help:1,left:1,maximize:1,minimize:1,minus:1,next:1,pin:1,plus:1,prev:1,print:1,refresh:1,restore:1,right:1,save:1,search:1,toggle:1,unpin:1,up:1},initComponent:function(){var e=this;e.addEvents("click"),e.id&&e._toolTypes[e.id]&&Ext.global.console&&Ext.global.console.warn("When specifying a tool you should use the type option, the id can conflict now that tool is a Component"),e.type=e.type||e.id,Ext.applyIf(e.renderData,{baseCls:e.baseCls,blank:Ext.BLANK_IMAGE_URL,type:e.type}),e.tooltip=e.tooltip||e.qtip,e.callParent()},afterRender:function(){var e,t=this;t.callParent(arguments),t.el.on({click:t.onClick,mousedown:t.onMouseDown,mouseover:t.onMouseOver,mouseout:t.onMouseOut,scope:t}),t.tooltip&&(Ext.quickTipsActive&&Ext.isObject(t.tooltip)?Ext.tip.QuickTipManager.register(Ext.apply({target:t.id},t.tooltip)):(e="qtip"==t.tooltipType?"data-qtip":"title",t.el.dom.setAttribute(e,t.tooltip)))},getFocusEl:function(){return this.el},setType:function(e){var t=this,n=t.type;return t.type=e,t.rendered?(n&&t.toolEl.removeCls(t.baseCls+"-"+n),t.toolEl.addCls(t.baseCls+"-"+e)):t.renderData.type=e,t},onClick:function(e,t){var n=this;return!n.disabled&&(n.el.removeCls(n.toolPressedCls),n.el.removeCls(n.toolOverCls),!1!==n.stopEvent&&e.stopEvent(),Ext.callback(n.handler,n.scope||n,[e,t,n.ownerCt,n]),n.fireEvent("click",n,e),!0)},onDestroy:function(){Ext.quickTipsActive&&Ext.isObject(this.tooltip)&&Ext.tip.QuickTipManager.unregister(this.id),this.callParent()},onMouseDown:function(){if(this.disabled)return!1;this.el.addCls(this.toolPressedCls)},onMouseOver:function(){if(this.disabled)return!1;this.el.addCls(this.toolOverCls)},onMouseOut:function(){this.el.removeCls(this.toolOverCls)}}),Ext.define("Ext.resizer.ResizeTracker",{extend:Ext.dd.DragTracker,dynamic:!0,preserveRatio:!1,constrainTo:null,proxyCls:Ext.baseCSSPrefix+"resizable-proxy",constructor:function(e){var t,n,i,r=this;e.el||(e.target.isComponent?r.el=e.target.getEl():r.el=e.target),this.callParent(arguments),r.preserveRatio&&r.minWidth&&r.minHeight&&(t=r.minWidth/r.el.getWidth(),(n=r.minHeight/r.el.getHeight())>t?r.minWidth=r.el.getWidth()*n:r.minHeight=r.el.getHeight()*t),r.throttle&&(i=Ext.Function.createThrottled(function(){Ext.resizer.ResizeTracker.prototype.resize.apply(r,arguments)},r.throttle),r.resize=function(e,t,n){n?Ext.resizer.ResizeTracker.prototype.resize.apply(r,arguments):i.apply(null,arguments)})},onBeforeStart:function(e){this.startBox=this.target.getBox()},getDynamicTarget:function(){var e=this,t=e.target;return e.dynamic?t:(e.proxy||(e.proxy=e.createProxy(t)),e.proxy.show(),e.proxy)},createProxy:function(e){var t,n=this.proxyCls;return(t=e.isComponent?e.getProxy().addCls(n):e.createProxy({tag:"div",cls:n,id:e.id+"-rzproxy"},Ext.getBody())).removeCls(Ext.baseCSSPrefix+"proxy-el"),t},onStart:function(e){this.activeResizeHandle=Ext.get(this.getDragTarget().id),this.dynamic||this.resize(this.startBox,{horizontal:"none",vertical:"none"})},onDrag:function(e){(this.dynamic||this.proxy)&&this.updateDimensions(e)},updateDimensions:function(e,t){var n,i,r,o,a,s,l,d,c=this,u=c.activeResizeHandle.region,h=c.getOffset(c.constrainTo?"dragTarget":null),f=c.startBox,p=0,g=0,m=0,x=0,y=h[0]<0?"right":"left",E=h[1]<0?"down":"up";switch(u=c.convertRegionName(u)){case"south":g=h[1],a=2;break;case"north":x=-(g=-h[1]),a=2;break;case"east":p=h[0],a=1;break;case"west":m=-(p=-h[0]),a=1;break;case"northeast":x=-(g=-h[1]),p=h[0],o=[f.x,f.y+f.height],a=3;break;case"southeast":g=h[1],p=h[0],o=[f.x,f.y],a=3;break;case"southwest":m=-(p=-h[0]),g=h[1],o=[f.x+f.width,f.y],a=3;break;case"northwest":x=-(g=-h[1]),m=-(p=-h[0]),o=[f.x+f.width,f.y+f.height],a=3}if(s={width:f.width+p,height:f.height+g,x:f.x+m,y:f.y+x},i=Ext.Number.snap(s.width,c.widthIncrement),r=Ext.Number.snap(s.height,c.heightIncrement),i!=s.width||r!=s.height){switch(u){case"northeast":case"north":s.y-=r-s.height;break;case"southwest":case"west":s.x-=i-s.width;break;case"northwest":s.x-=i-s.width,s.y-=r-s.height}s.width=i,s.height=r}s.width<c.minWidth||s.width>c.maxWidth?(s.width=Ext.Number.constrain(s.width,c.minWidth,c.maxWidth),m&&(s.x=f.x+(f.width-s.width))):c.lastX=s.x,s.height<c.minHeight||s.height>c.maxHeight?(s.height=Ext.Number.constrain(s.height,c.minHeight,c.maxHeight),x&&(s.y=f.y+(f.height-s.height))):c.lastY=s.y,(c.preserveRatio||e.shiftKey)&&(n=c.startBox.width/c.startBox.height,l=Math.min(Math.max(c.minHeight,s.width/n),c.maxHeight),d=Math.min(Math.max(c.minWidth,s.height*n),c.maxWidth),1==a?s.height=l:2==a?s.width=d:(Math.abs(o[0]-this.lastXY[0])/Math.abs(o[1]-this.lastXY[1])>n?s.height=l:s.width=d,"northeast"==u?s.y=f.y-(s.height-f.height):"northwest"==u?(s.y=f.y-(s.height-f.height),s.x=f.x-(s.width-f.width)):"southwest"==u&&(s.x=f.x-(s.width-f.width)))),0===g&&(E="none"),0===p&&(y="none"),c.resize(s,{horizontal:y,vertical:E},t)},getResizeTarget:function(e){return e?this.target:this.getDynamicTarget()},resize:function(e,t,n){var i=this;i.getResizeTarget(n).setBox(e),i.originalTarget&&(i.dynamic||n)&&i.originalTarget.setBox(e)},onEnd:function(e){this.updateDimensions(e,!0),this.proxy&&this.proxy.hide()},convertRegionName:function(e){return e}}),Ext.define("Ext.resizer.Resizer",{mixins:{observable:Ext.util.Observable},alternateClassName:"Ext.Resizable",handleCls:Ext.baseCSSPrefix+"resizable-handle",pinnedCls:Ext.baseCSSPrefix+"resizable-pinned",overCls:Ext.baseCSSPrefix+"resizable-over",wrapCls:Ext.baseCSSPrefix+"resizable-wrap",delimiterRe:/(?:\s*[,;]\s*)|\s+/,dynamic:!0,handles:"s e se",height:null,width:null,heightIncrement:0,widthIncrement:0,minHeight:20,minWidth:20,maxHeight:1e4,maxWidth:1e4,pinned:!1,preserveRatio:!1,transparent:!1,possiblePositions:{n:"north",s:"south",e:"east",w:"west",se:"southeast",sw:"southwest",nw:"northwest",ne:"northeast"},constructor:function(e){var t,n,i,r,o,a,s,l,d,c,u,h=this,f=h.handles,p=0,g=[],m=Ext.dom.Element.unselectableCls;for(h.addEvents("beforeresize","resizedrag","resize"),(Ext.isString(e)||Ext.isElement(e)||e.dom)&&(t=e,(e=arguments[1]||{}).target=t),h.mixins.observable.constructor.call(h,e),(t=h.target)?t.isComponent?(t.addClsWithUI("resizable"),h.el=t.getEl(),t.minWidth&&(h.minWidth=t.minWidth),t.minHeight&&(h.minHeight=t.minHeight),t.maxWidth&&(h.maxWidth=t.maxWidth),t.maxHeight&&(h.maxHeight=t.maxHeight),t.floating&&(h.hasOwnProperty("handles")||(h.handles="n ne e se s sw w nw"))):h.el=h.target=Ext.get(t):h.target=h.el=Ext.get(h.el),"TEXTAREA"!=(i=h.el.dom.tagName.toUpperCase())&&"IMG"!=i&&"TABLE"!=i||(h.originalTarget=h.target,c=(n=h.el).getBox(),h.target=h.el=h.el.wrap({cls:h.wrapCls,id:h.el.id+"-rzwrap",style:n.getStyles("margin-top","margin-bottom")}),h.el.setPositioning(n.getPositioning()),n.clearPositioning(),h.el.setBox(c),n.setStyle("position","absolute")),h.el.position(),h.pinned&&h.el.addCls(h.pinnedCls),h.resizeTracker=new Ext.resizer.ResizeTracker({disabled:h.disabled,target:h.target,constrainTo:h.constrainTo,overCls:h.overCls,throttle:h.throttle,originalTarget:h.originalTarget,delegate:"."+h.handleCls,dynamic:h.dynamic,preserveRatio:h.preserveRatio,heightIncrement:h.heightIncrement,widthIncrement:h.widthIncrement,minHeight:h.minHeight,maxHeight:h.maxHeight,minWidth:h.minWidth,maxWidth:h.maxWidth}),h.resizeTracker.on({mousedown:h.onBeforeResize,drag:h.onResize,dragend:h.onResizeEnd,scope:h}),"all"==h.handles&&(h.handles="n s e w ne nw se sw"),f=h.handles=h.handles.split(h.delimiterRe),o=h.possiblePositions,a=f.length,r=h.handleCls+" "+h.handleCls+"-{0}",h.target.isComponent&&(r+=" "+(u=h.target.baseCls)+"-handle "+u+"-handle-{0}",Ext.supports.CSS3BorderRadius&&(r+=" "+u+"-handle-{0}-br")),l=Ext.isIE6?' style="height:'+h.el.getHeight()+'px"':"";p<a;p++)f[p]&&o[f[p]]&&(d="east"===(s=o[f[p]])||"west"===s?l:"",g.push('<div id="',h.el.id,"-",s,'-handle"',' class="',Ext.String.format(r,s)," ",m,'"',' unselectable="on"',d,"></div>"));for(Ext.DomHelper.append(h.el,g.join("")),p=0;p<a;p++)f[p]&&o[f[p]]&&(h[s=o[f[p]]]=h.el.getById(h.el.id+"-"+s+"-handle"),h[s].region=s,h.transparent&&h[s].setOpacity(0));Ext.isNumber(h.width)&&(h.width=Ext.Number.constrain(h.width,h.minWidth,h.maxWidth)),Ext.isNumber(h.height)&&(h.height=Ext.Number.constrain(h.height,h.minHeight,h.maxHeight)),null===h.width&&null===h.height||(h.originalTarget&&(h.originalTarget.setWidth(h.width),h.originalTarget.setHeight(h.height)),h.resizeTo(h.width,h.height)),h.forceHandlesHeight()},disable:function(){this.resizeTracker.disable()},enable:function(){this.resizeTracker.enable()},onBeforeResize:function(e,t){var n=this.el.getBox();return this.fireEvent("beforeresize",this,n.width,n.height,t)},onResize:function(e,t){var n=this,i=n.el.getBox();return n.forceHandlesHeight(),n.fireEvent("resizedrag",n,i.width,i.height,t)},onResizeEnd:function(e,t){var n=this,i=n.el.getBox();return n.forceHandlesHeight(),n.fireEvent("resize",n,i.width,i.height,t)},resizeTo:function(e,t){var n=this;n.target.setSize(e,t),n.fireEvent("resize",n,e,t,null)},getEl:function(){return this.el},getTarget:function(){return this.target},destroy:function(){var e,t,n=this,i=n.handles,r=i.length,o=n.possiblePositions;for(n.resizeTracker.destroy(),e=0;e<r;e++)(t=n[o[i[e]]])&&t.remove()},forceHandlesHeight:function(){var e,t=this;Ext.isIE6&&((e=t.east)&&e.setHeight(t.el.getHeight()),(e=t.west)&&e.setHeight(t.el.getHeight()),t.el.repaint())}}),Ext.define("Ext.util.Point",{extend:Ext.util.Region,statics:{fromEvent:function(e){return new this((e=(e=e.browserEvent||e).changedTouches&&e.changedTouches.length>0?e.changedTouches[0]:e).pageX,e.pageY)}},constructor:function(e,t){this.callParent([t,e,t,e])},toString:function(){return"Point["+this.x+","+this.y+"]"},equals:function(e){return this.x==e.x&&this.y==e.y},isWithin:function(e,t){return Ext.isObject(t)||(t={x:t,y:t}),this.x<=e.x+t.x&&this.x>=e.x-t.x&&this.y<=e.y+t.y&&this.y>=e.y-t.y},isContainedBy:function(e){return e instanceof Ext.util.Region||(e=Ext.get(e.el||e).getRegion()),e.contains(this)},roundedEquals:function(e){return Math.round(this.x)==Math.round(e.x)&&Math.round(this.y)==Math.round(e.y)}},function(){this.prototype.translate=Ext.util.Region.prototype.translateBy}),Ext.define("Ext.util.Grouper",{extend:Ext.util.Sorter,isGrouper:!0,getGroupString:function(e){return e.get(this.property)}}),Ext.define("ananas.CmdUIMgr",{alternateClassName:"CmdUIMgr",singleton:!0,mixins:{observable:Ext.util.Observable},constructor:function(){this.callParent(arguments),this.cmdUIs=new Ext.util.MixedCollection},add:function(e){this.cmdUIs.add(e.cmd,e)},getUI:function(e){return this.cmdUIs.get(e)},checkUI:function(){try{top.editor_user_setting||(CmdUIMgr.getUI("template").hide(),CmdUIMgr.getUI("work").hide())}catch(e){}try{var e,t=Ext.apply({addsibling:!0,addchild:!0,movedir:!0,renamedir:!0,deldir:!0,addtab:!0,deltab:!0,renametab:!0,strikethrough:!0,overline:!0,underline:!0,undo:!0,redo:!0,bold:!0,italic:!0,insertUnOrderedList:!0,insertOrderedList:!0,blockquote:!0,autoblockquote:!0,inserttable:!0,template:!0,head:!0,forecolor:!0,formatmenu:!0,removeformat:!0,formatmenuhuaxian:!0,addindent:!0,minishindent:!0,justifyleft:!0,justifyright:!0,justifycenter:!0,lineheight:!0,fontfamily:!0,fontsize:!0,recoder:!0,insertimage:{enable:!0,remote:!0,upload:!0,search:!0},insertdoc:{enable:!0,cloud:!0,library:!0,upload:!0,task:!0,online:!0},insertvideo:{enable:!0,cloud:!0,library:!0,upload:!0,task:!0,cut:!0,insertobj:!0,drag:!0,switchwindow:!0,task:!0},insertcxvideo:!0,insertbook:{enable:!0,task:!0,online:!0},insertattachment:{enable:!0,cloud:!0,library:!0,upload:!0},link:{enable:!0,text:!0,library:!0},insertframe:!0,work:{enable:!0,create:!0,select:!0},questionnaire:{enable:!0,create:!0,select:!0},commenu:!0,formula:!0,spechars:!0,insertaudio:{enable:!0,cloud:!0,library:!0,upload:!0,task:!0,online:!0},insertchapter:!0,work2:!0,ballchart:!0,insertzhuanti:!0,insertcxjour:!0,insertaddresource:!0,realplay:!0,insertflash:{enable:!0,cloud:!0,library:!0,upload:!0,online:!0},schoolresource:!0,insertzyk:!0,maxUploadSize:"2000 MB"},top.ueconf||ueconf||{});if(e=top.ans_config){var n,i;if(n="Course"==top.ans_config.dtype)0<document.cookie.length&&(c_start=document.cookie.indexOf("fid="),-1!=c_start)?(c_start=c_start+3+1,c_end=document.cookie.indexOf(";",c_start),-1==c_end&&(c_end=document.cookie.length),i=unescape(document.cookie.substring(c_start,c_end))):i="",n="1385"==i;e=n}e&&(t.insertsizhengku=!0)}catch(e){}for(var r in t)("[object Object]"==Object.prototype.toString.call(t[r])&&!1===t[r].enable||!1===t[r])&&CmdUIMgr.getUI(r)&&CmdUIMgr.getUI(r).hide()}}),Ext.define("ananas.CommandUI",{extend:Ext.Component,baseCls:"ans-command-ui",selected:!1,selectable:!1,selectedCls:"ans-selected",pressedCls:"ans-pressed",overCls:"ans-over",disabledCls:"ans-disabled",listenSelectionChange:!1,cmd:!1,afterRender:function(){var e=this;e.doc=Ext.getDoc(),e.selectable&&e.addEvents("selected","unselected"),e.mon(e.el,{mousedown:e.onMouseDown,scope:e}),e.mon(e,{selected:e.onSelected,unselected:e.onUnSelected,scope:e}),e.callParent(arguments),setTimeout(function(){if(EditorMgr.sharedTools)EditorMgr.getEditors().each(function(t){t&&e.listenSelectionChange&&t.getUEditor().addListener("selectionchange",function(){e.onSelectionChange(t,t.getUEditor())})});else{var t=e.getEditor();t&&e.listenSelectionChange&&t.getUEditor().addListener("selectionchange",function(){e.onSelectionChange(t,t.getUEditor())})}},100),CmdUIMgr.add(e)},onMouseDown:function(e){!this.disabled&&0===e.button&&(this.addCls(this.pressedCls),this.doc.on("mouseup",this.onMouseUp,this),this.startClick=!0)},onMouseUp:function(e){0===e.button&&(this.removeCls(this.pressedCls),this.doc.un("mouseup",this.onMouseUp,this),this.startClick&&(this.selectable&&(this.selected?this.fireEvent("unselected",this):this.fireEvent("selected",this)),this.startClick=!1,this.onCmd(this.cmd,this)))},onSelected:function(e){e.addCls(e.selectedCls),e.selected=!0},onUnSelected:function(e){e.removeCls(e.selectedCls),e.selected=!1},select:function(e){return this.disabled&&me.selected?this:(e?this.onSelected(this):this.fireEvent("selected",this),this)},unselect:function(e){return this.disabled&&!me.selected?this:(e?this.onUnSelected(this):this.fireEvent("unselected",this),this)},onCmd:function(e,t){var n=t.getEditor();n&&(n.fireEvent("cmd",e,n),t.doCmd(e,n,n.getUEditor()))},doCmd:function(e,t,n){n.execCommand(e)},onSelectionChange:function(e,t){switch(this.doQueryCommandState(t)){case 0:this.enable(!0).unselect(!0);break;case-1:this.disable(!0);break;case 1:this.enable(!0).select(!0);break;case!1:this.enable(!0).unselect(!0)}},getEditor:function(){return this.editor?this.editor:EditorMgr.sharedTools?EditorMgr.getActivatedEditor():this.editor=this.up("ananas-editor")},doQueryCommandState:function(e){return"true"!=e.body.contentEditable||"head"!=this.cmd&&e.queryCommandValue("head")?-1:e.queryCommandState(this.cmd,this)},showMenu:function(e,t){try{var n=Math.max(top.document.documentElement.scrollTop,top.document.body.scrollTop)}catch(e){n=Math.max(document.documentElement.scrollTop,document.body.scrollTop)}this._ui?(this._ui.showPopup(),this._ui.popup.showAt({top:this.getY()+60-n+(t||0),left:this.getX()-10+(e||0)})):(this.menu.show(),this.menu.setX(this.getX()+(e||0)),this.menu.setY(this.getY()+60+(t||0)))}}),Ext.define("ananas.Save",{extend:ananas.CommandUI,cls:"ans-menu-ui ans-command-save",xtype:"cmd-save",selectable:!1,cmd:"save",listenSelectionChange:!0,doQueryCommandState:function(e){return e.queryCommandState("undo")},save:function(){this.onCmd("save",this)}}),Ext.define("ananas.Undo",{extend:ananas.CommandUI,cls:"ans-menu-ui ans-command-undo",xtype:"cmd-undo",cmd:"undo",html:langMap.undo||"撤销",listenSelectionChange:!0}),Ext.define("ananas.Redo",{extend:ananas.CommandUI,cls:"ans-menu-ui ans-command-redo",xtype:"cmd-redo",cmd:"redo",html:langMap.Redo||"重做",listenSelectionChange:!0}),Ext.define("ananas.FullScreen",{extend:ananas.CommandUI,cls:"ans-menu-ui ans-command-fullscreen",xtype:"cmd-fullscreen",cmd:"fullscreen",selectable:!0,listenSelectionChange:!1,doCmd:function(e,t){t.setFullScreen(this.selected)}}),Ext.define("ananas.TabSpace",{extend:Ext.Component,cls:"ans-tabpanel-space",xtype:"ans-tabpanel-space"}),Ext.define("ananas.edit.UI",{extend:ananas.CommandUI,baseCls:"ans-command-ui ans-menu-ui"}),Ext.define("ananas.edit.Bold",{extend:ananas.edit.UI,cls:"ans-command-bold",xtype:"cmd-bold",cmd:"bold",html:langMap.Bold||"加粗",listenSelectionChange:!0}),Ext.define("ananas.edit.Underline",{extend:ananas.edit.UI,cls:"ans-command-underline",xtype:"cmd-underline",cmd:"underline",html:langMap.underline||"下划线",listenSelectionChange:!0}),Ext.define("ananas.edit.Strikethrough",{extend:ananas.edit.UI,cls:"ans-command-strikethrough",xtype:"cmd-strikethrough",cmd:"strikethrough",html:langMap.Strikethrough||"中划线",listenSelectionChange:!0}),Ext.define("ananas.edit.Overline",{extend:ananas.edit.UI,cls:"ans-command-overline",xtype:"cmd-overline",cmd:"overline",html:langMap.Overline||"上划线",listenSelectionChange:!0}),Ext.define("ananas.edit.Italic",{extend:ananas.edit.UI,cls:"ans-command-italic",xtype:"cmd-italic",cmd:"italic",html:langMap.Italic||"斜体",listenSelectionChange:!0}),Ext.define("ananas.edit.InsertOrderedList",{extend:ananas.edit.UI,cls:"ans-command-insertOrderedList",xtype:"cmd-insertOrderedList",cmd:"insertOrderedList",html:langMap.Number||"编号",listenSelectionChange:!0}),Ext.define("ananas.edit.InsertUnOrderedList",{extend:ananas.edit.UI,cls:"ans-command-insertUnOrderedList",xtype:"cmd-insertUnOrderedList",cmd:"insertUnOrderedList",html:langMap.Catalog||"目录",listenSelectionChange:!0}),Ext.define("ananas.edit.BlockQuote",{extend:ananas.edit.UI,cls:"ans-command-blockquote",xtype:"cmd-blockquote",cmd:"blockquote",html:langMap.Background||"底色",listenSelectionChange:!0}),Ext.define("ananas.edit.AutoBlockQuote",{extend:ananas.edit.UI,cls:"ans-command-autoblockquote",xtype:"cmd-autoblockquote",cmd:"autoblockquote",html:langMap.packUp||"收起",listenSelectionChange:!0,doCmd:function(e,t,n){n.execCommand("autoblockquote",{class:"cmd-autoblockquote"})}}),Ext.define("ananas.edit.Table",{extend:ananas.edit.UI,cls:"ans-command-inserttable",xtype:"cmd-inserttable",cmd:"inserttable",html:langMap.Tables||"表格",listenSelectionChange:!0,doCmd:function(e,t,n){if(!this._ui){if(!(e=this.el))return;(t=new baidu.editor.ui.TableButton({editor:n,className:"edui-for-inserttable",onpicktable:function(e,t,i){n.execCommand("inserttable",{numRows:i,numCols:t,border:1})}})).target=e.el.dom,t.render(),this._ui=t}this.showMenu()}}),Ext.define("ananas.edit.Template",{extend:ananas.edit.UI,cls:"ans-command-template",xtype:"cmd-template",cmd:"template",html:langMap.Template||"模板",listenSelectionChange:!0,doCmd:function(e,t,n){(e=n.getDialog(e)).render(),e.open()}}),Ext.define("ananas.edit.Color",{extend:ananas.edit.UI,cls:"ans-command-color",xtype:"cmd-color",cmd:"forecolor",html:langMap.Color||"颜色",listenSelectionChange:!0,doCmd:function(e,t,n){if(!this._ui){if(!(e=this.el))return;(t=new baidu.editor.ui.ColorButton({editor:n,className:"edui-for-forecolor",onpickcolor:function(e,t){n.execCommand("forecolor",t)}})).target=e.el.dom,t.render(),this._ui=t}this.showMenu()}}),Ext.define("ananas.edit.JustifyLeft",{extend:ananas.edit.UI,cls:"ans-command-justifyleft",xtype:"cmd-justifyleft",cmd:"justifyleft",html:langMap.AlignLeft||"左对齐",listenSelectionChange:!0,doCmd:function(e,t,n){n.execCommand("justify","left")}}),Ext.define("ananas.edit.JustifyRight",{extend:ananas.edit.UI,cls:"ans-command-justifyright",xtype:"cmd-justifyright",cmd:"justifyright",html:langMap.AlignRight||"右对齐",listenSelectionChange:!0,doCmd:function(e,t,n){n.execCommand("justify","right")}}),Ext.define("ananas.edit.JustifyCenter",{extend:ananas.edit.UI,cls:"ans-command-justifycenter",xtype:"cmd-justifycenter",cmd:"justifycenter",html:langMap.Center||"居中",listenSelectionChange:!0,doCmd:function(e,t,n){n.execCommand("justify","center")}}),Ext.define("ananas.edit.AddIndent",{extend:ananas.edit.UI,cls:"ans-command-addindent",xtype:"cmd-addindent",cmd:"addindent",html:langMap.AddIndent||"加缩进",listenSelectionChange:!0,doCmd:function(e,t,n){n.execCommand("indent","add")}}),Ext.define("ananas.edit.MinishIndent",{extend:ananas.edit.UI,cls:"ans-command-minishindent",xtype:"cmd-minishindent",cmd:"minishindent",html:langMap.ReduceIndent||"减缩进",listenSelectionChange:!0,doCmd:function(e,t,n){n.execCommand("indent","minish")}}),Ext.define("ananas.edit.LineHeight",{extend:ananas.edit.UI,cls:"ans-command-lineheight",xtype:"cmd-lineheight",cmd:"lineheight",html:langMap.Spacing||"行距",listenSelectionChange:!0,doCmd:function(e,t,n){if(t="1 1.5 1.75 2 3 4 5".split(" "),!this._ui){if(!(e=this.el))return;for(var i=[],r=0;r<t.length;r++){var o=t[r];i.push({label:o,value:o,theme:n.options.theme,renderLabelHtml:function(){return'<div class="edui-label %%-label" style="line-height:1;font-size:'+this.value+'">'+(this.label||"")+"</div>"}})}(t=new baidu.editor.ui.Combox({editor:n,items:i,onselect:function(e,t){n.execCommand("lineheight",this.items[t].value)},setLabel:function(e){this.label=e},onbuttonclick:function(){this.showPopup()},className:"edui-for-lineheight"})).target=e.el.dom,t.render(),this._ui=t}this.showMenu()}}),Ext.define("ananas.font.UI",{extend:ananas.CommandUI,baseCls:"ans-command-ui ans-font-ui"}),Ext.define("ananas.font.FontFamily",{extend:ananas.font.UI,cls:"ans-command-fontfamily",xtype:"cmd-fontfamily",cmd:"fontfamily",html:langMap.SimSun||"宋体",listenSelectionChange:!0,doCmd:function(e,t,n){var i,r,o=this;if(t=[{label:langMap.SimSun,name:"songti",val:"宋体,SimSun"},{label:langMap.SimKai,name:"kaiti",val:"楷体,楷体_GB2312, SimKai"},{label:langMap.microsoftYaHei,name:"yahei",val:"微软雅黑,Microsoft YaHei"},{label:langMap.SimHei,name:"heiti",val:"黑体, SimHei"},{label:langMap.SimLi,name:"lishu",val:"隶书, SimLi"},{label:"andale",name:"andale mono",val:"andale mono"},{label:"arial",name:"arial",val:"arial, helvetica,sans-serif"},{label:"arialbla",name:"arial black",val:"arial black,avant garde"},{label:"comic",name:"comic sans ms",val:"comic sans ms"},{label:"impact",name:"impact",val:"impact,chicago"},{label:"times",name:"times new roman",val:"times new roman"}],!o._ui){if(!(e=o.el))return;for(var a,s=0,l=[];a=t[s];s++)i=a.label,r=a.val,l.push({label:i,value:r,theme:n.options.theme,renderLabelHtml:function(){return'<div class="edui-label %%-label" style="font-family:'+this.value+'">'+(this.label||"")+"</div>"}});(t=new baidu.editor.ui.Combox({editor:n,items:l,onselect:function(e,t){n.execCommand("FontFamily",this.items[t].value)},setLabel:function(e){o.el.setHTML(e),this.label=e},className:"edui-for-fontfamily",indexByValue:function(e){if(e)for(var t,n=0;t=this.items[n];n++)if(-1!=t.value.indexOf(e))return n;return-1}})).target=e.el.dom,t.render(),o._ui=t}o.showMenu(0,-40)}}),Ext.define("ananas.font.FontSize",{extend:ananas.font.UI,cls:"ans-command-fontsize",xtype:"cmd-fontsize",cmd:"fontsize",html:"10px",listenSelectionChange:!0,doCmd:function(e,t,n){var i=this;if(t=[10,11,12,14,16,18,20,22,24,36,48,72],!i._ui){if(!(e=i.el))return;for(var r=[],o=0;o<t.length;o++){var a=t[o]+"px";r.push({label:a,value:a,theme:n.options.theme,renderLabelHtml:function(){return'<div class="edui-label %%-label" style="line-height:1;font-size:'+this.value+'">'+(this.label||"")+"</div>"}})}(t=new baidu.editor.ui.Combox({editor:n,items:r,onselect:function(e,t){n.execCommand("FontSize",this.items[t].value)},setLabel:function(e){i.el.setHTML(e),this.label=e},onbuttonclick:function(){this.showPopup()},className:"edui-for-fontsize"})).target=e.el.dom,t.render(),i._ui=t}i.showMenu(0,-40)}}),Ext.define("ananas.head.UI",{extend:ananas.CommandUI,baseCls:isEn?"ans-command-ui ans-head-ui ans-command-ui-en":"ans-command-ui ans-head-ui"}),Ext.define("ananas.head.H1",{extend:ananas.head.UI,cls:"ans-command-h1",xtype:"cmd-h1",cmd:"head",cmdParam:"h2",listenSelectionChange:!0,doCmd:function(e,t,n){n.execCommand("head","h2")}}),Ext.define("ananas.head.H2",{extend:ananas.head.UI,cls:"ans-command-h2",xtype:"cmd-h2",cmd:"head",cmdParam:"h3",listenSelectionChange:!0,doCmd:function(e,t,n){n.execCommand("head","h3")}}),Ext.define("ananas.insert.UI",{extend:ananas.CommandUI,baseCls:"ans-command-ui ans-insert-ui",listenSelectionChange:!0,doCmd:function(e,t,n){(e=n.getDialog(e)).render(),e.open()}}),Ext.define("ananas.insert.Insertnotes",{extend:ananas.insert.UI,cls:"ans-command-insertnotes",xtype:"cmd-insertnotes",cmd:"insertnotes",html:"注释",doCmd:function(e,t,n){(e=n.getDialog("insertnotes")).iframeCls="dialog-insertnotes",e.render(),e.open()}}),Ext.define("ananas.insert.InsertImage",{extend:ananas.insert.UI,cls:"ans-command-insertimage",xtype:"cmd-insertimage",cmd:"insertimage",html:langMap.Picture||"图片",doCmd:function(e,t,n){(t=window.uploadDownGradeControl)&&1==t.uploadDownGrade?alert(t.uploadDownGradeTip):((e=n.getDialog(e)).render(),e.open())}}),Ext.define("ananas.insert.Link",{extend:ananas.insert.UI,cls:"ans-command-link",xtype:"cmd-link",cmd:"link",html:langMap.Link||"链接",doCmd:function(e,t,n){(e=n.getDialog("link")).iframeCls="dialog-linkNew",e.render(),e.open()}}),Ext.define("ananas.insert.Frame",{extend:ananas.insert.UI,cls:"ans-command-insertframe",xtype:"cmd-insertframe",cmd:"insertframe",html:langMap.Plugin||"插件"}),Ext.define("ananas.insert.InsertDoc",{extend:ananas.insert.UI,cls:"ans-command-insertdoc",xtype:"cmd-insertdoc",cmd:"insertdoc",html:langMap.File||"文档",doCmd:function(e,t,n){(t=window.uploadDownGradeControl)&&1==t.uploadDownGrade?alert(t.uploadDownGradeTip):((e=n.getDialog(e)).replaceOperation=!1,e.render(),e.open())}}),Ext.define("ananas.insert.InsertRead",{extend:ananas.insert.UI,cls:"ans-command-insertread",xtype:"cmd-insertread",cmd:"insertread",html:langMap.Reading||"阅读"}),Ext.define("ananas.insert.InsertLive",{extend:ananas.insert.UI,cls:"ans-command-insertlive",xtype:"cmd-insertlive",cmd:"insertlive",html:langMap.Live||"直播"}),Ext.define("ananas.insert.InsertClassTask",{extend:ananas.insert.UI,cls:"ans-command-insertclasstask",xtype:"cmd-insertclasstask",cmd:"insertclasstask",html:langMap.CXClass||"泛雅课堂",afterRender:function(){this.callParent(arguments);var e=parent.ueconf.insertclasstask_custom;e&&(this.removeCls("ans-command-insertclasstask"),this.addCls(e.cls),this.update(e.html))},doCmd:function(e,t,n){(e=n.getDialog(e)).replaceOperation=!1,e.replaceResourceUrl="",e.render(),e.open()}}),Ext.define("ananas.insert.InsertSiZheng",{extend:ananas.insert.UI,cls:"ans-command-insertsizheng",xtype:"cmd-insertsizheng",cmd:"insertsizheng",html:"课程思政",doCmd:function(e,t,n){(e=n.getDialog("insertsizheng")).iframeCls="dialog-insertsizheng",e.render(),e.open()}}),Ext.define("ananas.insert.InsertSiZhengKu",{extend:ananas.insert.UI,cls:"ans-command-insertsizhengku",xtype:"cmd-insertsizhengku",cmd:"insertsizhengku",html:"思政资源库",doCmd:function(e,t,n){(e=n.getDialog("insertsizheng")).iframeCls="dialog-insertsizhengku",e.render(),e.open()}}),Ext.define("ananas.insert.InsertVideo",{extend:ananas.insert.UI,cls:"ans-command-insertvideo",xtype:"cmd-insertvideo",cmd:"insertvideo",html:langMap.Video||"视频",doCmd:function(e,t,n){(t=window.uploadDownGradeControl)&&1==t.uploadDownGrade?alert(t.uploadDownGradeTip):((e=n.getDialog(e)).replaceOperation=!1,e.title="插入视频",e.tips="",e.render(),e.open())}}),Ext.define("ananas.insert.InsertBook",{extend:ananas.insert.UI,cls:"ans-command-insertbook",xtype:"cmd-insertbook",cmd:"insertbook",html:langMap.Books||"图书"}),Ext.define("ananas.insert.InsertAttachment",{extend:ananas.insert.UI,cls:"ans-command-insertattachment",xtype:"cmd-insertattachment",cmd:"insertattachment",html:langMap.Attachments||"附件"}),Ext.define("ananas.insert.Work",{extend:ananas.insert.UI,cls:"ans-command-work",xtype:"cmd-work",cmd:"work",html:langMap.Quiz||"章节测验"}),Ext.define("ananas.insert.InsertMooc",{extend:ananas.insert.UI,cls:"ans-command-insertmooc",xtype:"cmd-insertmooc",cmd:"insertmooc"}),Ext.define("ananas.insert.Reference",{extend:ananas.insert.UI,cls:"ans-command-reference",xtype:"cmd-reference",cmd:"reference"}),Ext.define("ananas.insert.InsertBbs",{extend:ananas.insert.UI,cls:"ans-command-insertbbs",xtype:"cmd-insertbbs",cmd:"insertbbs",html:langMap.Discussion||"讨论"}),Ext.define("ananas.cmp.UI",{extend:ananas.CommandUI,baseCls:"ans-command-ui ans-cmp-ui",listenSelectionChange:!0,width:40,doCmd:function(e,t,n){"insertaddresource"==e?n.execCommand("insertobject","insertaddresource",{title:"",link:""}):((e=n.getDialog(e)).render(),e.open())}}),Ext.define("ananas.cmp.BallChart",{extend:ananas.cmp.UI,cls:"ans-command-ballchart",xtype:"cmd-ballchart",cmd:"ballchart",html:langMap.expandReading||"扩展阅读"}),Ext.define("ananas.insert.Zhuanti",{extend:ananas.cmp.UI,cls:"ans-command-insertchapter",xtype:"cmd-insertzhuanti",cmd:"insertzhuanti",html:langMap.CXDiscovery||"超星发现"}),Ext.define("ananas.insert.CxJour",{extend:ananas.cmp.UI,cls:"ans-command-insertcxjour",xtype:"cmd-insertcxjour",cmd:"insertcxjour",html:langMap.CXJournals||"超星期刊"}),Ext.define("ananas.insert.AddResource",{extend:ananas.cmp.UI,cls:"ans-command-insertaddresource",xtype:"cmd-insertaddresource",cmd:"insertaddresource",html:langMap.ExternalLinks||"外部链接"}),Ext.define("ananas.cmp.Spechars",{extend:ananas.cmp.UI,cls:"ans-command-spechars",xtype:"cmd-spechars",cmd:"spechars",html:langMap.Symbols||"符号"}),Ext.define("ananas.cmp.Formula",{extend:ananas.cmp.UI,cls:"ans-command-formula",xtype:"cmd-formula",cmd:"formula",html:langMap.Formulas||"公式"}),Ext.define("ananas.cmp.Work2",{extend:ananas.cmp.UI,cls:"ans-command-work2",xtype:"cmd-work2",cmd:"work2",html:langMap.input||"输入框"}),Ext.define("ananas.cmp.InsertAudio",{extend:ananas.cmp.UI,cls:"ans-command-insertaudio",xtype:"cmd-insertaudio",cmd:"insertaudio",html:langMap.Audio||"音频",doCmd:function(e,t,n){(t=window.uploadDownGradeControl)&&1==t.uploadDownGrade?alert(t.uploadDownGradeTip):((e=n.getDialog(e)).render(),e.open())}}),Ext.define("ananas.cmp.InsertChapter",{extend:ananas.cmp.UI,cls:"ans-command-insertchapter",xtype:"cmd-insertchapter",cmd:"insertchapter",html:langMap.readingLink||"图书内页"}),Ext.define("ananas.cmp.RealPlay",{extend:ananas.cmp.UI,cls:"ans-command-realplay",xtype:"cmd-realplay",cmd:"realplay",html:langMap.Live||"直播",doCmd:function(e,t,n){e=ServerHosts.CXLIVE_HOST+"/demo/meeting.jsp?mid="+n.mid(),n.execCommand("insertobject","realplay",{realplayurl:e})}}),Ext.define("ananas.cmp.InsertSwf",{extend:ananas.cmp.UI,cls:"ans-command-insertflash",xtype:"cmd-insertflash",cmd:"insertflash",html:langMap.Flash||"动画"}),Ext.define("ananas.cmp.SchoolResource",{extend:ananas.cmp.UI,cls:"ans-command-schoolresource",xtype:"cmd-schoolresource",cmd:"schoolresource",html:langMap.SchoolResources||"本校资源"}),Ext.define("ananas.cmp.InsertZYK",{extend:ananas.cmp.UI,cls:"ans-command-insertzyk",xtype:"cmd-insertzyk",cmd:"insertzyk",html:langMap.Resources||"资源库"}),Ext.define("ananas.cmp.LegendZYK",{extend:ananas.cmp.UI,cls:"ans-command-insertzyk",xtype:"cmd-legendzyk",cmd:"legendzyk",html:langMap.ExternalResources||"三方资源"}),Ext.define("ananas.cmp.Resource3D",{extend:ananas.cmp.UI,cls:"ans-command-insertresource3d",xtype:"cmd-resource3d",cmd:"resource3d",html:langMap["3DResources"]||"3D资源"}),Ext.define("ananas.cmp.ResourceQj",{extend:ananas.cmp.UI,cls:"ans-command-insertresourceQj",xtype:"cmd-resourceQj",cmd:"resourceQj",html:"全景资源"}),Ext.define("ananas.cmp.ISearch",{extend:ananas.cmp.UI,cls:"ans-command-insertiSearch",xtype:"cmd-iSearch",cmd:"iSearch",html:"智搜"}),Ext.define("ananas.cmp.InsertCXVideo",{extend:ananas.cmp.UI,cls:"ans-command-insertcxvideo",xtype:"cmd-insertcxvideo",cmd:"insertcxvideo",html:langMap.ChaoxingVideo||"在线视频"}),Ext.define("ananas.cmp.ErYa",{extend:ananas.cmp.UI,cls:"ans-command-erya",xtype:"cmd-erya",cmd:"erya"}),Ext.define("ananas.cmp.RichVideo",{extend:ananas.cmp.UI,cls:"ans-command-richvideo",xtype:"cmd-richvideo",cmd:"richvideo"}),Ext.define("ananas.cmp.S2S",{extend:ananas.cmp.UI,cls:"ans-command-s2s",xtype:"cmd-s2s",cmd:"s2s",doCmd:function(){}}),Ext.define("ananas.cmp.Recoder",{extend:ananas.cmp.UI,cls:"ans-command-recoder",xtype:"cmd-recoder",cmd:"recoder",html:langMap.Recording||"录音"}),Ext.define("ananas.cmp.Questionnaire",{extend:ananas.cmp.UI,cls:"ans-command-questionnaire",xtype:"cmd-questionnaire",cmd:"questionnaire",html:langMap.Survey||"调查问卷"});var configArr=[],confInfor={};if(top.confEditor&&0<top.confEditor.length)for(var i=0,len=top.confEditor.length;i<len;i++){var item=top.confEditor[i],module=item.module,link=item.moduleLink;confInfor[module]=link,Ext.define("ananas.cmp."+module,{extend:"ananas.cmp.UI",cls:"ans-command-"+module,xtype:"cmd-"+module,cmd:module,html:"en"==currentLanguage?item.moduleEName:item.moduleCName,style:"background-image: url("+item.moduleImg+");background-size:60%",doCmd:function(e,t,n){(t=n.getDialog("insertcustom")).innerUrl=confInfor[e]||"",t.iframeCls="dialog-"+e,t.render(),t.open()}});var menuObj={xtype:"cmd-"+module};configArr.push(menuObj)}Ext.define("ananas.Menu",{extend:ananas.edit.UI,activeCls:"ans-selected",inited:!1,menu:null,cls:"",cmd:"",doCmd:function(e,t,n){var i=this;i.menu&&(i.inited||(i.inited=!0,i.menu.addListener("show",function(){i.addCls(i.activeCls)}),i.menu.addListener("hide",function(){i.removeCls(i.activeCls)}),i.menu.addListener("click",function(e,t){1<EditorMgr.getEditors().items.length&&t.doCmd(t.cmd,t,n),i.menu.hide()}),n.addListener("click",function(){i.menu.hide()})),i.showMenu(-20))},listenSelectionChange:!0}),Ext.define("ananas.format.MenuHuaXian",{extend:Ext.menu.Menu,plain:!0,floating:!0,border:!1,animCollapse:!0,shadow:!1,minWidth:"80",layout:{type:"table",columns:1,tableAttrs:{style:"margin:0 auto;text-align:center;width:100%;"}},config:{items:[{xtype:"cmd-underline"},{xtype:"cmd-strikethrough"},{xtype:"cmd-overline"}]}}),Ext.define("ananas.FormatMenuHuaXian",{extend:ananas.Menu,xtype:"ans-format-menu-huaxian",cls:"ans-command-underlinehuaxian",cmd:"formatmenuhuaxian",html:langMap.Underline||"划线",menu:Ext.create("ananas.format.MenuHuaXian")}),Ext.define("ananas.format.Menu",{extend:Ext.menu.Menu,plain:!0,floating:!0,border:!1,animCollapse:!0,shadow:!1,layout:{type:"table",columns:2,tableAttrs:{style:"margin:0 auto;text-align:center;width:100%;"}},config:{items:[{xtype:"cmd-blockquote"},{xtype:"cmd-autoblockquote"},{xtype:"cmd-addindent"},{xtype:"cmd-minishindent"},{xtype:"cmd-justifyleft"},{xtype:"cmd-justifyright"},{xtype:"cmd-justifycenter"}]}}),Ext.define("ananas.FormatMenu",{extend:ananas.Menu,xtype:"ans-format-menu",cls:"ans-format-menu",cmd:"formatmenu",html:langMap.Format||"格式",menu:Ext.create("ananas.format.Menu")}),Ext.define("ananas.RemoveFormat",{extend:ananas.edit.UI,cls:"ans-command-removeformat",xtype:"cmd-removeformat",cmd:"removeformat",html:langMap.ClearFormatting||"清除格式",listenSelectionChange:!0}),Ext.define("ananas.FormatMatch",{extend:ananas.edit.UI,cls:"ans-command-formatmatch",xtype:"cmd-formatmatch",cmd:"formatmatch",html:langMap.FormatPainter||"格式刷",listenSelectionChange:!0}),Ext.define("ananas.cmp.Menu",{extend:Ext.menu.Menu,plain:!0,floating:!0,border:!1,animCollapse:!0,shadow:!1,layout:{type:"table",columns:2,tableAttrs:{style:"margin:0 auto;text-align:center;width:100%;"}},afterRender:function(){this.callParent(arguments),CmdUIMgr.checkUI()},config:{items:Ext.Array.push([],[{xtype:"cmd-template"},{xtype:"cmd-insertframe"},{xtype:"cmd-insertbook"},{xtype:"cmd-formula"},{xtype:"cmd-spechars"},{xtype:"cmd-insertaudio"},{xtype:"cmd-insertchapter"},{xtype:"cmd-ballchart"},{xtype:"cmd-realplay",itemId:"cmdrealplay"},{xtype:"cmd-insertflash"},{xtype:"cmd-recoder"},{xtype:"cmd-insertcxvideo"},{xtype:"cmd-questionnaire"},{xtype:"cmd-insertzhuanti"},{xtype:"cmd-insertcxjour"},{xtype:"cmd-insertaddresource"},{xtype:"cmd-insertread"},{xtype:"cmd-insertlive"},{xtype:"cmd-insertclasstask"},{xtype:"cmd-insertzyk"},{xtype:"cmd-legendzyk"},{xtype:"cmd-resource3d"},{xtype:"cmd-insertattachment"},{xtype:"cmd-insertsizheng"},{xtype:"cmd-insertsizhengku"},{xtype:"cmd-resourceQj"},{xtype:"cmd-iSearch"},{xtype:"cmd-insertnotes"}],configArr)}}),Ext.define("ananas.CmpMenu",{extend:ananas.Menu,xtype:"ans-cmp-menu",cls:"ans-cmp-menu",cmd:"commenu",html:langMap.More||"更多",menu:Ext.create("ananas.cmp.Menu")}),Ext.define("ananas.Tools.FontPanel",{extend:Ext.container.Container,xtype:"ans-tools-font",cls:"ans-font-panel",layout:{type:"vbox"},config:{items:[{xtype:"cmd-fontfamily"},{xtype:"cmd-fontsize"}]}}),Ext.define("ananas.Tools.HeadPanel",{extend:Ext.container.Container,xtype:"ans-tools-head",cls:isEn?"ans-head-panel ans-head-panel-en":"ans-head-panel",layout:{type:"hbox"},width:122,height:50,config:{items:[{xtype:"cmd-h1"},{xtype:"cmd-h2"}]}}),Ext.define("ananas.EditTabPanel",{extend:Ext.container.Container,xtype:"ans-edit-tabpanel",config:{items:[{xtype:"cmd-undo"},{xtype:"cmd-redo"},{xtype:"ans-tabpanel-space"},{xtype:"ans-tools-head"},{xtype:"ans-tools-font"},{xtype:"ans-tabpanel-space"},{xtype:"cmd-insertvideo"},{xtype:"cmd-work"},{xtype:"cmd-insertbbs"},{xtype:"cmd-insertimage"},{xtype:"cmd-insertdoc"},{xtype:"ans-tabpanel-space"},{xtype:"cmd-bold"},{xtype:"cmd-italic"},{xtype:"ans-format-menu-huaxian"},{xtype:"cmd-color"},{xtype:"ans-format-menu"},{xtype:"cmd-removeformat"},{xtype:"cmd-formatmatch"},{xtype:"cmd-lineheight"},{xtype:"cmd-insertUnOrderedList"},{xtype:"cmd-insertOrderedList"},{xtype:"cmd-inserttable"},{xtype:"cmd-link"},{xtype:"ans-tabpanel-space",itemId:"tag"},{xtype:"ans-cmp-menu",itemId:"moreCt"}]},afterRender:function(){var e=this,t=e.getComponent("tag");e.callParent(arguments),e.moreCt=e.getComponent("moreCt"),e.tag=t,e.minIndex=e.items.indexOf(t)+1,Ext.onReady(function(){setTimeout(function(){e.onResize(e,e.ownerCt.getWidth())},1)})},getEditorCookie:function(e){return 0<document.cookie.length&&(c_start=document.cookie.indexOf(e+"="),-1!=c_start)?(c_start=c_start+e.length+1,c_end=document.cookie.indexOf(";",c_start),-1==c_end&&(c_end=document.cookie.length),unescape(document.cookie.substring(c_start,c_end))):""},onResize:function(e,t){var n=this.moreCt.menu,i=this.items,r=this.minIndex,o=this.getDisplayIndex(this.tag.getX()+55,t);r=this.items.getCount()-r-o;try{var a=top.ueconf||{};a.iSearch=!1,16820!=(s=this.getEditorCookie("fid"))&&146332!=s||(ueconf.iSearch=!0)}catch(e){a={}}if(!(0>=o))if(0>r)for(o=0;o<0-r;o++){var s=(l=n.items.items[0]).cmd,l=n.remove(l);(!1!==a[s]||a[s]&&!1!==a[s].enable)&&this.insert(i.getCount()-1,l)}else if(0<r)for(o=0;o<r;o++)s=(l=i.items[i.getCount()-2]).cmd,l=this.remove(l),(!1!==a[s]||a[s]&&!1!==a[s].enable)&&n.insert(0,l)},getDisplayIndex:function(e,t){var n=t-e;return 0<n?Math.floor(n/55):-1}}),Ext.define("ananas.Editor",{extend:Ext.container.Container,xtype:"ananas-editor",cls:"ans-editor",constructor:function(e){var t=[];if(!1!==e.toolbar){var n="ans-tools";"easy"==e.toolbar&&(n="ans-easy-tools"),t.push({xtype:n,itemId:"tools"})}t.push({xtype:"ans-inner-editor",itemId:"innereditor",flex:1,ueditorConfig:e.ueditorConfig}),e.items=t,this.callParent([e])},afterRender:function(){var e=this;e.addEvents("cmd","ready"),e.innerEditor=e.getComponent("innereditor"),e.tools=e.getComponent("tools"),e.callParent(),e.innerEditor.on("ready",function(t,n){e.initConfig={initialFrameHeight:e.innerEditor.getUeditorConfig().initialFrameHeight,width:e.getWidth(!0),height:e.getHeight(!0)},e.fireEvent("ready",t,n)},e),e.innerEditor.on("cmd",function(t,n,i){e.fireEvent("cmd",t,n,i)},e)},showTip:function(e){var t=this;t.tools&&(t.tools.showTip(e),t._tipId&&clearTimeout(t._tipId),t._tipId=setTimeout(function(){t.tools.showTip("")},2500))},getUEditor:function(){return this.innerEditor.ueditor},getContent:function(){return this.getUEditor().getContent()},getAttachments:function(e){return this.innerEditor.getAttachments(e)},save:function(){var e=CmdUIMgr.getUI("save");e&&e.save()},setFullScreen:function(e){e?this.doFullScreen():this.unFullScreen()},doFullScreen:function(){var e=Ext.getBody(),t=Ext.get(Ext.query("html")[0]);for(me=this,ueditor=me.getUEditor(),el=me.el,container=el.dom.parentNode.parentNode,size=e.getViewSize(),nodeStack=me.nodeStack=[],me._bakScrollTop=Math.max(document.documentElement.scrollTop,document.body.scrollTop),window.scrollTo(0,0);"BODY"!=container.tagName;){var n=baidu.editor.dom.domUtils.getComputedStyle(container,"position");nodeStack.push(n),container.style.position="static",container=container.parentNode}t.addCls("ans-overflow"),e.addCls("ans-overflow"),el.addCls("ans-fullscreen"),Ext.EventManager.onWindowResize(me.fireResize,me),me.fireResize(size.width,size.height)},unFullScreen:function(){var e=Ext.getBody(),t=Ext.get(Ext.query("html")[0]);for(me=this,ueditor=me.getUEditor(),el=me.el,container=el.dom.parentNode.parentNode,nodeStack=me.nodeStack,initConfig=me.initConfig;"BODY"!=container.tagName;)container.style.position=nodeStack.shift(),container=container.parentNode;t.removeCls("ans-overflow"),e.removeCls("ans-overflow"),el.removeCls("ans-fullscreen"),ueditor.options.initialFrameHeight=initConfig.initialFrameHeight,ueditor.setHeight(initConfig.initialFrameHeight),Ext.EventManager.removeResizeListener(me.fireResize,me),me.setSize(initConfig.width,initConfig.height-2),ueditor.disableAutoHeight(),window.scrollTo(0,me._bakScrollTop)},fireResize:function(e,t){var n=this.getUEditor();e==this.width&&t==this.height||(this.setSize(e,t),n.options.initialFrameHeight=t-(this.tools?this.tools.getHeight():0)-30,n.setHeight(n.options.initialFrameHeight),n.disableAutoHeight(),n.adjustHeight())},destroy:function(){this.callParent(arguments),delete this.innerEditor,delete this.tools}}),Ext.define("ananas.InnerEditor",{extend:Ext.Component,xtype:"ans-inner-editor",cls:"ans-editor-body",autoHeight:!1,useDialog:!0,config:{ueditorConfig:null},afterRender:function(){var e=this;e.addEvents("cmd","ready");var t=Ext.apply({toolbars:!1,initialContent:"",initialFrameHeight:300},e.getUeditorConfig());e.setUeditorConfig(t),e.ueditor=new baidu.editor.ui.Editor(t),e.ueditor.wrapEditor=e;var n="insertimage link insertframe insertbook insertchapter insertdoc insertread insertlive insertaudio insertvideo insertcxvideo template insertmooc ballchart formula spechars erya work work2 richvideo insertattachment insertflash schoolresource recoder questionnaire insertziliao insertzhuanti insertcxjour changechapter insertbbs insertzyk legendzyk resource3d insertclasstask insertsizheng resourceQj iSearch insertcustom insertnotes".split(" "),i=["insertbook","schoolresource","recoder","insertcxvideo"];e.ueditor.addListener("ready",function(){if(e.ueditor.document.body.className="ans-cc",e.useDialog)for(var t=0,r=n.length;t<r;t++)e.initDialog(n[t],i);e.fireEvent("ready",e,e.ueditor),e.autoHeight&&(e.ueditor.enableAutoHeight(),e.ueditor.adjustHeight())}),e.callParent(),e.ueditor.render(e.el.dom),EditorMgr.add(e)},getUEditor:function(){return this.ueditor},getContent:function(){return this.getUEditor().getContent()},isDirty:function(){if(!this.getUEditor().undoManger)throw Error("This editor can not support undo plugin.");return 0<this.getUEditor().undoManger.index},resetUndoManger:function(){return this.getUEditor().undoManger.reset()},getAttachments:function(e){var t=this.getUEditor().body;e=Ext.query(e?"iframe[module="+e+"]":"iframe[module]",t);var n=[];return Ext.each(e,function(e){var t=e.getAttribute("data");e=e.getAttribute("module"),t&&((t=Ext.decode(t)).name&&(t.name=t.name.replace(/\uD83C[\uDF00-\uDFFF]|\uD83D[\uDC00-\uDE4F]|\u2764|\u2749|\ud840\udcca|\u0036\u20e3\ufe0f/g,"")),n.push(Ext.apply(t,{module:e})))}),this.addImgAttachment(n,t),n},addImgAttachment:function(e,t){var n=Ext.query('img[src^="http"]',t);Ext.each(n,function(t){(t=t.getAttribute("src").match(/[0-9a-f]{10,}/))&&0<t.length&&e.push({objectid:t[0],module:"insertimage"})})},destroy:function(){this.ueditor.destroy(),this.callParent(arguments)},getFilterRules:function(){var e=function(e){e.tagName="p",e.attrs=e.attrs&&e.attrs.ue_t?{ue_t:"1"}:{},e.setAttr("style",null)},t=function(e){e.setAttr("style",null)},n={$:{ue_t:1}},i={$:{ue_t:"1"}},r=function(e){e.tagName="h2"},o=function(t){e(t),t.tagName="h3"};return{"-":"script style object embed input select",strong:{$:{ue_t:"1"}},em:n,b:function(t){e(t),t.tagName="strong"},p:{$:{id:1,style:["clear","text-align",""],ue_t:"1"}},br:{$:{}},div:t,ol:n,ul:n,dl:n,dt:n,dd:n,li:n,sub:n,sup:n,caption:e,iframe:t,table:t,tbody:t,thead:t,tfoot:t,th:t,tr:t,td:t,blockquote:{$:{class:1,ue_t:"1"}},a:t,h1:[r,i],h2:[r,i],h3:[o,i],h4:[o,i],h5:[o,i],h6:[o,i],span:n,img:[{$:{width:1,height:1,src:1,title:1,class:1,data:1,style:["float","width","height"]}},function(e){if(t=e.attrs.class){for(var t,n=[],i=0,r=(t=Ext.String.splitWords(t)).length;i<r;i++)Ext.String.startsWith(t[i],"ans-")&&n.push(t[i]);e.attrs.class=n.join(" ")}}],center:n}},contains:function(e,t){if(!e)return!1;if("[object Array]"!=Object.prototype.toString.call(e))return e==t;for(var n=0,i=e.length;n<i;n++)if(e[n]==t)return!0;return!1},initDialog:function(e,t){var n=this.contains(t,e),i=baidu.editor.utils,r=baidu.editor.ui,o=this.ueditor,a=o.options.iframeUrlMap[e],s=o.getLang(e)||{},l=new r.Dialog(i.extend({iframeUrl:o.ui.mapUrl(a)+"?v=202211211943",iframeCls:"dialog-"+e,innerUrl:"",editor:o,className:"edui-for-"+e,title:s.title||"",autoReset:!0,closeDialog:o.getLang("closeDialog")},{buttons:!n&&[{className:"edui-okbutton",label:o.getLang("ok"),editor:o,onclick:function(){l.close(!0)}},{className:"edui-cancelbutton",label:o.getLang("cancel"),editor:o,onclick:function(){l.close(!1)}}]}));o.ui._dialogs[e+"Dialog"]=l,l.render()}}),Ext.define("ananas.EditorMgr",{alternateClassName:"EditorMgr",singleton:!0,mixins:{observable:Ext.util.Observable},sharedTools:!1,constructor:function(){this.callParent(arguments),this.editors=new Ext.util.MixedCollection},add:function(e){var t=this;t.activated=e,t.editors.contains(e)||(t.editors.add(e),e.on("destroy",function(){t.editors.remove(e)}),e.getUEditor().addListener("selectionChange",function(){t.activated=this.wrapEditor}))},getEditors:function(){return this.editors},getActivatedEditor:function(){return this.activated}}),Ext.define("ananas.List.Item",{extend:Ext.Component,cls:"ans-list-item",overCls:"ans-list-item-over",xtype:"ans-list-item",renderTpl:['<div><span class="ans-list-index">{index+1}.</span> {title}</div>'],onRender:function(){var e=this;e.callParent(arguments),e.addEvents("selected"),e.el.on("click",function(){e.fireEvent("selected",e),e.el.addCls("ans-list-item-selected")})},unselect:function(){this.el.removeCls("ans-list-item-selected")}}),Ext.define("ananas.List",{extend:Ext.container.Container,cls:"ans-list",xtype:"ans-list",padding:5}),Ext.define("ananas.ServerHosts",{alternateClassName:"ServerHosts",singleton:!0,constructor:function(){this.callParent(arguments);var e=document.domain;try{this.MASTER_HOST=location.protocol+"//"+top.location.host}catch(e){this.MASTER_HOST=location.protocol+"//"+location.host}try{this.PARENT_HOST=""!==parent.location.host?location.protocol+"//"+parent.location.host:this.MASTER_HOST}catch(e){this.PARENT_HOST=location.protocol+"//"+location.host}this.P_HOST=location.protocol+"//p.ananas.chaoxing.com",this.s1_HOST=location.protocol+"//s1.ananas.chaoxing.com",this.s2_HOST=location.protocol+"//s2.ananas.chaoxing.com",this.CLOUD_HOST="http://cloud.ananas."+e,this.NEW_CLOUD_HOST=location.protocol+"//pan-yz.chaoxing.com",this.CS_HOST=location.protocol+"//cs.ananas."+e,this.FANYA_HOST="http://course.fanya."+e,this.PAN_HOST="http://pan.ananas."+e,this.CXLIVE_HOST="http://cxlive."+e,this.ERYA_TSK_HOST="http://erya.tsk."+e,this.QUESTIONNAIRE_HOST="http://surveyapp.fy."+e,this.FX_HOST="http://www."+e,this.PHONE_ZT_HOST="https://special.rhky.com",this.CHAOXING_CLASS_HOST="https://k.chaoxing.com",this.LIVE_HOST=location.protocol+"//live.chaoxing.com",this.APPCD_HOST=location.protocol+"//appcd.chaoxing.com",this.ZHIBO_HOST="https://zhibo.chaoxing.com",this.CXCLASSTASL_HOST=location.protocol+"//noteyd.chaoxing.com"}}),Ext.define("ananas.Tab",{extend:Ext.Component,xtype:"ans-tab",cls:"ans-tab",activateCls:"ans-tab-activate",config:{selected:!1},afterRender:function(){this.addEvents("activate"),this.callParent(),this.getSelected()&&this.select(),this.getEl().on("click",this.select,this)},select:function(){this.fireEvent("activate",this),this.addCls(this.activateCls)},blur:function(){this.removeCls(this.activateCls)}}),Ext.define("ananas.Tools.Panel",{extend:Ext.container.Container,cls:"ans-tools-panel",tabs:["edit","type","component"],afterRender:function(){this.callParent();for(var e,t=this,n=t.tabs,i=[],r=t.getComponent("tabpanel").getLayout(),o=t.getComponent("menu"),a=0;a<n.length;a++)(e=o.getComponent(n[a])).__index=a,e.on("activate",function(e){t.blurAllTabs(),r.setActiveItem(e.__index),t.onSelectedItem(e.getItemId(),e.__index)},t),i.push(e);t.menu=o,t.tabPanels=i},onSelectedItem:function(){},blurAllTabs:function(){for(var e=0;e<this.tabPanels.length;e++)this.tabPanels[e].blur()},getActiveItem:function(){return this.getComponent("tabpanel").getLayout().getActiveItem()},getTabContent:function(e){return this.getComponent("tabpanel").getComponent(e)}}),Ext.define("ananas.Tools",{extend:Ext.container.Container,xtype:"ans-tools",cls:"ans-tools-panel",items:[{layout:"hbox",itemId:"ansTools",border:!1,items:[{xtype:"ans-edit-tabpanel",itemId:"editTabpanel",flex:.97},{cls:"ans-tools-fullscreen",border:!1,xtype:"container",flex:.03,items:[{xtype:"cmd-fullscreen"}]}]}],afterRender:function(){var e=this;e.callParent();try{top.editor_user_setting||setTimeout(function(){e.customize()},1e3)}catch(e){}},customize:function(){CmdUIMgr.checkUI()},showTip:function(e){e='<div style="position:absolute;bottom:10px;right:0px;text-align:right;"><p>'+e+"</p></div>",this.msgBox||(this.msgBox=Ext.DomHelper.insertFirst(this.el.dom,{id:"msg-div"},!0)),(e=Ext.DomHelper.append(this.msgBox,e,!0)).hide(),e.slideIn("l",{easing:"backIn",duration:200}).ghost("l",{delay:1e3,remove:!0,easing:"ease"})},getAnsTools:function(){var e=this.getComponent("ansTools");return e||null},getEditPanel:function(){var e=this.getAnsTools();return e?e.getComponent("editTabpanel"):this.getComponent("editTabpanel")}}),Ext.define("ananas.cloud.Item",{extend:Ext.Component,baseCls:"ans-attach",selectable:!1,iconCls:"",selectedCls:"ans-cloud-item-selected",overCls:"ans-attach-over",renderTpl:['<div class="{iconCls}">{[Ext.String.htmlEncode(values.name)]}</div>'],padding:10,initEvents:function(){var e=this;e.callParent(),e.selectable&&e.el.on("click",function(){e.ownerCt&&e.ownerCt.fireEvent("selected",e),("video"==Cloud.config.filelist.f||"zt"==Cloud.config.filelist.f)&&e.el.addCls(e.selectedCls)})},initRenderData:function(){return Ext.apply(this.callParent(),{name:this.name,iconCls:this.iconCls})},unselect:function(){this.el.removeCls(this.selectedCls)},select:function(){this.el.addCls(this.selectedCls)},haveselect:function(){return this.el.hasCls(this.selectedCls)}}),Ext.define("ananas.cloud.DIR",{extend:ananas.cloud.Item,xtype:"dir",iconCls:"ans-attach-dir",initEvents:function(){var e=this;e.callParent(),e.el.on("click",function(){e.ownerCt&&e.ownerCt.fireEvent("open",e)})}}),Ext.define("ananas.cloud.ShareDIR",{extend:ananas.cloud.Item,xtype:"sharedir",iconCls:"ans-attach-dir",initEvents:function(){var e=this;e.callParent(),e.el.on("click",function(){e.ownerCt&&e.ownerCt.fireEvent("openShareDir",e)})}}),Ext.define("ananas.cloud.BACK",{extend:ananas.cloud.DIR,xtype:"back",iconCls:"ans-attach-back"}),Ext.define("ananas.cloud.FILE",{extend:ananas.cloud.Item,xtype:"file",selectable:!0}),Ext.define("ananas.cloud.SearchPanel",{extend:Ext.Component,xtype:"cloud-search",cls:"ananas-cloud-search",lastVal:"",renderTpl:'<ul class="breadcrumb fl">;<li>;<span class="cloud-search-allfile">全部文件</span>;</li>;<li class="active cloud-search-details">搜索";<span class="cloud-search-text">{[Ext.String.htmlEncode(values.searchText)]}<span>;"</li>;</ul>;<div class="coluddatasearch fr">;<input  type="text" name="" value="{[Ext.String.htmlEncode(values.placeholder)]}" class="cloud-search-input fl"  id="sw" placeholder="搜索" />;<b class="cloud-clearsearch-btn"></b>;<input type="button" name="" value="" class="cloud-search-btn fl" />;</div>'.split(";"),renderSelectors:{inputEl:"input.cloud-search-input",allFileBtnEl:"span.cloud-search-allfile",btnEl:"input.cloud-search-btn",showSearchDetail:"li.cloud-search-details",showSearchText:"span.cloud-search-text",cancleBtnEl:"b.cloud-clearsearch-btn"},initComponent:function(){this.callParent(),this.addEvents("query")},initEvents:function(){var e=this;e.callParent();var t=e.searchText;e.lastVal=t,void 0!==t&&""!=t?(e.showSearchDetail.show(),e.cancleBtnEl.show()):(e.showSearchDetail.hide(),e.cancleBtnEl.hide()),e.inputEl.on("keyup",function(t){""==e.getVal()?e.cancleBtnEl.hide():e.cancleBtnEl.show(),e.doQuery(t)}),e.allFileBtnEl.on("click",function(){""!=t&&e.ownerCt.fireEvent("query","")}),e.cancleBtnEl.on("click",function(){e.setVal(""),""!=t&&e.ownerCt.fireEvent("query","")}),e.btnEl.on("click",function(){t!=e.getVal()&&e.ownerCt.fireEvent("query",e.getVal())}),e.on("query",function(t){e.ownerCt.fireEvent("query",t)})},doQuery:function(e){this.lastVal!=this.getVal()&&13==e.keyCode&&this.fireEvent("query",this.getVal())},getVal:function(){return this.inputEl.dom.value},setVal:function(e){this.inputEl.dom.value=e},initRenderData:function(){var e=this.searchText;return Ext.apply(this.callParent(),{searchText:e,placeholder:e})}}),Ext.define("ananas.cloud.FileList",{extend:Ext.container.Container,cls:"ans-filelist",xtype:"ans-filelist",selectedItem:null,selectedobj:[],loading:null,page:1,scrolling:!1,havNextPage:!1,initComponent:function(){this.callParent(arguments),this.addEvents("selected","open","query")},removearray:function(e){for(var t=this.selectedobj.length,n=0;n<t;n++)if(this.selectedobj[n]==e){this.selectedobj.splice(n,1);break}},initEvents:function(){var e=this;e.callParent(),e.on("query",function(t){e.page=1,e.loadv2("",t)}),e.on("selected",function(t){"video"==Cloud.config.filelist.f?(e.selectedItem&&e.selectedItem.unselect(),e.selectedItem=t):t.haveselect()?(t.unselect(),e.removearray(t)):9<e.selectedobj.length?alert("批量插入数量不能大于10!"):(t.select(),e.selectedobj.push(t))}),e.on("open",function(t){"/0"==t.path&&t.puid&&Cloud.config.upload.puid!=t.puid?e.loadShareFile(t):2==Cloud.config.filelist.version?(e.page=1,e.loadv2(t)):e.load(t)}),e.on("openShareDir",function(t){e.loadShareFile(t)})},loadv2:function(a,b){void 0===b&&(b="");var c=this;Ext.Ajax.request({url:"/ananas/clouddisk/filelist",method:"get",params:{f:Cloud.config.filelist.f,d:a.path,puid:a.puid||"",shareEnc:a.shareEnc||"",page:c.page,kw:b,size:500},success:function(d){eval("var data = "+d.responseText),"video"==Cloud.config.filelist.f?c.selectedItem=null:c.selectedobj=[],1==c.page&&c.removeAll(),c.add(data.data),4>c.page&&1==data.havNextPage&&(c.page+=1,c.loadv2(a,b))},failure:function(e){e.aborted||alert("Get file list wrong.")},callback:function(){c.loading&&c.loading.setStyle("display","none")}})},load:function(a){var b=this;a=Ext.apply(Cloud.config.filelist,{d:a.path,puid:a.puid||"",page:1,size:1e3}),b.removeAll(),b.loading&&b.loading.setStyle("display","block"),Ext.Ajax.request({url:"/ananas/filelist",method:"get",params:a,success:function(a){eval("var data = "+a.responseText),"video"==Cloud.config.filelist.f?b.selectedItem=null:b.selectedobj=[],b.add(data)},failure:function(e){e.aborted||alert("Get file list wrong.")},callback:function(){b.loading&&b.loading.setStyle("display","none")}})},loadShareFile:function(){var a=this,b=Ext.apply(Cloud.config.filelist,{fldid:0});a.removeAll(),a.loading&&a.loading.setStyle("display","block"),Ext.Ajax.request({url:"/ananas/sharefilelist",method:"get",params:b,success:function(b){eval("var data = "+b.responseText),a.add(data)},failure:function(e){e.aborted||alert("Get file list wrong.")},callback:function(){a.loading&&a.loading.setStyle("display","none")}})},afterRender:function(){this.callParent()},setMaskTarget:function(e){this.maskTarget=e},setLoading:function(e){this.loading=e},fetchStatus:function(e){var t=[],n=this.selectedobj;if(this.maskTarget&&this.maskTarget.mask("获取地址，请稍等..."),!n)return!1;for(var i=0;i<n.length;i++)t.push(this.createFile(n[i])),t.length==n.length&&e&&e(t),this.maskTarget&&this.maskTarget.unmask()},fetchStatusvideo:function(e){var t=this.selectedItem;if(this.maskTarget&&this.maskTarget.mask("获取地址，请稍等..."),!t)return!1;e(this.createFile(t)),this.maskTarget&&this.maskTarget.unmask()},createFile:function(e){if(e&&(void 0!==e.cataId||e.objectid)){if(void 0!==e.cataId){var t=e.cataId;return 1==t?{cataId:t,name:e.name,filepath:e.filepath}:{cataId:t,extinfo:e.extinfo}}return(t={objectid:e.objectid,name:e.name,size:e.size,hsize:Cloud.fileSize(e.size)}).type="."+e.suffix.toLowerCase(),t}}}),Ext.define("ananas.cloud.LibraryFileList",{extend:Ext.container.Container,cls:"ans-filelist",xtype:"ans-libfilelist",selectedItem:null,selectedobj:[],current:"",parent:"",initComponent:function(){this.callParent(arguments),this.addEvents("selected","open")},removearray:function(e){for(var t=this.selectedobj.length,n=0;n<t;n++)if(this.selectedobj[n]==e){this.selectedobj.splice(n,1);break}},initEvents:function(){var e=this;e.callParent(),e.on("selected",function(t){"video"==Cloud.config.filelist.f||"zt"==Cloud.config.filelist.f?(e.selectedItem&&e.selectedItem.unselect(),e.selectedItem=t):t.haveselect()?(t.unselect(),e.removearray(t)):9<e.selectedobj.length?alert(langMap.moreNum):(t.select(),e.selectedobj.push(t))}),e.on("open",function(t){e.parent=e.current,e.current=t.path,e.load(t.path)})},load:function(a){var b=this;a=Ext.apply(Cloud.config.filelist,{i:a,p:b.parent}),Ext.Ajax.request({url:"/ananas/libfilelist",method:"get",params:a,success:function(a){if(eval("var data = "+a.responseText),b.removeAll(),a=Cloud.config.filelist.f,"video"==a||"zt"==a?b.selectedItem=null:b.selectedobj=[],0==data.length){if("zt"==a)return void b.up().getLayout().setActiveItem(1);alert(langMap.libraryEmpty)}b.add(data)},failure:function(e){e.aborted||alert("Get file list wrong.")},callback:function(){}})},afterRender:function(){this.callParent(),this.parent=this.current=""},setMaskTarget:function(e){this.maskTarget=e},fetchStatus:function(a){var b=this,c=[],d=b.selectedobj;if(b.maskTarget&&b.maskTarget.mask(langMap.getAddress+"..."),!d)return!1;for(var e=0;e<d.length;e++){var g=d[e];Ext.Ajax.request({url:"/ananas/status/"+g.objectid,async:!1,success:function(e){e=eval("("+e.responseText+")"),c.push(b.createFile(e,g)),c.length==d.length&&a&&a(c)},failure:function(){alert("Get file status wrong.")},callback:function(){b.maskTarget&&e==d.length-1&&b.maskTarget.unmask()}})}},fetchStatusvideo:function(a){var b=this,c=b.selectedItem;if(b.maskTarget&&b.maskTarget.mask(langMap.getAddress+"..."),!c||!c.objectid)return!1;Ext.Ajax.request({url:"/ananas/status/"+c.objectid,success:function(d){d=eval("("+d.responseText+")"),a&&a(b.createFile(d,c))},failure:function(){alert("Get file status wrong.")},callback:function(){b.maskTarget&&b.maskTarget.unmask()}})},fetchZTData:function(e){var t=this.selectedItem;this.maskTarget&&this.maskTarget.mask(langMap.getAddress+"..."),e&&e(t=t&&t.objectid?{id:t.objectid,title:t.name,coverurl:t.dataIntro.coverUrl,author:t.dataIntro.author,read:!0}:void 0),this.maskTarget&&this.maskTarget.unmask()},createFile:function(e,t){if(e&&e.objectid){t={objectid:e.objectid,name:t.name,size:e.length,hsize:Cloud.fileSize(e.length)};var n=e.filename.lastIndexOf(".");return 0<=n&&(t.type=e.filename.substr(n),t.type&&(t.type=t.type.toLowerCase())),t}},creatLink:function(){var e=this.selectedItem,t=ServerHosts.PAN_HOST+"/topreview/";if(e&&e.objectid)return{href:t+e.objectid,_href:t+e.objectid,textValue:e.name,title:e.name,type:"resource",data:e.objectid}}}),Ext.define("ananas.cloud.WebUploader",{extend:Ext.Component,xtype:"cloud-webuploader",cls:"cloud-swfupload",renderTpl:['<div clas="ans-cloud-swfupload">','<div class="ans-cloud-upload-info">{info}</div>',"</div>"],limit:"1000MB",samefile:"0",info:langMap.overTip,initEvents:function(){this.callParent(),this.addEvents("upload_start","upload_progress","upload_success")},initRenderData:function(){var e=Cloud.config.file_types||langMap.allFormat;try{var t=!(!top.ueconf&&!ueconf)&&(top.ueconf||ueconf)}catch(e){t=!1}return t&&t.maxUploadSize&&(this.limit=t.maxUploadSize),Ext.apply(this.callParent(),{info:langMap.over+this.limit+langMap.use+'<a href="http://pan.chaoxing.com" target="_blank">'+langMap.cxClient+"</a>"+langMap.uploadFiles+"<br/>"+langMap.support+e+'<div style="position: absolute;bottom: 0px;margin:0px;padding: 0px 0px -43px;left: 10%;width: 454px;text-align: center;">\n\t<p style="font-size:14px;color:#A8A8B3;display:inline-block;line-height: 33px;margin: 0;*/">'+langMap.readAndAccept+'\n\t<a href="https://homewh.chaoxing.com/agree/userAgreement?appId=900001" style="color:#7b9e31" target=\'_blank\'>'+langMap.userAgreement+"</a></p>\n</div>"})},afterRender:function(){this.callParent(),this.renderUploader()},getCookie:function(e){for(var t=document.cookie.split("; "),n=0;n<t.length;n++){var i=t[n].split("=");if(i[0]==e)return unescape(i[1])}},beforeFileQueued_handle:function(e){return!(1073741824<e.size)||(this.samefile="1",alert(langMap.overTip),!1)},fileQueued_handle:function(e){this.uploader.upload(e)},upload_success_handler:function(e,t){if(Ext.isObject(t))if(t.result){var n=t.data,i=!1;Ext.isString(n.objectId)&&(i={objectid:n.objectId,name:n.name,type:"."+n.suffix,size:n.size,hsize:Cloud.fileSize(n.size)}),this.fireEvent("upload_success",i,t.result)}else void 0!==t.newCode&&200020===parseInt(t.newCode)?confirm("请点击“确定”进行实名认证后再上传文件")&&window.open("https://authen.chaoxing.com/authsign/show4pc?certifyType=4","_blank"):alert(t.msg);else alert(langMap.exception)},upload_start_handler:function(e){this.fireEvent("upload_start",e)},upload_progress_handler:function(e,t,n){this.fireEvent("upload_progress",t,n)},upload_error_handler:function(e,t){this.fireEvent("upload_error",e,t)},renderUploader:function(){var e=ServerHosts.NEW_CLOUD_HOST+"/upload/uploadfile";top&&top.window&&void 0!==top.window.uoloadUrl&&""!=top.window.uoloadUrl&&(e=top.window.uoloadUrl);var t=this;(e=WebUploader.create({pick:{id:"#filePicker",label:langMap.upload,multiple:!1},formData:Cloud.config.upload,accept:Cloud.config.accept,swf:"/ananas/webuploader-0.1.5/Uploader.swf",runtimeOrder:"html5,flash",chunked:!1,chunkSize:524288,fileNumLimit:1,server:e,method:"POST",fileVal:"file",disableGlobalDnd:!0,duplicate:!0})).on("beforeFileQueued",function(e){return Ext.bind(t.beforeFileQueued_handle,t)(e)}),e.on("fileQueued",function(e){Ext.bind(t.fileQueued_handle,t)(e)}),e.on("uploadStart",function(e){Ext.bind(t.upload_start_handler,t)(e)}),e.on("uploadProgress",function(e,n){var i=Ext.bind(t.upload_progress_handler,t),r=e.size||0;i(e,n*r,r)}),e.on("uploadSuccess",function(e,n){Ext.bind(t.upload_success_handler,t)(e,n)}),e.on("uploadError",function(e,n){Ext.bind(t.upload_error_handler,t)(e,n)}),e.on("uploadComplete",function(){this.reset()}),t.uploader=e},applySetting:function(e){return e},reset:function(){var e=this.uploader;e.stop(!0),e.reset()}}),Ext.define("ananas.cloud.Progress",{extend:Ext.Component,xtype:"cloud-progress",cls:"cloud-progress",titleFormat:"{0}",renderTpl:['<div class="cloud-progress-ct">','<div class="cloud-title"></div>','<div class="cloud-progress-holder">','<div class="cloud-progress-hl"></div>',"</div>",'<div><span class="speed"></span><span class="percent"></span><span class="size"></span></div>',"</div>",'<div class="cloud-reset">'+langMap.uploadAgain+"</div>"],renderSelectors:{highlightEl:".cloud-progress-hl",titleEl:".cloud-title",sizeEl:".size",percentEl:".percent",speedEl:".speed",resetEl:".cloud-reset"},showFileInfo:function(e){var t=(t=e.name).slice(0,t.lastIndexOf(".")+1);this.titleEl.update(Ext.String.format(this.titleFormat,Ext.String.ellipsis(t,14)+e.ext)),this.sizeEl.update(Cloud.fileSize(e.size)),this.titleEl.addCls("ans-attach-"+e.ext)},initComponent:function(){this.callParent(arguments),this.addEvents("reset")},initEvents:function(){var e=this;e.callParent(),e.resetEl.on("click",function(){e.fireEvent("reset",e)})},info:function(e,t){this.compute(e,t),this.setSpeed(this.speed),this.setProgress(Math.ceil(.95*this.percent))},setSpeed:function(e){e=0==e?0:Cloud.fileSize(e),this.speedEl.update(e+"/s")},setProgress:function(e){e=0!=e?e:0,this.highlightEl.setWidth(e+"%"),this.percentEl.update(e+"%")},compute:function(e,t){var n,i;this.timer?(n=e-this.bytesComplete,i=Ext.Date.now()-this.timer,this.speed=0==i?0:1e3*n/i,this.percent=Math.ceil(e/t*100)):(this.timer=Ext.Date.now(),this.bytesComplete=e,this.percent=this.speed=0)},marked:function(e){this.el.addCls(e),this.markedCls=e},reset:function(){this.el.removeCls(this.markedCls),this.speed=this.percent=0,this.timer=!1,this.setSpeed(this.speed),this.setProgress(this.percent)}}),Ext.define("ananas.cloud.UploadPanel",{extend:Ext.container.Container,cls:"ans-cloud-upload",xtype:"ans-cloud-upload",initComponent:function(){this.callParent(arguments)},initEvents:function(){var e=this,t=e.getComponent("webuploader"),n=e.getComponent("progress"),i=e.getLayout();e.callParent(),t.on("upload_start",function(e){dialog.buttons[0].getDom().childNodes[0].childNodes[0].childNodes[0].style["background-position"]="-198px -290px",dialog.buttons[0].getDom().childNodes[0].style["pointer-events"]="none",n.showFileInfo(e),Ext.get("uploader").removeCls("topscreen"),i.setActiveItem(1)}),t.on("upload_progress",function(e,t){n.info(e,t)}),t.on("upload_success",function(t,i){if(dialog.buttons[0].getDom().childNodes[0].childNodes[0].childNodes[0].style["background-position"]=" 0 -290px",dialog.buttons[0].getDom().childNodes[0].style["pointer-events"]="all","pan-exist"==i)n.marked("error"),alert(langMap.sameTitleAndType);else if("outofsize"==i){if(n.marked("error"),confirm(langMap.cloudOver))try{top.open(ServerHosts.PAN_HOST,"_blank")}catch(e){window.open(ServerHosts.PAN_HOST,"_blank")}}else"failed"!=i?(n.marked("finish"),n.setProgress(100),e.file=t):(n.marked("error"),alert(langMap.uploadFailed))}),t.on("upload_error",function(e,t){dialog.buttons[0].getDom().childNodes[0].childNodes[0].childNodes[0].style["background-position"]=" 0 -290px",dialog.buttons[0].getDom().childNodes[0].style["pointer-events"]="all",alert(langMap.serverFailed+"（"+t+"）")}),n.on("reset",function(){dialog.buttons[0].getDom().childNodes[0].childNodes[0].childNodes[0].style["background-position"]=" 0 -290px",dialog.buttons[0].getDom().childNodes[0].style["pointer-events"]="all",i.setActiveItem(0),Ext.get("uploader").addCls("topscreen"),t.reset(),n.reset(),e.file=null}),e.on("activate",function(){i.getActiveItem()==t&&Ext.get("uploader").addCls("topscreen")}),e.on("deactivate",function(){Ext.get("uploader").removeCls("topscreen")})},layout:"card",items:[{xtype:"cloud-webuploader",itemId:"webuploader"},{xtype:"cloud-progress",itemId:"progress"}],fetchStatus:function(e){if(this.file){this.file.type&&(this.file.type=this.file.type.toLowerCase());var t=[];t.push(this.file),e(t)}return!1},fetchStatusvideo:function(e){return this.file&&(this.file.type&&(this.file.type=this.file.type.toLowerCase()),e(this.file)),!1}}),Ext.define("ananas.cloud.Panel",{extend:"ananas.Tools.Panel",xtype:"ans-clouddisk",tabs:["cloud","resource","local"],items:[{xtype:"container",layout:"hbox",itemId:"menu",cls:"ans-tools-menu",items:[{xtype:"ans-tab",html:langMap.localUpload,itemId:"local"},{xtype:"ans-tab",html:langMap.cloudDisk,itemId:"cloud"},{xtype:"ans-tab",html:langMap.resource,itemId:"resource"}]},{xtype:"container",cls:"ans-tab-panel",itemId:"tabpanel",layout:"card",height:320,items:[{xtype:"ans-filelist",itemId:"filelist",autoScroll:!0},{xtype:"ans-libfilelist",itemId:"libfilelist",autoScroll:!0},{xtype:"ans-cloud-upload",itemId:"upload"}]}],initComponent:function(){this.callParent(arguments);try{if(top.ueconf){var e=top.ueconf||ueconf,t=Cloud.config.filelist.f,n=this.getComponent("menu"),i=this.getComponent("tabpanel"),r=n.getComponent("cloud"),o=n.getComponent("resource"),a=n.getComponent("local"),s=i.getComponent("filelist"),l=i.getComponent("libfilelist"),d=i.getComponent("upload");if(config=e[{video:"insertvideo",doc:"insertdoc",all:"insertattachment",audio:"insertaudio",flash:"insertflash"}[t]],tem=this.tabs,config){!1===config.cloud&&(r.destroy(),s.destroy(),Ext.Array.remove(this.tabs,"cloud")),!1===config.library&&(o.destroy(),l.destroy(),Ext.Array.remove(this.tabs,"resource")),!1===config.upload&&(a.destroy(),d.destroy(),Ext.Array.remove(this.tabs,"local"));var c=n.getComponent(this.tabs[1]);c&&c.select()}}}catch(e){}},afterRender:function(){this.callParent(arguments);var e=this.getComponent("menu").getComponent("local");Ext.get(e.id).dom.click()},getActiveItem:function(){return this.getComponent("tabpanel").getLayout().getActiveItem()},onSelectedItem:function(e){"cloud"==e&&2==Cloud.config.filelist.version?(this.getActiveItem().page=1,this.getActiveItem().loadv2&&this.getActiveItem().loadv2("")):this.getActiveItem().load&&this.getActiveItem().load("")}}),Cloud={fileSize:function(e){var t=Math.floor(Math.log(e)/Math.log(1024));return 1*(e/Math.pow(1024,t)).toFixed(2)+" "+["B","KB","MB","GB","TB"][t]},config:{filelist:{},upload:{}}},ananas.Symbol={fraction:[{title:"分数",latexs:[{text:"\\frac{}{}"},{text:"^{}/_{}"}],indexNum:0},{title:"常用分数",latexs:[{text:"\\frac{dy}{dx}"},{text:"\\frac{ \\Delta y}{ \\Delta x}"},{text:"\\frac{\\partial y}{\\partial x}"},{text:"\\frac{\\delta y}{\\delta x}"},{text:"\\frac{\\pi}{2}"}],indexNum:1}],upplower:[{title:"下标和上标",latexs:[{text:"x^{}"},{text:"x_{}"},{text:"x^{}_{}"},{text:"_{}^{}{}"}],indexNum:2},{title:"常用的下标和上标",latexs:[{text:"x_{y^2}"},{text:"e^{-iwt}"},{text:"x^{2}"},{text:"_{1}^{n}{Y}"}],indexNum:3}],radical:[{title:"根式",latexs:[{text:"{/}sqrt{}"},{text:"{/}sqrt[]{}"},{text:"{/}sqrt[2]{}"},{text:"{/}sqrt[3]{}"}],indexNum:4},{title:"常用根式",latexs:[{text:"\\frac{-b\\pm\\sqrt{b^2-4ac}}{2a}",width:"130px",bposl:"-10px"},{text:"\\sqrt{a^2+b^2}",width:"130px",bposl:"-170px"}],indexNum:5}],integral:[{title:"积分",latexs:[{text:"\\int"},{text:"\\int_{}^{}"},{text:"\\int\\limits_{}^{}",noVisual:!0},{text:"\\iint",noVisual:!0},{text:"\\iint_{}^{}",noVisual:!0},{text:"\\iint\\limits_{}^{}",noVisual:!0},{text:"\\iiint",noVisual:!0},{text:"\\iiint_{}^{}",noVisual:!0},{text:"\\iiint\\limits_{}^{}",noVisual:!0}],indexNum:6},{title:"围道积分",latexs:[{text:"{/}oint"},{text:"{/}oint_{}^{}"},{text:"\\oint\\limits_{}^{}",noVisual:!0},{text:"hehe"},{text:"hehe"},{text:"hehe"},{text:"hehe"},{text:"hehe"},{text:"hehe"},{text:"hehe"}],indexNum:7},{title:"微分",latexs:[{text:"dx"},{text:"dy"},{text:"d{/}theta"}],indexNum:8}],boperator:[{title:"求和",latexs:[{text:"\\sum"},{text:"\\sum^{}_{}"},{text:"\\sum\\nolimits^{}_{}",noVisual:!0},{text:"\\sum_{}"},{text:"\\sum\\nolimits_{}",noVisual:!0}],indexNum:9},{title:"乘积和副积",latexs:[{text:"\\prod"},{text:"\\prod_{}^{}"},{text:"\\prod\\nolimits_{}^{}",noVisual:!0},{text:"\\prod_{}"},{text:"\\prod\\nolimits_{}",noVisual:!0},{text:"\\coprod"},{text:"\\coprod_{}^{}"},{text:"\\coprod\\nolimits_{}^{}",noVisual:!0},{text:"\\coprod_{}"},{text:"\\coprod\\nolimits_{}",noVisual:!0}],indexNum:10},{title:"并集和交集",latexs:[{text:"\\bigcup"},{text:"\\bigcup_{}^{}"},{text:"\\bigcup\\nolimits_{}^{}",noVisual:!0},{text:"\\bigcup_{}"},{text:"\\bigcup\\nolimits_{}",noVisual:!0},{text:"\\bigcap"},{text:"\\bigcap_{}^{}"},{text:"\\bigcap\\nolimits_{}^{}",noVisual:!0},{text:"\\bigcap_{}"},{text:"\\bigcap\\nolimits_{}",noVisual:!0}],indexNum:11},{title:"其他大型运算符",latexs:[{text:"\\bigvee"},{text:"\\bigvee_{}^{}"},{text:"\\bigvee\\nolimits_{}^{}",noVisual:!0},{text:"\\bigvee_{}"},{text:"\\bigvee\\nolimits_{}",noVisual:!0},{text:"\\bigwedge"},{text:"\\bigwedge_{}^{}"},{text:"\\bigwedge\\nolimits_{}^{}",noVisual:!0},{text:"\\bigwedge_{}"},{text:"\\bigwedge\\nolimits_{}",noVisual:!0}],indexNum:12},{title:"常用大型运算符",latexs:[{text:"\\sum_k\\left( ^{n}_{k}\\right)",width:"59px",bposl:"-4px"},{text:"\\sum^n_{i=0}{}",width:"59px",bposl:"-84px "},{text:"\\sum_{^{0\\le i\\le m}_{0<j<n}}P\\left(i,j\\right)",width:"130px",bposl:"-164px"},{text:"\\prod_{k=1}^nA_k",width:"59px",bposl:"-321px"},{text:"\\bigcup_{n=1}^m\\left(X_n\\cap Y_n\\right)",width:"130px",bposl:"-402px"}],indexNum:13}],brackets:[{title:"方括号",latexs:[{text:"\\left ( {} \\right )"},{text:"\\left [ {} \\right ]"},{text:"\\left \\{ {} \\right \\}"},{text:"\\left \\langle {} \\right \\rangle",noVisual:!0},{text:"\\lfloor {} \\rfloor"},{text:"\\lceil {} \\rceil"},{text:"\\left | {} \\right |"},{text:"\\left \\| {} \\right \\|",noVisual:!0},{text:"[["},{text:"]]"},{text:"]["},{text:"hehe"}],indexNum:14},{title:"带分割符的方括号",latexs:[{text:"\\left ( | \\right )"},{text:"\\left \\{ | \\right \\}"},{text:"\\left \\langle | \\right \\rangle",noVisual:!0},{text:"\\left \\langle {} | {} | {} \\right \\rangle",noVisual:!0}],indexNum:15},{title:"单方括号",latexs:[{text:"\\left ( \\right.",noVisual:!0},{text:"\\left. \\right )",noVisual:!0},{text:"\\left [ {} \\right.",noVisual:!0},{text:"\\left. {} \\right]",noVisual:!0},{text:"\\left \\{  \\right.",noVisual:!0},{text:"\\left.  \\right \\}",noVisual:!0},{text:"\\langle",noVisual:!0},{text:"\\rangle",noVisual:!0},{text:"\\lfloor"},{text:"\\rfloor"},{text:"\\lceil"},{text:"\\rceil"},{text:"\\left |{}  \\right.",noVisual:!0},{text:"\\left. {}\\right |",noVisual:!0},{text:"\\left \\|{}  \\right.",noVisual:!0},{text:"\\left. {} \\right \\|",noVisual:!0},{text:"hehe"},{text:"hehe"}],indexNum:16},{title:"事例和堆栈",latexs:[{text:"\\left \\{ _{}^{} \\right.",noVisual:!0},{text:"hehe"},{text:"\\ ^{}_{}"},{text:"\\binom{}{}"}],indexNum:17},{title:"常用方括号",latexs:[{text:"f(x) = \\left\\{ \\begin{array}{r@{\\quad\\quad}1}-x & x<0 \\\\ x & x>0 \\ \\end{array} \\right. ",width:"140px",bposl:"-4px",noVisual:!0},{text:"(^{n}_{k})",width:"59px",bposl:"-166px"},{text:"\\langle^{n}_{k}\\rangle",width:"59px",bposl:"-245px",noVisual:!0}],indexNum:18}],fun:[{title:"三角函数",latexs:[{text:"\\sin"},{text:"\\cos"},{text:"\\tan"},{text:"\\csc"},{text:"\\sec"},{text:"\\cot"}],indexNum:19},{title:"反函数",latexs:[{text:"\\sin^{-1}"},{text:"\\cos^{-1}"},{text:"\\tan^{-1}"},{text:"\\csc^{-1}"},{text:"\\sec^{-1}"},{text:"\\cot^{-1}"}],indexNum:20},{title:"双曲函数",latexs:[{text:"\\sinh"},{text:"\\cosh"},{text:"\\tanh"},{text:"csch"},{text:"sech"},{text:"\\coth"}],indexNum:21},{title:"反双曲函数",latexs:[{text:"\\sinh^{-1}"},{text:"\\cosh^{-1}"},{text:"\\tanh^{-1}"},{text:"csch^{-1}"},{text:"sech^{-1}"},{text:"\\coth^{-1}"}],indexNum:22},{title:"常用函数",latexs:[{text:"\\sin\\theta",width:"59px",bposl:"-4px"},{text:"\\cos2x",width:"59px",bposl:"-82px"},{text:"\\tan\\theta=\\frac{\\sin\\theta}{\\cos\\theta}",width:"130px",bposl:"-170px"}],indexNum:23}],derivative:[{title:"导数符号",latexs:[{text:"\\dot{}",width:"42px",bposl:"-1px",noVisual:!0},{text:"\\ddot{}",width:"42px",bposl:"-57px",noVisual:!0},{text:"\\dddot{}",width:"42px",bposl:"-114px",noVisual:!0},{text:"\\hat{}",width:"42px",bposl:"-171px",noVisual:!0},{text:"\\check{}",width:"42px",bposl:"-226px",noVisual:!0},{text:"\\acute{}",width:"42px",bposl:"-281px",noVisual:!0},{text:"\\grave{}",width:"42px",bposl:"-338px",noVisual:!0},{text:"\\breve{}",width:"42px",bposl:"-393px",noVisual:!0},{text:"\\tilde{}",width:"42px",bposl:"-450px",noVisual:!0},{text:"\\bar{}",width:"42px",bposl:"-505px",noVisual:!0},{text:"hehe"},{text:"hehe"},{text:"hehe"},{text:"hehe"},{text:"hehe"},{text:"hehe"},{text:"\\vec{}",width:"42px",bposl:"-1065px",noVisual:!0}],bimgInterval:50,bimg:"/static/editor/img/derivative-1.png"},{title:"顶线和底线",latexs:[{text:"\\overline{}",width:"42px",bposl:"-1px"},{text:"\\underline{}",width:"42px",bposl:"-57px"}],intervalH:72,indexNum:1,bimg:"/static/editor/img/formula-symbol-all-72.png"},{title:"常用的导数对象",latexs:[{text:"\\overline{A}",width:"42px",bposl:"-1px"},{text:"\\overline{ABC}",width:"42px",bposl:"-57px"},{text:"\\overline{x \\oplus y}",width:"90px",bposl:"-114px"}],intervalH:72,indexNum:2,bimg:"/static/editor/img/formula-symbol-all-72.png"}],limit:[{title:"函数",latexs:[{text:"\\log_{}"},{text:"\\log"},{text:"\\lim_{}"},{text:"\\min_{}"},{text:"\\max_{}"},{text:"\\ln"}],indexNum:24},{title:"常用函数",latexs:[{text:"\\lim_{n\\rightarrow \\infty} \\left ( {1+ \\frac{1}{n}} \\right )^{n}",width:"90px",bposl:"-12px"},{text:"\\max_{0 \\le x \\le 1}xe^{-x^2}",width:"90px",bposl:"-130px"}],indexNum:25}],operator:[{title:"基本运算符",latexs:[{text:":=",width:"42px",bposl:"-1px"},{text:"==",width:"42px",bposl:"-57px"},{text:"+=",width:"42px",bposl:"-113px"},{text:"-=",width:"42px",bposl:"-170px"},{text:"\\overset{\\underset{\\mathrm{def}}{}}{=}",width:"42px",bposl:"-226px",noVisual:!0},{text:"\\overset{\\underset{\\mathrm{m}}{}}{=}",width:"42px",bposl:"-282px",noVisual:!0},{text:"\\overset{\\underset{\\mathrm{\\Delta}}{}}{=}",width:"42px",bposl:"-338px",noVisual:!0}],intervalH:72,indexNum:3,bimg:"/static/editor/img/formula-symbol-all-72.png"},{title:"运算符结构",latexs:[{text:"\\underset{}{\\leftarrow}",width:"42px",bposl:"-1px",noVisual:!0},{text:"\\underset{}{\\rightarrow}",width:"42px",bposl:"-58px",noVisual:!0},{text:"\\overset{}{\\leftarrow}",width:"42px",bposl:"-113px",noVisual:!0},{text:"\\overset{}{\\rightarrow}",width:"42px",bposl:"-170px",noVisual:!0},{text:"\\underset{}{\\Leftarrow}",width:"42px",bposl:"-225px",noVisual:!0},{text:"\\underset{}{\\Rightarrow}",width:"42px",bposl:"-282px",noVisual:!0},{text:"\\overset{}{\\Leftarrow}",width:"42px",bposl:"-338px",noVisual:!0},{text:"\\overset{}{\\Rightarrow}",width:"42px",bposl:"-394px",noVisual:!0},{text:"\\underset{}{\\leftrightarrow }",width:"42px",bposl:"-449px",noVisual:!0},{text:"\\overset{}{\\leftrightarrow }",width:"42px",bposl:"-505px",noVisual:!0},{text:"\\underset{}{\\Leftrightarrow }",width:"42px",bposl:"-561px",noVisual:!0},{text:"\\overset{}{\\Leftrightarrow }",width:"42px",bposl:"-617px",noVisual:!0}],intervalH:72,indexNum:4,bimg:"/static/editor/img/formula-symbol-all-72.png"},{title:"常用运算符结构",latexs:[{text:"\\overset{yields}{\\rightarrow}",width:"80px",bposl:"-3px",noVisual:!0},{text:"\\overset{\\Delta}{\\rightarrow}",width:"42px",bposl:"-105px",noVisual:!0}],intervalH:72,indexNum:5,bimg:"/static/editor/img/formula-symbol-all-72.png"}],matrix:[{title:"空矩阵",latexs:[{text:"\\begin{matrix}\n  &  \n\\end{matrix}",noVisual:!0},{text:"\\begin{matrix}\n  \\\\ \n \n\\end{matrix}",noVisual:!0},{text:"\\begin{matrix}\n &  & \n\\end{matrix}",noVisual:!0},{text:"\\begin{matrix}\n \\\\ \n \\\\ \n \n\\end{matrix}",noVisual:!0},{text:"\\begin{matrix}\n & \\\\ \n  &  \n\\end{matrix}",noVisual:!0},{text:"\\begin{matrix}\n & & \\\\\n  & &  \n\\end{matrix}",noVisual:!0},{text:"\\begin{matrix}\n & \\\\\n  & \\\\\n &  \n\\end{matrix}",noVisual:!0},{text:"\\begin{matrix}\n & & \\\\\n  &  & \\\\\n &  &  \n\\end{matrix}",noVisual:!0}],indexNum:26},{title:"点",latexs:[{text:"\\cdots"},{text:"\\ldots"},{text:"\\vdots"},{text:"\\ddots"}],indexNum:27},{title:"单位矩阵",latexs:[{text:"\\begin{matrix}\n 1 & 0 \\\\\n 0 & 1 \n\\end{matrix}",noVisual:!0},{text:"\\begin{matrix}\n 1 &  \\\\\n  & 1 \n\\end{matrix}",noVisual:!0},{text:"\\begin{matrix}\n 1 & 0 & 0 \\\\\n 0  & 1 & 0 \\\\\n 0 & 0 & 1 \n\\end{matrix}",noVisual:!0},{text:"\\begin{matrix}\n 1 &  &  \\\\\n   & 1 &  \\\\\n  &  & 1 \n\\end{matrix}",noVisual:!0}],indexNum:28},{title:"括号矩阵",latexs:[{text:"\\begin{pmatrix}\n & \\\\\n & \n\\end{pmatrix}",noVisual:!0},{text:"\\begin{bmatrix}\n & \\\\\n & \n\\end{bmatrix}",noVisual:!0},{text:"\\begin{vmatrix}\n & \\\\\n & \n\\end{vmatrix}",noVisual:!0},{text:"\\begin{Vmatrix}\n & \\\\\n & \n\\end{Vmatrix}",noVisual:!0}],indexNum:29},{title:"稀疏矩阵",latexs:[{text:"\\begin{pmatrix}\n  & \\cdots &   \\\\ \n  \\vdots & \\ddots & \\vdots \\\\ \n  & \\cdots &  \n\\end{pmatrix}",width:"130px",bposl:"-9px",noVisual:!0},{text:"\\begin{bmatrix}\n  & \\cdots &   \\\\ \n  \\vdots & \\ddots & \\vdots \\\\ \n  & \\cdots &  \n\\end{bmatrix}",width:"130px",bposl:"-170px",noVisual:!0}],indexNum:30}]},Ext.define("ananas.FormulaPanel.Symbol",{extend:Ext.Component,xtype:"ans-formula-symbol",autoEl:{tag:"ul",cls:"symbol-list"},afterRender:function(){this.callParent(arguments);for(var e=Ext.DomHelper,t="pm infty speci-equal ne sim times div speci-exclamation propto speci-lessthan fuck speci-greater gg le ge mp cong approx equiv forall fuck partial fuck fuck fuck cup cap emptyset speci-percent speci-circ fuck fuck Delta nabla exists fuck in ni leftarrow uparrow rightarrow downarrow leftrightarrow therefore speci-plus speci-minus neg alpha beta gamma delta varepsilon epsilon theta vartheta mu pi rho sigma tau varphi omega ast bullet vdots cdots ddots fuck aleph fuck fuck because subseteq subset supseteq supset".split(" "),n=0,i=t.length;n<i;n++)"fuck"!=t[n]&&e.append(this.el,{tag:"li","data-latex":"\\"+t[n],style:"background-position:-"+30*n+"px 0"})}}),Ext.define("ananas.FormulaPanel.SymbolButton",{extend:Ext.Component,xtype:"symbol-btn",overCls:"ans-over",baseCls:"ans-symbol-ui",poptpl:['<div class="struct-pupop hidden">','<tpl for=".">',"<div>","<span>{title}</span>","<ul>",'<tpl for="latexs">','<tpl if="this.s(values)">','<li style="{[this.style(values,xindex,parent.indexNum)]}">','<a href="javascript:void(0)" data-latex="{text}" title="{text}" style="{[this.width(values)]}"></a>',"</li>","</tpl>","</tpl>","</ul>","</div>","</tpl>","</div>",{s:function(e){return!e.noVisual&&"hehe"!=e.text},style:function(e,t,n){return t="-"+(4+80*(t-1))+"px",e.bposl&&(t=e.bposl),"background-position: "+t+" -"+(96*n+8)+"px"},width:function(e){return(e=e.width)?"width:"+e:""}}],afterRender:function(){var e=this,t=new Ext.XTemplate(e.poptpl),n=ananas.Symbol[e.latexCmd];e.callParent(arguments),e.el.addCls(e.latexCmd),e.pressedCls=e.latexCmd+"-pressed",e.popEl=t.append(e.el,n,!0),e.doc.on("click",e.onDocHidden,e),e.el.on("click",function(t){ananas.Symbol.selected&&ananas.Symbol.selected!=e&&ananas.Symbol.selected.popEl.addCls("hidden"),e.popEl.hasCls("hidden")&&(e.popEl.removeCls("hidden"),ananas.Symbol.selected=e,t.stopEvent())})},onDocHidden:function(){ananas.Symbol.selected&&ananas.Symbol.selected.popEl.addCls("hidden")},onRender:function(){this.doc=Ext.getDoc(),this.mon(this.el,{mousedown:this.onMouseDown,scope:this}),this.callParent(arguments)},onMouseDown:function(e){!this.disabled&&0===e.button&&(this.addCls(this.pressedCls),this.doc.on("mouseup",this.onMouseUp,this),this.startClick=!0)},onMouseUp:function(e){0===e.button&&(this.removeCls(this.pressedCls),this.doc.un("mouseup",this.onMouseUp,this),this.startClick&&(this.startClick=!1))}}),Ext.define("ananas.FormulaPanel.SymbolPanel",{extend:Ext.container.Container,xtype:"symbol-all-panel",defaultType:"symbol-btn",items:[{latexCmd:"fraction"},{latexCmd:"upplower"},{latexCmd:"radical"},{latexCmd:"integral"},{latexCmd:"boperator"},{latexCmd:"brackets"},{latexCmd:"fun"},{latexCmd:"limit"}],margin:5}),Ext.define("ananas.FormulaPanel.WYSIWYG.TextArea",{extend:Ext.Component,xtype:"ans-formula-wysiwyg-textarea",cls:"ans-formula-wysiwyg-textarea",height:130,padding:10,afterRender:function(){this.callParent(arguments),this.textarea=$("<span/>").mathquill("editable").appendTo(this.el.dom)},latex:function(e){var t=this.textarea;if(!e)return t.mathquill("latex");t.mathquill("latex",e)},cmd:function(e){e=e.replace("{/}","\\"),this.textarea.mathquill("write",e)}}),Ext.define("ananas.FormulaPanel.WYSIWYG",{extend:Ext.container.Container,xtype:"ans-formula-wysiwyg",items:[{xtype:"container",itemId:"panel",items:[{xtype:"symbol-all-panel"},{xtype:"ans-formula-symbol"},{xtype:"ans-formula-wysiwyg-textarea",itemId:"body"}]}],afterRender:function(){this.callParent(arguments),this.body=this.getComponent("panel").getComponent("body")},latex:function(e){return this.body.latex(e)},cmd:function(e){this.body.cmd(e)}}),Ext.define("ananas.FormulaPanel.SOURSE.TextArea",{extend:Ext.Component,xtype:"ans-formula-src-textarea",cls:"ans-formula-src-textarea",height:130,padding:10,afterRender:function(){this.callParent(arguments),this.textarea=$("<textarea/>").appendTo(this.el.dom)},latex:function(e){var t=this.textarea;if(!e)return t.val();t.val(e)}}),Ext.define("ananas.FormulaPanel.SRC",{extend:ananas.FormulaPanel.WYSIWYG,xtype:"ans-formula-src",items:[{itemId:"panel",xtype:"container",items:[{xtype:"ans-formula-src-textarea",itemId:"body"}]}]}),Ext.define("ananas.FormulaPanel",{extend:"ananas.Tools.Panel",xtype:"ans-formula-panel",cls:"ans-formula-panel",tabs:["wysiwyg","source"],items:[{xtype:"container",layout:"hbox",itemId:"menu",cls:"ans-tools-menu",items:[{xtype:"ans-tab",html:langMap.visualEditing,itemId:"wysiwyg",selected:!0},{xtype:"ans-tab",html:langMap.sourceEdit,itemId:"source"}]},{xtype:"container",cls:"ans-tab-panel",itemId:"tabpanel",layout:"card",height:320,items:[{xtype:"ans-formula-wysiwyg",itemId:"wysiwyg"},{xtype:"ans-formula-src",itemId:"source"}]}],afterRender:function(){this.callParent(arguments),this.wysiwyg=this.getTabContent("wysiwyg"),this.source=this.getTabContent("source")},onSelectedItem:function(e){var t=this["wysiwyg"==e?"source":"wysiwyg"].latex();t&&this[e].latex(t)},latex:function(e){return this.getActiveItem().latex(e)},specialSymbol:{equal:"=",exclamation:"!",lessthan:"<",greater:">",percent:"\\%",plus:"+",minus:"-",circ:"^\\circ"},cmd:function(e){var t=this.getActiveItem();return e&&0==e.indexOf("\\speci-")&&(e=this.specialSymbol[e.split("-")[1]]),t.cmd(e)},fetchStatus:function(a){var b=this.latex();return!b||(Ext.Ajax.request({url:"/ananas/latex/render",method:"get",params:{formula:b},success:function(b){eval("var data = "+b.responseText),a&&a(data)},failure:function(){alert("server error: render img failed")}}),!1)}}),Ext.define("ananas.studytopic.Panel",{extend:Ext.container.Container,xtype:"ans-studytopic",layout:"card",items:[{xtype:"ans-libfilelist",itemId:"libfilelist",autoScroll:!0},{xtype:"studytopic.tip",itemId:"tip"}],initComponent:function(){this.callParent(arguments)},afterRender:function(){this.callParent(arguments),this.getComponent("libfilelist").load()}}),Ext.define("ananas.studytopic.FILE",{extend:ananas.cloud.Item,xtype:"ZTfile",selectable:!0,renderTpl:['<div class="{iconCls}" style="padding-left:0px;"><img src="{coverUrl}" width="30px" height="26px"/><span style="display:inline-block;position: relative;bottom:24%;left: 10px;">{[Ext.String.htmlEncode(values.name)]}</span></div>'],initRenderData:function(){return Ext.apply(this.callParent(),{name:this.name,coverUrl:this.dataIntro.coverUrl,iconCls:this.iconCls})}}),Ext.define("ananas.studytopic.tip",{extend:Ext.Component,cls:"tipstyle",xtype:"studytopic.tip",html:'<div><p style="margin-bottom:16px;">'+langMap.noZt+'</p><a id="jumpel" href="javascript:void(0)">'+langMap.toAdd+"</a></div>",initEvents:function(){var e=this;e.callParent(),e.el.on("click",function(t,n){n==Ext.getDom("jumpel")&&e.jump()})},jump:function(){dialog.close(!0);var e=window.generateHerf();try{top.window.open(e)}catch(t){window.open(e)}}});
